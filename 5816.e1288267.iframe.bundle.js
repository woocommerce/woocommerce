"use strict";(self.webpackChunk_woocommerce_storybook=self.webpackChunk_woocommerce_storybook||[]).push([[5816],{"../../packages/js/data/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Jd:()=>useUser,HW:()=>useUserPreferences});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,{getDirtyKeys:()=>getDirtyKeys,getIsDirty:()=>getIsDirty,getLastSettingsErrorForGroup:()=>getLastSettingsErrorForGroup,getSetting:()=>getSetting,getSettings:()=>getSettings,getSettingsError:()=>getSettingsError,getSettingsForGroup:()=>getSettingsForGroup,getSettingsGroupNames:()=>getSettingsGroupNames,isUpdateSettingsRequesting:()=>isUpdateSettingsRequesting});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{clearIsDirty:()=>clearIsDirty,clearSettings:()=>clearSettings,persistSettingsForGroup:()=>persistSettingsForGroup,setIsRequesting:()=>setIsRequesting,updateAndPersistSettingsForGroup:()=>updateAndPersistSettingsForGroup,updateErrorForGroup:()=>updateErrorForGroup,updateSettingsForGroup:()=>updateSettingsForGroup});var resolvers_namespaceObject={};__webpack_require__.r(resolvers_namespaceObject),__webpack_require__.d(resolvers_namespaceObject,{getSettings:()=>resolvers_getSettings,getSettingsForGroup:()=>resolvers_getSettingsForGroup});var plugins_selectors_namespaceObject={};__webpack_require__.r(plugins_selectors_namespaceObject),__webpack_require__.d(plugins_selectors_namespaceObject,{getActivePlugins:()=>getActivePlugins,getInstalledPlugins:()=>getInstalledPlugins,getJetpackConnectUrl:()=>getJetpackConnectUrl,getJetpackConnectionData:()=>getJetpackConnectionData,getPaypalOnboardingStatus:()=>getPaypalOnboardingStatus,getPluginInstallState:()=>getPluginInstallState,getPluginsError:()=>getPluginsError,getRecommendedPlugins:()=>getRecommendedPlugins,isJetpackConnected:()=>isJetpackConnected,isPluginsRequesting:()=>isPluginsRequesting});var plugins_actions_namespaceObject={};__webpack_require__.r(plugins_actions_namespaceObject),__webpack_require__.d(plugins_actions_namespaceObject,{activatePlugins:()=>activatePlugins,connectToJetpack:()=>connectToJetpack,connectToJetpackWithFailureRedirect:()=>connectToJetpackWithFailureRedirect,createErrorNotice:()=>createErrorNotice,dismissRecommendedPlugins:()=>dismissRecommendedPlugins,installAndActivatePlugins:()=>installAndActivatePlugins,installJetpackAndConnect:()=>installJetpackAndConnect,installPlugins:()=>installPlugins,setError:()=>setError,setIsRequesting:()=>actions_setIsRequesting,setPaypalOnboardingStatus:()=>setPaypalOnboardingStatus,setRecommendedPlugins:()=>setRecommendedPlugins,updateActivePlugins:()=>updateActivePlugins,updateInstalledPlugins:()=>updateInstalledPlugins,updateIsJetpackConnected:()=>updateIsJetpackConnected,updateJetpackConnectUrl:()=>updateJetpackConnectUrl,updateJetpackConnectionData:()=>updateJetpackConnectionData});var options_selectors_namespaceObject={};__webpack_require__.r(options_selectors_namespaceObject),__webpack_require__.d(options_selectors_namespaceObject,{getOption:()=>getOption,getOptionsRequestingError:()=>getOptionsRequestingError,getOptionsUpdatingError:()=>getOptionsUpdatingError,isOptionsUpdating:()=>isOptionsUpdating});var options_actions_namespaceObject={};__webpack_require__.r(options_actions_namespaceObject),__webpack_require__.d(options_actions_namespaceObject,{receiveOptions:()=>receiveOptions,setIsUpdating:()=>setIsUpdating,setRequestingError:()=>setRequestingError,setUpdatingError:()=>setUpdatingError,updateOptions:()=>updateOptions});var options_resolvers_namespaceObject={};__webpack_require__.r(options_resolvers_namespaceObject),__webpack_require__.d(options_resolvers_namespaceObject,{getOption:()=>resolvers_getOption});var plugins_resolvers_namespaceObject={};__webpack_require__.r(plugins_resolvers_namespaceObject),__webpack_require__.d(plugins_resolvers_namespaceObject,{getActivePlugins:()=>resolvers_getActivePlugins,getInstalledPlugins:()=>resolvers_getInstalledPlugins,getJetpackConnectUrl:()=>resolvers_getJetpackConnectUrl,getJetpackConnectionData:()=>resolvers_getJetpackConnectionData,getPaypalOnboardingStatus:()=>resolvers_getPaypalOnboardingStatus,getRecommendedPlugins:()=>resolvers_getRecommendedPlugins,isJetpackConnected:()=>resolvers_isJetpackConnected});var onboarding_selectors_namespaceObject={};__webpack_require__.r(onboarding_selectors_namespaceObject),__webpack_require__.d(onboarding_selectors_namespaceObject,{getEmailPrefill:()=>getEmailPrefill,getFreeExtensions:()=>getFreeExtensions,getJetpackAuthUrl:()=>getJetpackAuthUrl,getOnboardingError:()=>getOnboardingError,getPaymentGatewaySuggestions:()=>getPaymentGatewaySuggestions,getProductTypes:()=>getProductTypes,getProfileItems:()=>getProfileItems,getTask:()=>getTask,getTaskList:()=>getTaskList,getTaskLists:()=>getTaskLists,getTaskListsByIds:()=>getTaskListsByIds,isOnboardingRequesting:()=>isOnboardingRequesting});var onboarding_actions_namespaceObject={};__webpack_require__.r(onboarding_actions_namespaceObject),__webpack_require__.d(onboarding_actions_namespaceObject,{actionTask:()=>actionTask,actionTaskError:()=>actionTaskError,actionTaskRequest:()=>actionTaskRequest,actionTaskSuccess:()=>actionTaskSuccess,coreProfilerCompleted:()=>coreProfilerCompleted,coreProfilerCompletedError:()=>coreProfilerCompletedError,coreProfilerCompletedRequest:()=>coreProfilerCompletedRequest,coreProfilerCompletedSuccess:()=>coreProfilerCompletedSuccess,dismissTask:()=>dismissTask,dismissTaskError:()=>dismissTaskError,dismissTaskRequest:()=>dismissTaskRequest,dismissTaskSuccess:()=>dismissTaskSuccess,getFreeExtensionsError:()=>getFreeExtensionsError,getFreeExtensionsSuccess:()=>getFreeExtensionsSuccess,getProductTypesError:()=>getProductTypesError,getProductTypesSuccess:()=>getProductTypesSuccess,getTaskListsError:()=>getTaskListsError,getTaskListsSuccess:()=>getTaskListsSuccess,hideTaskList:()=>hideTaskList,hideTaskListError:()=>hideTaskListError,hideTaskListRequest:()=>hideTaskListRequest,hideTaskListSuccess:()=>hideTaskListSuccess,installAndActivatePluginsAsync:()=>installAndActivatePluginsAsync,keepCompletedTaskList:()=>keepCompletedTaskList,keepCompletedTaskListSuccess:()=>keepCompletedTaskListSuccess,optimisticallyCompleteTask:()=>optimisticallyCompleteTask,optimisticallyCompleteTaskRequest:()=>optimisticallyCompleteTaskRequest,setEmailPrefill:()=>setEmailPrefill,setError:()=>actions_setError,setIsRequesting:()=>onboarding_actions_setIsRequesting,setJetpackAuthUrl:()=>setJetpackAuthUrl,setPaymentMethods:()=>setPaymentMethods,setProfileItems:()=>setProfileItems,snoozeTask:()=>snoozeTask,snoozeTaskError:()=>snoozeTaskError,snoozeTaskRequest:()=>snoozeTaskRequest,snoozeTaskSuccess:()=>snoozeTaskSuccess,undoDismissTask:()=>undoDismissTask,undoDismissTaskError:()=>undoDismissTaskError,undoDismissTaskRequest:()=>undoDismissTaskRequest,undoDismissTaskSuccess:()=>undoDismissTaskSuccess,undoSnoozeTask:()=>undoSnoozeTask,undoSnoozeTaskError:()=>undoSnoozeTaskError,undoSnoozeTaskRequest:()=>undoSnoozeTaskRequest,undoSnoozeTaskSuccess:()=>undoSnoozeTaskSuccess,unhideTaskList:()=>unhideTaskList,unhideTaskListError:()=>unhideTaskListError,unhideTaskListRequest:()=>unhideTaskListRequest,unhideTaskListSuccess:()=>unhideTaskListSuccess,updateProfileItems:()=>updateProfileItems,visitedTask:()=>visitedTask});var onboarding_resolvers_namespaceObject={};__webpack_require__.r(onboarding_resolvers_namespaceObject),__webpack_require__.d(onboarding_resolvers_namespaceObject,{getEmailPrefill:()=>resolvers_getEmailPrefill,getFreeExtensions:()=>resolvers_getFreeExtensions,getJetpackAuthUrl:()=>resolvers_getJetpackAuthUrl,getPaymentGatewaySuggestions:()=>resolvers_getPaymentGatewaySuggestions,getProductTypes:()=>resolvers_getProductTypes,getProfileItems:()=>resolvers_getProfileItems,getTask:()=>resolvers_getTask,getTaskList:()=>resolvers_getTaskList,getTaskLists:()=>resolvers_getTaskLists,getTaskListsByIds:()=>resolvers_getTaskListsByIds});var reviews_selectors_namespaceObject={};__webpack_require__.r(reviews_selectors_namespaceObject),__webpack_require__.d(reviews_selectors_namespaceObject,{getReviews:()=>getReviews,getReviewsError:()=>getReviewsError,getReviewsTotalCount:()=>getReviewsTotalCount});var reviews_actions_namespaceObject={};__webpack_require__.r(reviews_actions_namespaceObject),__webpack_require__.d(reviews_actions_namespaceObject,{deleteReview:()=>deleteReview,setError:()=>reviews_actions_setError,setReview:()=>setReview,setReviewIsUpdating:()=>setReviewIsUpdating,updateReview:()=>updateReview,updateReviews:()=>updateReviews});var reviews_resolvers_namespaceObject={};__webpack_require__.r(reviews_resolvers_namespaceObject),__webpack_require__.d(reviews_resolvers_namespaceObject,{getReviews:()=>resolvers_getReviews,getReviewsTotalCount:()=>resolvers_getReviewsTotalCount});var notes_selectors_namespaceObject={};__webpack_require__.r(notes_selectors_namespaceObject),__webpack_require__.d(notes_selectors_namespaceObject,{getNotes:()=>getNotes,getNotesError:()=>getNotesError,isNotesRequesting:()=>isNotesRequesting});var notes_actions_namespaceObject={};__webpack_require__.r(notes_actions_namespaceObject),__webpack_require__.d(notes_actions_namespaceObject,{batchUpdateNotes:()=>batchUpdateNotes,removeAllNotes:()=>removeAllNotes,removeNote:()=>removeNote,setError:()=>notes_actions_setError,setIsRequesting:()=>notes_actions_setIsRequesting,setNote:()=>setNote,setNoteIsUpdating:()=>setNoteIsUpdating,setNotes:()=>setNotes,setNotesQuery:()=>setNotesQuery,triggerNoteAction:()=>triggerNoteAction,updateNote:()=>updateNote});var notes_resolvers_namespaceObject={};__webpack_require__.r(notes_resolvers_namespaceObject),__webpack_require__.d(notes_resolvers_namespaceObject,{getNotes:()=>resolvers_getNotes});var reports_selectors_namespaceObject={};__webpack_require__.r(reports_selectors_namespaceObject),__webpack_require__.d(reports_selectors_namespaceObject,{getReportItems:()=>getReportItems,getReportItemsError:()=>getReportItemsError,getReportStats:()=>getReportStats,getReportStatsError:()=>getReportStatsError});var reports_actions_namespaceObject={};__webpack_require__.r(reports_actions_namespaceObject),__webpack_require__.d(reports_actions_namespaceObject,{setReportItems:()=>setReportItems,setReportItemsError:()=>setReportItemsError,setReportStats:()=>setReportStats,setReportStatsError:()=>setReportStatsError});var reports_resolvers_namespaceObject={};__webpack_require__.r(reports_resolvers_namespaceObject),__webpack_require__.d(reports_resolvers_namespaceObject,{getReportItems:()=>resolvers_getReportItems,getReportStats:()=>resolvers_getReportStats});var countries_selectors_namespaceObject={};__webpack_require__.r(countries_selectors_namespaceObject),__webpack_require__.d(countries_selectors_namespaceObject,{geolocate:()=>geolocate,getCountries:()=>getCountries,getCountry:()=>getCountry,getLocale:()=>getLocale,getLocales:()=>getLocales});var countries_actions_namespaceObject={};__webpack_require__.r(countries_actions_namespaceObject),__webpack_require__.d(countries_actions_namespaceObject,{geolocationError:()=>geolocationError,geolocationSuccess:()=>geolocationSuccess,getCountriesError:()=>getCountriesError,getCountriesSuccess:()=>getCountriesSuccess,getLocalesError:()=>getLocalesError,getLocalesSuccess:()=>getLocalesSuccess});var countries_resolvers_namespaceObject={};__webpack_require__.r(countries_resolvers_namespaceObject),__webpack_require__.d(countries_resolvers_namespaceObject,{geolocate:()=>resolvers_geolocate,getCountries:()=>resolvers_getCountries,getCountry:()=>resolvers_getCountry,getLocale:()=>resolvers_getLocale,getLocales:()=>resolvers_getLocales});var navigation_selectors_namespaceObject={};__webpack_require__.r(navigation_selectors_namespaceObject),__webpack_require__.d(navigation_selectors_namespaceObject,{getFavorites:()=>getFavorites,getMenuItems:()=>getMenuItems,getPersistedQuery:()=>getPersistedQuery,isNavigationRequesting:()=>isNavigationRequesting});var navigation_actions_namespaceObject={};__webpack_require__.r(navigation_actions_namespaceObject),__webpack_require__.d(navigation_actions_namespaceObject,{addFavorite:()=>addFavorite,addFavoriteFailure:()=>addFavoriteFailure,addFavoriteRequest:()=>addFavoriteRequest,addFavoriteSuccess:()=>addFavoriteSuccess,addMenuItems:()=>addMenuItems,getFavoritesFailure:()=>getFavoritesFailure,getFavoritesRequest:()=>getFavoritesRequest,getFavoritesSuccess:()=>getFavoritesSuccess,onHistoryChange:()=>onHistoryChange,onLoad:()=>onLoad,removeFavorite:()=>removeFavorite,removeFavoriteFailure:()=>removeFavoriteFailure,removeFavoriteRequest:()=>removeFavoriteRequest,removeFavoriteSuccess:()=>removeFavoriteSuccess,setMenuItems:()=>setMenuItems});var navigation_resolvers_namespaceObject={};__webpack_require__.r(navigation_resolvers_namespaceObject),__webpack_require__.d(navigation_resolvers_namespaceObject,{getFavorites:()=>resolvers_getFavorites});var items_selectors_namespaceObject={};__webpack_require__.r(items_selectors_namespaceObject),__webpack_require__.d(items_selectors_namespaceObject,{getItems:()=>getItems,getItemsError:()=>getItemsError,getItemsTotalCount:()=>getItemsTotalCount});var items_actions_namespaceObject={};__webpack_require__.r(items_actions_namespaceObject),__webpack_require__.d(items_actions_namespaceObject,{createProductFromTemplate:()=>createProductFromTemplate,setError:()=>items_actions_setError,setItem:()=>setItem,setItems:()=>setItems,setItemsTotalCount:()=>setItemsTotalCount,updateProductStock:()=>updateProductStock});var items_resolvers_namespaceObject={};__webpack_require__.r(items_resolvers_namespaceObject),__webpack_require__.d(items_resolvers_namespaceObject,{getItems:()=>resolvers_getItems,getItemsTotalCount:()=>resolvers_getItemsTotalCount,getReviewsTotalCount:()=>items_resolvers_getReviewsTotalCount});var payment_gateways_actions_namespaceObject={};__webpack_require__.r(payment_gateways_actions_namespaceObject),__webpack_require__.d(payment_gateways_actions_namespaceObject,{getPaymentGatewayError:()=>getPaymentGatewayError,getPaymentGatewayRequest:()=>getPaymentGatewayRequest,getPaymentGatewaySuccess:()=>getPaymentGatewaySuccess,getPaymentGatewaysError:()=>getPaymentGatewaysError,getPaymentGatewaysRequest:()=>getPaymentGatewaysRequest,getPaymentGatewaysSuccess:()=>getPaymentGatewaysSuccess,updatePaymentGateway:()=>updatePaymentGateway,updatePaymentGatewayError:()=>updatePaymentGatewayError,updatePaymentGatewayRequest:()=>updatePaymentGatewayRequest,updatePaymentGatewaySuccess:()=>updatePaymentGatewaySuccess});var payment_gateways_resolvers_namespaceObject={};__webpack_require__.r(payment_gateways_resolvers_namespaceObject),__webpack_require__.d(payment_gateways_resolvers_namespaceObject,{getPaymentGateway:()=>getPaymentGateway,getPaymentGateways:()=>getPaymentGateways});var payment_gateways_selectors_namespaceObject={};__webpack_require__.r(payment_gateways_selectors_namespaceObject),__webpack_require__.d(payment_gateways_selectors_namespaceObject,{getPaymentGateway:()=>selectors_getPaymentGateway,getPaymentGatewayError:()=>selectors_getPaymentGatewayError,getPaymentGateways:()=>selectors_getPaymentGateways,isPaymentGatewayUpdating:()=>isPaymentGatewayUpdating});var shipping_methods_actions_namespaceObject={};__webpack_require__.r(shipping_methods_actions_namespaceObject),__webpack_require__.d(shipping_methods_actions_namespaceObject,{getShippingMethodsError:()=>getShippingMethodsError,getShippingMethodsRequest:()=>getShippingMethodsRequest,getShippingMethodsSuccess:()=>getShippingMethodsSuccess});var shipping_methods_resolvers_namespaceObject={};__webpack_require__.r(shipping_methods_resolvers_namespaceObject),__webpack_require__.d(shipping_methods_resolvers_namespaceObject,{getShippingMethods:()=>getShippingMethods});var shipping_methods_selectors_namespaceObject={};__webpack_require__.r(shipping_methods_selectors_namespaceObject),__webpack_require__.d(shipping_methods_selectors_namespaceObject,{getShippingMethods:()=>selectors_getShippingMethods,isShippingMethodsUpdating:()=>isShippingMethodsUpdating});var products_selectors_namespaceObject={};__webpack_require__.r(products_selectors_namespaceObject),__webpack_require__.d(products_selectors_namespaceObject,{getCreateProductError:()=>getCreateProductError,getDeleteProductError:()=>getDeleteProductError,getPermalinkParts:()=>getPermalinkParts,getProduct:()=>getProduct,getProducts:()=>getProducts,getProductsError:()=>getProductsError,getProductsTotalCount:()=>getProductsTotalCount,getRelatedProducts:()=>getRelatedProducts,getSuggestedProducts:()=>getSuggestedProducts,getUpdateProductError:()=>getUpdateProductError,isPending:()=>isPending});var products_actions_namespaceObject={};__webpack_require__.r(products_actions_namespaceObject),__webpack_require__.d(products_actions_namespaceObject,{createProduct:()=>createProduct,createProductError:()=>createProductError,deleteProduct:()=>deleteProduct,deleteProductError:()=>deleteProductError,deleteProductStart:()=>deleteProductStart,deleteProductSuccess:()=>deleteProductSuccess,duplicateProduct:()=>duplicateProduct,duplicateProductError:()=>duplicateProductError,getProductError:()=>getProductError,getProductSuccess:()=>getProductSuccess,getProductsError:()=>actions_getProductsError,getProductsSuccess:()=>getProductsSuccess,getProductsTotalCountError:()=>getProductsTotalCountError,getProductsTotalCountSuccess:()=>getProductsTotalCountSuccess,setSuggestedProductAction:()=>setSuggestedProductAction,updateProduct:()=>updateProduct,updateProductError:()=>updateProductError});var products_resolvers_namespaceObject={};__webpack_require__.r(products_resolvers_namespaceObject),__webpack_require__.d(products_resolvers_namespaceObject,{getPermalinkParts:()=>resolvers_getPermalinkParts,getProduct:()=>resolvers_getProduct,getProducts:()=>resolvers_getProducts,getProductsTotalCount:()=>resolvers_getProductsTotalCount,getRelatedProducts:()=>resolvers_getRelatedProducts,getSuggestedProducts:()=>resolvers_getSuggestedProducts});var orders_selectors_namespaceObject={};__webpack_require__.r(orders_selectors_namespaceObject),__webpack_require__.d(orders_selectors_namespaceObject,{getOrders:()=>getOrders,getOrdersError:()=>getOrdersError,getOrdersTotalCount:()=>getOrdersTotalCount});var orders_actions_namespaceObject={};__webpack_require__.r(orders_actions_namespaceObject),__webpack_require__.d(orders_actions_namespaceObject,{getOrderError:()=>getOrderError,getOrderSuccess:()=>getOrderSuccess,getOrdersError:()=>actions_getOrdersError,getOrdersSuccess:()=>getOrdersSuccess,getOrdersTotalCountError:()=>getOrdersTotalCountError,getOrdersTotalCountSuccess:()=>getOrdersTotalCountSuccess});var orders_resolvers_namespaceObject={};__webpack_require__.r(orders_resolvers_namespaceObject),__webpack_require__.d(orders_resolvers_namespaceObject,{getOrders:()=>resolvers_getOrders,getOrdersTotalCount:()=>resolvers_getOrdersTotalCount});var product_variations_actions_namespaceObject={};__webpack_require__.r(product_variations_actions_namespaceObject),__webpack_require__.d(product_variations_actions_namespaceObject,{batchUpdateProductVariations:()=>batchUpdateProductVariations,batchUpdateProductVariationsError:()=>batchUpdateProductVariationsError,generateProductVariations:()=>generateProductVariations,generateProductVariationsError:()=>generateProductVariationsError,generateProductVariationsRequest:()=>generateProductVariationsRequest,generateProductVariationsSuccess:()=>generateProductVariationsSuccess});var product_variations_selectors_namespaceObject={};__webpack_require__.r(product_variations_selectors_namespaceObject),__webpack_require__.d(product_variations_selectors_namespaceObject,{generateProductVariationsError:()=>selectors_generateProductVariationsError,isGeneratingVariations:()=>isGeneratingVariations});var product_form_selectors_namespaceObject={};__webpack_require__.r(product_form_selectors_namespaceObject),__webpack_require__.d(product_form_selectors_namespaceObject,{getField:()=>getField,getFields:()=>getFields,getProductForm:()=>getProductForm});var product_form_actions_namespaceObject={};__webpack_require__.r(product_form_actions_namespaceObject),__webpack_require__.d(product_form_actions_namespaceObject,{getFieldsError:()=>getFieldsError,getFieldsSuccess:()=>getFieldsSuccess,getProductFormError:()=>getProductFormError,getProductFormSuccess:()=>getProductFormSuccess});var product_form_resolvers_namespaceObject={};__webpack_require__.r(product_form_resolvers_namespaceObject),__webpack_require__.d(product_form_resolvers_namespaceObject,{getFields:()=>resolvers_getFields,getProductForm:()=>resolvers_getProductForm});var tax_classes_resolvers_namespaceObject={};__webpack_require__.r(tax_classes_resolvers_namespaceObject),__webpack_require__.d(tax_classes_resolvers_namespaceObject,{getTaxClasses:()=>getTaxClasses});var export_selectors_namespaceObject={};__webpack_require__.r(export_selectors_namespaceObject),__webpack_require__.d(export_selectors_namespaceObject,{getError:()=>getError,getExportId:()=>getExportId,isExportRequesting:()=>isExportRequesting});var export_actions_namespaceObject={};__webpack_require__.r(export_actions_namespaceObject),__webpack_require__.d(export_actions_namespaceObject,{setError:()=>export_actions_setError,setExportId:()=>setExportId,setIsRequesting:()=>export_actions_setIsRequesting,startExport:()=>startExport});var import_selectors_namespaceObject={};__webpack_require__.r(import_selectors_namespaceObject),__webpack_require__.d(import_selectors_namespaceObject,{getFormSettings:()=>getFormSettings,getImportError:()=>getImportError,getImportStarted:()=>getImportStarted,getImportStatus:()=>getImportStatus,getImportTotals:()=>getImportTotals});var import_actions_namespaceObject={};__webpack_require__.r(import_actions_namespaceObject),__webpack_require__.d(import_actions_namespaceObject,{setImportError:()=>setImportError,setImportPeriod:()=>setImportPeriod,setImportStarted:()=>setImportStarted,setImportStatus:()=>setImportStatus,setImportTotals:()=>setImportTotals,setSkipPrevious:()=>setSkipPrevious,updateImportation:()=>updateImportation});var import_resolvers_namespaceObject={};__webpack_require__.r(import_resolvers_namespaceObject),__webpack_require__.d(import_resolvers_namespaceObject,{getImportStatus:()=>resolvers_getImportStatus,getImportTotals:()=>resolvers_getImportTotals});__webpack_require__("../../node_modules/.pnpm/@wordpress+core-data@4.4.5_react@17.0.2/node_modules/@wordpress/core-data/build-module/index.js");var data_build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+data@6.6.1_react@17.0.2/node_modules/@wordpress/data/build-module/index.js"),data_controls_build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+data-controls@2.6.1_react@17.0.2/node_modules/@wordpress/data-controls/build-module/index.js"),constants_STORE_NAME="wc/admin/settings",toConsumableArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectWithoutProperties=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.set.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.some.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js")),defineProperty=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),esm_typeof=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/typeof.js"),regenerator=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),add_query_args=(__webpack_require__("../../node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime/runtime.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+url@3.7.1/node_modules/@wordpress/url/build-module/add-query-args.js")),api_fetch_build_module=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+api-fetch@6.3.1/node_modules/@wordpress/api-fetch/build-module/index.js"));function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var fetchWithHeaders=function fetchWithHeaders(options){return{type:"FETCH_WITH_HEADERS",options}};const src_controls=_objectSpread(_objectSpread({},data_controls_build_module.ne),{},{FETCH_WITH_HEADERS:function FETCH_WITH_HEADERS(action){return(0,api_fetch_build_module.A)(_objectSpread(_objectSpread({},action.options),{},{parse:!1})).then((function(response){return Promise.all([response.headers,response.status,response.json()])})).then((function(_ref){var _ref2=(0,slicedToArray.A)(_ref,3);return{headers:_ref2[0],status:_ref2[1],data:_ref2[2]}})).catch((function(response){return response.json().then((function(data){throw data}))}))}});var USER_STORE_NAME="core",_excluded=["_fields","page","per_page","order","orderby"],_marked=regenerator_default().mark(request),_marked2=regenerator_default().mark(checkUserCapability);function utils_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?utils_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):utils_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function replacer(_,value){if(value){if(Array.isArray(value))return(0,toConsumableArray.A)(value).sort();if("object"===(0,esm_typeof.A)(value))return Object.entries(value).sort().reduce((function(current,_ref){var _ref2=(0,slicedToArray.A)(_ref,2),propKey=_ref2[0],propVal=_ref2[1];return utils_objectSpread(utils_objectSpread({},current),{},(0,defineProperty.A)({},propKey,propVal))}),{})}return value}function utils_getResourceName(prefix){for(var _len=arguments.length,identifier=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)identifier[_key-1]=arguments[_key];var identifierString=JSON.stringify(identifier,replacer).replace(/\\"/g,'"');return"".concat(prefix,":").concat(identifierString)}function getTotalCountResourceName(prefix,query){query._fields,query.page,query.per_page,query.order,query.orderby;return utils_getResourceName(prefix,(0,objectWithoutProperties.A)(query,_excluded))}function getResourcePrefix(resourceName){var hasPrefixIndex=resourceName.indexOf(":");return hasPrefixIndex<0?resourceName:resourceName.substring(0,hasPrefixIndex)}function request(namespace,query){var url,isUnboundedRequest,fetch,response,totalCount;return regenerator_default().wrap((function request$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=(0,add_query_args.F)(namespace,query),isUnboundedRequest=-1===query.per_page,fetch=isUnboundedRequest?data_controls_build_module.nr:fetchWithHeaders,_context.next=5,fetch({path:url,method:"GET"});case 5:if(response=_context.sent,!isUnboundedRequest||"data"in response){_context.next=8;break}return _context.abrupt("return",{items:response,totalCount:response.length});case 8:if(isUnboundedRequest||!("data"in response)){_context.next=11;break}return totalCount=parseInt(response.headers.get("x-wp-total")||"",10),_context.abrupt("return",{items:response.data,totalCount});case 11:case"end":return _context.stop()}}),_marked)}function checkUserCapability(capability){return regenerator_default().wrap((function checkUserCapability$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,data_controls_build_module.Lt)(USER_STORE_NAME,"getCurrentUser");case 2:if(_context2.sent.capabilities[capability]){_context2.next=5;break}throw new Error("User does not have ".concat(capability," capability."));case 5:case"end":return _context2.stop()}}),_marked2)}var getSettingsGroupNames=function getSettingsGroupNames(state){var groupNames=new Set(Object.keys(state).map((function(resourceName){return getResourcePrefix(resourceName)})));return(0,toConsumableArray.A)(groupNames)},getSettings=function getSettings(state,group){var settings={},settingIds=state[group]&&state[group].data||[];return Array.isArray(settingIds)&&0!==settingIds.length?(settingIds.forEach((function(id){settings[id]=state[utils_getResourceName(group,id)].data})),settings):settings},getDirtyKeys=function getDirtyKeys(state,group){return state[group].dirty||[]},getIsDirty=function getIsDirty(state,group){var keys=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],dirtyMap=getDirtyKeys(state,group);return 0!==dirtyMap.length&&keys.some((function(key){return dirtyMap.includes(key)}))},getSettingsForGroup=function getSettingsForGroup(state,group,keys){var allSettings=getSettings(state,group);return keys.reduce((function(accumulator,key){return accumulator[key]=allSettings[key]||{},accumulator}),{})},isUpdateSettingsRequesting=function isUpdateSettingsRequesting(state,group){return state[group]&&Boolean(state[group].isRequesting)};function getSetting(state,group,name){var fallback=arguments.length>3&&void 0!==arguments[3]&&arguments[3],filter=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(val,_fallback){return val},resourceName=utils_getResourceName(group,name);return filter(state[resourceName]&&state[resourceName].data||fallback,fallback)}var getLastSettingsErrorForGroup=function getLastSettingsErrorForGroup(state,group){var settingsIds=state[group].data;return Array.isArray(settingsIds)&&0!==settingsIds.length?(0,toConsumableArray.A)(settingsIds).pop().error:state[group].error},getSettingsError=function getSettingsError(state,group,id){return id?state[utils_getResourceName(group,id)].error||!1:state[group]&&state[group].error||!1},i18n_build_module=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../node_modules/.pnpm/@wordpress+i18n@4.6.1/node_modules/@wordpress/i18n/build-module/index.js")),build_module_controls=__webpack_require__("../../node_modules/.pnpm/@wordpress+data@6.6.1_react@17.0.2/node_modules/@wordpress/data/build-module/controls.js"),lodash=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),JETPACK_NAMESPACE="/jetpack/v4",NAMESPACE="/wc-analytics",WC_ADMIN_NAMESPACE="/wc-admin";const action_types={UPDATE_SETTINGS_FOR_GROUP:"UPDATE_SETTINGS_FOR_GROUP",UPDATE_ERROR_FOR_GROUP:"UPDATE_ERROR_FOR_GROUP",CLEAR_SETTINGS:"CLEAR_SETTINGS",SET_IS_REQUESTING:"SET_IS_REQUESTING",CLEAR_IS_DIRTY:"CLEAR_IS_DIRTY"};var actions_marked=regenerator_default().mark(persistSettingsForGroup),actions_marked2=regenerator_default().mark(updateAndPersistSettingsForGroup),resolveSelect=build_module_controls.n&&build_module_controls.n.resolveSelect?build_module_controls.n.resolveSelect:data_controls_build_module.Lt;function updateSettingsForGroup(group,data){var time=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return{type:action_types.UPDATE_SETTINGS_FOR_GROUP,group,data,time}}function updateErrorForGroup(group,data,error){var time=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;return{type:action_types.UPDATE_ERROR_FOR_GROUP,group,data,error,time}}function setIsRequesting(group,isRequesting){return{type:action_types.SET_IS_REQUESTING,group,isRequesting}}function clearIsDirty(group){return{type:action_types.CLEAR_IS_DIRTY,group}}function persistSettingsForGroup(group){var dirtyKeys,dirtyData,url,update,results;return regenerator_default().wrap((function persistSettingsForGroup$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,setIsRequesting(group,!0);case 2:return _context.next=4,resolveSelect(constants_STORE_NAME,"getDirtyKeys",group);case 4:if(0!==(dirtyKeys=_context.sent).length){_context.next=9;break}return _context.next=8,setIsRequesting(group,!1);case 8:return _context.abrupt("return");case 9:return _context.next=11,resolveSelect(constants_STORE_NAME,"getSettingsForGroup",group,dirtyKeys);case 11:return dirtyData=_context.sent,url="".concat(NAMESPACE,"/settings/").concat(group,"/batch"),update=dirtyKeys.reduce((function(updates,key){var u=Object.keys(dirtyData[key]).map((function(k){return{id:k,value:dirtyData[key][k]}}));return(0,lodash.concat)(updates,u)}),[]),_context.prev=14,_context.next=17,(0,data_controls_build_module.nr)({path:url,method:"POST",data:{update}});case 17:return results=_context.sent,_context.next=20,setIsRequesting(group,!1);case 20:if(results){_context.next=22;break}throw new Error((0,i18n_build_module.__)("There was a problem updating your settings.","woocommerce"));case 22:return _context.next=24,clearIsDirty(group);case 24:_context.next=33;break;case 26:return _context.prev=26,_context.t0=_context.catch(14),_context.next=30,updateErrorForGroup(group,null,_context.t0);case 30:return _context.next=32,setIsRequesting(group,!1);case 32:throw _context.t0;case 33:case"end":return _context.stop()}}),actions_marked,null,[[14,26]])}function updateAndPersistSettingsForGroup(group,data){return regenerator_default().wrap((function updateAndPersistSettingsForGroup$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,setIsRequesting(group,!0);case 2:return _context2.next=4,updateSettingsForGroup(group,data);case 4:return _context2.delegateYield(persistSettingsForGroup(group),"t0",5);case 5:case"end":return _context2.stop()}}),actions_marked2)}function clearSettings(){return{type:action_types.CLEAR_SETTINGS}}var isRestApiError=function isRestApiError(error){return void 0!==error.code&&void 0!==error.message},resolvers_marked=regenerator_default().mark(resolvers_getSettings),resolvers_marked2=regenerator_default().mark(resolvers_getSettingsForGroup),dispatch=build_module_controls.n&&build_module_controls.n.dispatch?build_module_controls.n.dispatch:data_controls_build_module.JD;function resolvers_getSettings(group){var url,results,resource;return regenerator_default().wrap((function getSettings$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,dispatch(constants_STORE_NAME,"setIsRequesting",group,!0);case 2:return _context.prev=2,url=NAMESPACE+"/settings/"+group,_context.next=6,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 6:return results=_context.sent,resource=results.reduce((function(resource,setting){return resource[setting.id]=setting.value,resource}),{}),_context.abrupt("return",updateSettingsForGroup(group,(0,defineProperty.A)({},group,resource)));case 11:if(_context.prev=11,_context.t0=_context.catch(2),!(_context.t0 instanceof Error||isRestApiError(_context.t0))){_context.next=15;break}return _context.abrupt("return",updateErrorForGroup(group,null,_context.t0.message));case 15:throw"Unexpected error ".concat(_context.t0);case 16:case"end":return _context.stop()}}),resolvers_marked,null,[[2,11]])}function resolvers_getSettingsForGroup(group){return regenerator_default().wrap((function getSettingsForGroup$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",resolvers_getSettings(group));case 1:case"end":return _context2.stop()}}),resolvers_marked2)}function reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const settings_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case action_types.SET_IS_REQUESTING:state=reducer_objectSpread(reducer_objectSpread({},state),{},(0,defineProperty.A)({},action.group,reducer_objectSpread(reducer_objectSpread({},state[action.group]),{},{isRequesting:action.isRequesting})));break;case action_types.CLEAR_IS_DIRTY:state=reducer_objectSpread(reducer_objectSpread({},state),{},(0,defineProperty.A)({},action.group,reducer_objectSpread(reducer_objectSpread({},state[action.group]),{},{dirty:[]})));break;case action_types.UPDATE_SETTINGS_FOR_GROUP:case action_types.UPDATE_ERROR_FOR_GROUP:var data=action.data,group=action.group,time=action.time,groupIds=data?Object.keys(data):[],error=action.type===action_types.UPDATE_ERROR_FOR_GROUP?action.error:null;if(null===data)state=reducer_objectSpread(reducer_objectSpread({},state),{},(0,defineProperty.A)({},group,{data:state[group]?state[group].data:[],error,lastReceived:time}));else{var _state$group,stateGroup=state[group];state=reducer_objectSpread(reducer_objectSpread({},state),{},(0,defineProperty.A)({},group,{data:stateGroup&&stateGroup.data&&Array.isArray(stateGroup.data)?[].concat((0,toConsumableArray.A)(stateGroup.data),(0,toConsumableArray.A)(groupIds)):groupIds,error,lastReceived:time,isRequesting:(null===(_state$group=state[group])||void 0===_state$group?void 0:_state$group.isRequesting)||!1,dirty:state[group]&&state[group].dirty?(0,lodash.union)(state[group].dirty,groupIds):groupIds}),function updateGroupDataInNewState(newState,_ref){var group=_ref.group,groupIds=_ref.groupIds,data=_ref.data,time=_ref.time,error=_ref.error;return groupIds.forEach((function(id){newState[utils_getResourceName(group,id)]={data:data[id],lastReceived:time,error}})),newState}({},{group,groupIds,data,time,error}))}break;case action_types.CLEAR_SETTINGS:state={}}return state};(0,data_build_module.ti)(constants_STORE_NAME,{reducer:settings_reducer,actions:actions_namespaceObject,controls:data_controls_build_module.ne,selectors:selectors_namespaceObject,resolvers:resolvers_namespaceObject});var plugins_constants_STORE_NAME="wc/admin/plugins",PAYPAL_NAMESPACE="/wc-paypal/v1",getActivePlugins=((0,i18n_build_module.__)("Facebook for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Jetpack","woocommerce"),(0,i18n_build_module.__)("Klarna Checkout for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Klarna Payments for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Mailchimp for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Creative Mail for WooCommerce","woocommerce"),(0,i18n_build_module.__)("WooCommerce PayPal","woocommerce"),(0,i18n_build_module.__)("WooCommerce Stripe","woocommerce"),(0,i18n_build_module.__)("WooCommerce Payfast","woocommerce"),(0,i18n_build_module.__)("WooPayments","woocommerce"),(0,i18n_build_module.__)("WooCommerce Shipping & Tax","woocommerce"),(0,i18n_build_module.__)("WooCommerce Shipping & Tax","woocommerce"),(0,i18n_build_module.__)("WooCommerce Shipping & Tax","woocommerce"),(0,i18n_build_module.__)("WooCommerce ShipStation Gateway","woocommerce"),(0,i18n_build_module.__)("Mercado Pago payments for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Google for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Razorpay","woocommerce"),(0,i18n_build_module.__)("MailPoet","woocommerce"),(0,i18n_build_module.__)("Pinterest for WooCommerce","woocommerce"),(0,i18n_build_module.__)("TikTok for WooCommerce","woocommerce"),(0,i18n_build_module.__)("Omnichannel for WooCommerce","woocommerce"),function getActivePlugins(state){return state.active||[]}),getInstalledPlugins=function getInstalledPlugins(state){return state.installed||[]},isPluginsRequesting=function isPluginsRequesting(state,selector){return state.requesting[selector]||!1},getPluginsError=function getPluginsError(state,selector){return state.errors[selector]||!1},isJetpackConnected=function isJetpackConnected(state){return state.jetpackConnection},getJetpackConnectionData=function getJetpackConnectionData(state){return state.jetpackConnectionData},getJetpackConnectUrl=function getJetpackConnectUrl(state,query){return state.jetpackConnectUrls[query.redirect_url]},getPluginInstallState=function getPluginInstallState(state,plugin){return state.active.includes(plugin)?"activated":state.installed.includes(plugin)?"installed":"unavailable"},getPaypalOnboardingStatus=function getPaypalOnboardingStatus(state){return state.paypalOnboardingStatus},getRecommendedPlugins=function getRecommendedPlugins(state,type){return state.recommended[type]},createClass=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/createClass.js")),classCallCheck=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),inherits=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/inherits.js"),possibleConstructorReturn=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),getPrototypeOf=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),wrapNativeSuper=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),src=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.join.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.values.js"),__webpack_require__("../../packages/js/tracks/src/index.ts")),ACTION_TYPES=function(ACTION_TYPES){return ACTION_TYPES.UPDATE_ACTIVE_PLUGINS="UPDATE_ACTIVE_PLUGINS",ACTION_TYPES.UPDATE_INSTALLED_PLUGINS="UPDATE_INSTALLED_PLUGINS",ACTION_TYPES.SET_IS_REQUESTING="SET_IS_REQUESTING",ACTION_TYPES.SET_ERROR="SET_ERROR",ACTION_TYPES.UPDATE_JETPACK_CONNECTION="UPDATE_JETPACK_CONNECTION",ACTION_TYPES.UPDATE_JETPACK_CONNECT_URL="UPDATE_JETPACK_CONNECT_URL",ACTION_TYPES.UPDATE_JETPACK_CONNECTION_DATA="UPDATE_JETPACK_CONNECTION_DATA",ACTION_TYPES.SET_PAYPAL_ONBOARDING_STATUS="SET_PAYPAL_ONBOARDING_STATUS",ACTION_TYPES.SET_RECOMMENDED_PLUGINS="SET_RECOMMENDED_PLUGINS",ACTION_TYPES}({});function actions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function actions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?actions_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):actions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var plugins_actions_marked=regenerator_default().mark(handlePluginAPIError),plugins_actions_marked2=regenerator_default().mark(activatePlugins),_marked3=regenerator_default().mark(installAndActivatePlugins),_marked4=regenerator_default().mark(connectToJetpack),_marked5=regenerator_default().mark(installJetpackAndConnect),_marked6=regenerator_default().mark(connectToJetpackWithFailureRedirect),_marked7=regenerator_default().mark(dismissRecommendedPlugins);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,getPrototypeOf.A)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,getPrototypeOf.A)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,possibleConstructorReturn.A)(this,result)}}var actions_dispatch=build_module_controls.n&&build_module_controls.n.dispatch?build_module_controls.n.dispatch:data_controls_build_module.JD,actions_resolveSelect=build_module_controls.n&&build_module_controls.n.resolveSelect?build_module_controls.n.resolveSelect:data_controls_build_module.Lt,PluginError=function(_Error){(0,inherits.A)(PluginError,_Error);var _super=_createSuper(PluginError);function PluginError(message,data){var _this;return(0,classCallCheck.A)(this,PluginError),(_this=_super.call(this,message)).data=data,_this}return(0,createClass.A)(PluginError)}((0,wrapNativeSuper.A)(Error)),isPluginResponseError=function isPluginResponseError(plugins,error){return"object"===(0,esm_typeof.A)(error)&&null!==error&&plugins[0]in error},formatErrorMessage=function formatErrorMessage(){var actionType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"install",plugins=arguments.length>1?arguments[1]:void 0,rawErrorMessage=arguments.length>2?arguments[2]:void 0;return(0,i18n_build_module.nv)((0,i18n_build_module._n)("Could not %(actionType)s %(pluginName)s plugin, %(error)s","Could not %(actionType)s the following plugins: %(pluginName)s with these Errors: %(error)s",Object.keys(plugins).length||1,"woocommerce"),{actionType,pluginName:plugins.join(", "),error:rawErrorMessage})};function updateActivePlugins(active){var replace=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:ACTION_TYPES.UPDATE_ACTIVE_PLUGINS,active,replace}}function updateInstalledPlugins(installed){var replace=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:ACTION_TYPES.UPDATE_INSTALLED_PLUGINS,installed,replace}}function actions_setIsRequesting(selector,isRequesting){return{type:ACTION_TYPES.SET_IS_REQUESTING,selector,isRequesting}}function setError(selector,error){return{type:ACTION_TYPES.SET_ERROR,selector,error}}function updateIsJetpackConnected(jetpackConnection){return{type:ACTION_TYPES.UPDATE_JETPACK_CONNECTION,jetpackConnection}}function updateJetpackConnectionData(results){return{type:ACTION_TYPES.UPDATE_JETPACK_CONNECTION_DATA,results}}function updateJetpackConnectUrl(redirectUrl,jetpackConnectUrl){return{type:ACTION_TYPES.UPDATE_JETPACK_CONNECT_URL,jetpackConnectUrl,redirectUrl}}var createErrorNotice=function createErrorNotice(errorMessage){return actions_dispatch("core/notices","createNotice","error",errorMessage)};function setPaypalOnboardingStatus(status){return{type:ACTION_TYPES.SET_PAYPAL_ONBOARDING_STATUS,paypalOnboardingStatus:status}}function setRecommendedPlugins(type,plugins){return{type:ACTION_TYPES.SET_RECOMMENDED_PLUGINS,recommendedType:type,plugins}}function handlePluginAPIError(actionType,plugins,error){var rawErrorMessage;return regenerator_default().wrap((function handlePluginAPIError$(_context){for(;;)switch(_context.prev=_context.next){case 0:rawErrorMessage=isPluginResponseError(plugins,error)?Object.values(error).join(", \n"):isRestApiError(error)||error instanceof Error?error.message:JSON.stringify(error),_context.t0=actionType,_context.next="install"===_context.t0?4:"activate"===_context.t0?6:7;break;case 4:return(0,src.yM)("install_plugins_error",{plugins:plugins.join(", "),message:rawErrorMessage}),_context.abrupt("break",7);case 6:(0,src.yM)("activate_plugins_error",{plugins:plugins.join(", "),message:rawErrorMessage});case 7:throw new PluginError(formatErrorMessage(actionType,plugins,rawErrorMessage),error);case 8:case"end":return _context.stop()}}),plugins_actions_marked)}function installPlugins(plugins){var async=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regenerator_default().mark((function _callee(){var _results$data$install,_results$errors,results;return regenerator_default().wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,actions_setIsRequesting("installPlugins",!0);case 2:return _context2.prev=2,_context2.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/plugins/install"),method:"POST",data:{plugins:plugins.join(","),async}});case 5:if(results=_context2.sent,null===(_results$data$install=results.data.installed)||void 0===_results$data$install||!_results$data$install.length){_context2.next=9;break}return _context2.next=9,updateInstalledPlugins(results.data.installed);case 9:if(null===(_results$errors=results.errors)||void 0===_results$errors||!_results$errors.errors||!Object.keys(results.errors.errors).length){_context2.next=11;break}throw results.errors.errors;case 11:return _context2.abrupt("return",results);case 14:return _context2.prev=14,_context2.t0=_context2.catch(2),_context2.next=18,setError("installPlugins",_context2.t0);case 18:return _context2.next=20,handlePluginAPIError("install",plugins,_context2.t0);case 20:return _context2.prev=20,_context2.next=23,actions_setIsRequesting("installPlugins",!1);case 23:return _context2.finish(20);case 24:case"end":return _context2.stop()}}),_callee,null,[[2,14,20,24]])}))()}function activatePlugins(plugins){var results;return regenerator_default().wrap((function activatePlugins$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,actions_setIsRequesting("activatePlugins",!0);case 2:return _context3.prev=2,_context3.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/plugins/activate"),method:"POST",data:{plugins:plugins.join(",")}});case 5:if(!(results=_context3.sent).data.activated.length){_context3.next=9;break}return _context3.next=9,updateActivePlugins(results.data.activated);case 9:if(!Object.keys(results.errors.errors).length){_context3.next=11;break}throw results.errors.errors;case 11:return _context3.abrupt("return",results);case 14:return _context3.prev=14,_context3.t0=_context3.catch(2),_context3.next=18,setError("activatePlugins",_context3.t0);case 18:return _context3.next=20,handlePluginAPIError("activate",plugins,_context3.t0);case 20:return _context3.prev=20,_context3.next=23,actions_setIsRequesting("activatePlugins",!1);case 23:return _context3.finish(20);case 24:case"end":return _context3.stop()}}),plugins_actions_marked2,null,[[2,14,20,24]])}function installAndActivatePlugins(plugins){var installations,activations,response;return regenerator_default().wrap((function installAndActivatePlugins$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,actions_dispatch(plugins_constants_STORE_NAME,"installPlugins",plugins);case 3:return installations=_context4.sent,_context4.next=6,actions_dispatch(plugins_constants_STORE_NAME,"activatePlugins",plugins);case 6:return activations=_context4.sent,response=actions_objectSpread(actions_objectSpread({},activations),{},{data:actions_objectSpread(actions_objectSpread({},activations.data),installations.data)}),installations.success&&Object.keys(installations.data.results).length&&activations.success&&activations.data.activated.length&&(response.message=(0,i18n_build_module.__)("Plugins were successfully installed and activated.","woocommerce")),_context4.abrupt("return",response);case 12:throw _context4.prev=12,_context4.t0=_context4.catch(0),_context4.t0;case 15:case"end":return _context4.stop()}}),_marked3,null,[[0,12]])}function connectToJetpack(getAdminLink){var url,error;return regenerator_default().wrap((function connectToJetpack$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,actions_resolveSelect(plugins_constants_STORE_NAME,"getJetpackConnectUrl",{redirect_url:getAdminLink("admin.php?page=wc-admin")});case 2:return url=_context5.sent,_context5.next=5,actions_resolveSelect(plugins_constants_STORE_NAME,"getPluginsError","getJetpackConnectUrl");case 5:if(!(error=_context5.sent)){_context5.next=10;break}throw new Error(error);case 10:return _context5.abrupt("return",url);case 11:case"end":return _context5.stop()}}),_marked4)}function installJetpackAndConnect(errorAction,getAdminLink){var url;return regenerator_default().wrap((function installJetpackAndConnect$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,actions_dispatch(plugins_constants_STORE_NAME,"installPlugins",["jetpack"]);case 3:return _context6.next=5,actions_dispatch(plugins_constants_STORE_NAME,"activatePlugins",["jetpack"]);case 5:return _context6.next=7,actions_dispatch(plugins_constants_STORE_NAME,"connectToJetpack",getAdminLink);case 7:url=_context6.sent,window.location.href=url,_context6.next=19;break;case 11:if(_context6.prev=11,_context6.t0=_context6.catch(0),!(_context6.t0 instanceof Error)){_context6.next=18;break}return _context6.next=16,errorAction(_context6.t0.message);case 16:_context6.next=19;break;case 18:throw _context6.t0;case 19:case"end":return _context6.stop()}}),_marked5,null,[[0,11]])}function connectToJetpackWithFailureRedirect(failureRedirect,errorAction,getAdminLink){var url;return regenerator_default().wrap((function connectToJetpackWithFailureRedirect$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,actions_dispatch(plugins_constants_STORE_NAME,"connectToJetpack",getAdminLink);case 3:url=_context7.sent,window.location.href=url,_context7.next=16;break;case 7:if(_context7.prev=7,_context7.t0=_context7.catch(0),!(_context7.t0 instanceof Error)){_context7.next=14;break}return _context7.next=12,errorAction(_context7.t0.message);case 12:_context7.next=15;break;case 14:throw _context7.t0;case 15:window.location.href=failureRedirect;case 16:case"end":return _context7.stop()}}),_marked6,null,[[0,7]])}var SUPPORTED_TYPES=["payments"];function dismissRecommendedPlugins(type){var plugins,success,url;return regenerator_default().wrap((function dismissRecommendedPlugins$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(SUPPORTED_TYPES.includes(type)){_context8.next=2;break}return _context8.abrupt("return",[]);case 2:return _context8.next=4,actions_resolveSelect(plugins_constants_STORE_NAME,"getRecommendedPlugins",type);case 4:return plugins=_context8.sent,_context8.next=7,setRecommendedPlugins(type,[]);case 7:return _context8.prev=7,url=WC_ADMIN_NAMESPACE+"/payment-gateway-suggestions/dismiss",_context8.next=11,(0,data_controls_build_module.nr)({path:url,method:"POST"});case 11:success=_context8.sent,_context8.next=17;break;case 14:_context8.prev=14,_context8.t0=_context8.catch(7),success=!1;case 17:if(success){_context8.next=20;break}return _context8.next=20,setRecommendedPlugins(type,plugins);case 20:return _context8.abrupt("return",success);case 21:case"end":return _context8.stop()}}),_marked7,null,[[7,14]])}var options_constants_STORE_NAME="wc/admin/options",getOption=function getOption(state,name){return state[name]},getOptionsRequestingError=function getOptionsRequestingError(state,name){return state.requestingErrors[name]||!1},isOptionsUpdating=function isOptionsUpdating(state){return state.isUpdating||!1},getOptionsUpdatingError=function getOptionsUpdatingError(state){return state.updatingError||!1};const options_action_types={RECEIVE_OPTIONS:"RECEIVE_OPTIONS",SET_IS_REQUESTING:"SET_IS_REQUESTING",SET_IS_UPDATING:"SET_IS_UPDATING",SET_REQUESTING_ERROR:"SET_REQUESTING_ERROR",SET_UPDATING_ERROR:"SET_UPDATING_ERROR"};var options_actions_marked=regenerator_default().mark(updateOptions);function options_actions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function options_actions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?options_actions_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):options_actions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function receiveOptions(options){return{type:options_action_types.RECEIVE_OPTIONS,options}}function setRequestingError(error,name){return{type:options_action_types.SET_REQUESTING_ERROR,error,name}}function setUpdatingError(error){return{type:options_action_types.SET_UPDATING_ERROR,error}}function setIsUpdating(isUpdating){return{type:options_action_types.SET_IS_UPDATING,isUpdating}}function updateOptions(data){var results;return regenerator_default().wrap((function updateOptions$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,setIsUpdating(!0);case 3:return _context.next=5,(0,data_controls_build_module.nr)({path:WC_ADMIN_NAMESPACE+"/options",method:"POST",data});case 5:return results=_context.sent,_context.next=8,setIsUpdating(!1);case 8:if("object"===(0,esm_typeof.A)(results)){_context.next=10;break}throw new Error("Invalid update options response from server: ".concat(results));case 10:return _context.next=12,receiveOptions(data);case 12:return _context.abrupt("return",options_actions_objectSpread({success:!0},results));case 15:return _context.prev=15,_context.t0=_context.catch(0),_context.next=19,setUpdatingError(_context.t0);case 19:if("object"===(0,esm_typeof.A)(_context.t0)){_context.next=21;break}throw new Error("Unexpected error: ".concat(_context.t0));case 21:return _context.abrupt("return",options_actions_objectSpread({success:!1},_context.t0));case 22:case"end":return _context.stop()}}),options_actions_marked,null,[[0,15]])}var asyncToGenerator=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),debounce=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.timers.js"),function debounce(func,wait,immediate){var timeout,latestArgs=null,debounced=function debounced(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];latestArgs=args,timeout&&clearTimeout(timeout),timeout=setTimeout((function(){timeout=null,!immediate&&latestArgs&&func.apply(void 0,(0,toConsumableArray.A)(latestArgs))}),wait),immediate&&!timeout&&func.apply(void 0,args)};return debounced.flush=function(){timeout&&latestArgs&&(func.apply(void 0,(0,toConsumableArray.A)(latestArgs)),clearTimeout(timeout),timeout=null)},debounced});function controls_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function controls_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?controls_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):controls_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var batchFetch=function batchFetch(optionName){return{type:"BATCH_FETCH",optionName}},optionNames=[],fetches={},debouncedFetch=function(){var _ref=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee3(optionName){return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",new Promise(function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee2(resolve,reject){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",debounce((function(){if(fetches.hasOwnProperty(optionName))return fetches[optionName].then(resolve).catch(reject);0===optionNames.length&&optionNames.push(optionName);var uniqueOptionNames=(0,toConsumableArray.A)(new Set(optionNames)),names=uniqueOptionNames.join(","),fetch=(0,api_fetch_build_module.A)({path:"".concat(WC_ADMIN_NAMESPACE,"/options?options=").concat(names)});uniqueOptionNames.forEach(function(){var _ref3=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(option){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return fetches[option]=fetch,_context.prev=1,_context.next=4,fetch;case 4:_context.next=8;break;case 6:_context.prev=6,_context.t0=_context.catch(1);case 8:return _context.prev=8,delete fetches[option],_context.finish(8);case 11:case"end":return _context.stop()}}),_callee,null,[[1,6,8,11]])})));return function(_x4){return _ref3.apply(this,arguments)}}()),optionNames=[],fetch.then(resolve).catch(reject)}),100)());case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x2,_x3){return _ref2.apply(this,arguments)}}()));case 1:case"end":return _context3.stop()}}),_callee3)})));return function debouncedFetch(_x){return _ref.apply(this,arguments)}}(),controls_controls=controls_objectSpread(controls_objectSpread({},data_controls_build_module.ne),{},{BATCH_FETCH:function BATCH_FETCH(_ref4){return(0,asyncToGenerator.A)(regenerator_default().mark((function _callee4(){var optionName;return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return optionName=_ref4.optionName,optionNames.push(optionName),_context4.next=4,debouncedFetch(optionName);case 4:return _context4.abrupt("return",_context4.sent);case 5:case"end":return _context4.stop()}}),_callee4)})))()}}),options_resolvers_marked=regenerator_default().mark(resolvers_getOption);function resolvers_getOption(name){var result;return regenerator_default().wrap((function getOption$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,batchFetch(name);case 3:return result=_context.sent,_context.next=6,receiveOptions(result);case 6:_context.next=12;break;case 8:return _context.prev=8,_context.t0=_context.catch(0),_context.next=12,setRequestingError(_context.t0,name);case 12:case"end":return _context.stop()}}),options_resolvers_marked,null,[[0,8]])}__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.function.name.js");function options_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function options_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?options_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):options_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const options_reducer=function optionsReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isUpdating:!1,requestingErrors:{}},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case options_action_types.RECEIVE_OPTIONS:state=options_reducer_objectSpread(options_reducer_objectSpread({},state),action.options);break;case options_action_types.SET_IS_UPDATING:state=options_reducer_objectSpread(options_reducer_objectSpread({},state),{},{isUpdating:action.isUpdating});break;case options_action_types.SET_REQUESTING_ERROR:state=options_reducer_objectSpread(options_reducer_objectSpread({},state),{},{requestingErrors:(0,defineProperty.A)({},action.name,action.error)});break;case options_action_types.SET_UPDATING_ERROR:state=options_reducer_objectSpread(options_reducer_objectSpread({},state),{},{error:action.error,updatingError:action.error,isUpdating:!1})}return state};(0,data_build_module.ti)(options_constants_STORE_NAME,{reducer:options_reducer,actions:options_actions_namespaceObject,controls:controls_controls,selectors:options_selectors_namespaceObject,resolvers:options_resolvers_namespaceObject});var OPTIONS_STORE_NAME=options_constants_STORE_NAME,plugins_resolvers_marked=regenerator_default().mark(resolvers_getActivePlugins),plugins_resolvers_marked2=regenerator_default().mark(resolvers_getInstalledPlugins),resolvers_marked3=regenerator_default().mark(resolvers_isJetpackConnected),resolvers_marked4=regenerator_default().mark(resolvers_getJetpackConnectionData),resolvers_marked5=regenerator_default().mark(resolvers_getJetpackConnectUrl),resolvers_marked6=regenerator_default().mark(setOnboardingStatusWithOptions),resolvers_marked7=regenerator_default().mark(resolvers_getPaypalOnboardingStatus),_marked8=regenerator_default().mark(resolvers_getRecommendedPlugins),resolvers_resolveSelect=build_module_controls.n&&build_module_controls.n.resolveSelect?build_module_controls.n.resolveSelect:data_controls_build_module.Lt;function resolvers_getActivePlugins(){var url,results;return regenerator_default().wrap((function getActivePlugins$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,actions_setIsRequesting("getActivePlugins",!0);case 2:return _context.prev=2,_context.next=5,checkUserCapability("manage_woocommerce");case 5:return url=WC_ADMIN_NAMESPACE+"/plugins/active",_context.next=8,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 8:return results=_context.sent,_context.next=11,updateActivePlugins(results.plugins,!0);case 11:_context.next=17;break;case 13:return _context.prev=13,_context.t0=_context.catch(2),_context.next=17,setError("getActivePlugins",_context.t0);case 17:case"end":return _context.stop()}}),plugins_resolvers_marked,null,[[2,13]])}function resolvers_getInstalledPlugins(){var url,results;return regenerator_default().wrap((function getInstalledPlugins$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,actions_setIsRequesting("getInstalledPlugins",!0);case 2:return _context2.prev=2,_context2.next=5,checkUserCapability("manage_woocommerce");case 5:return url=WC_ADMIN_NAMESPACE+"/plugins/installed",_context2.next=8,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 8:return results=_context2.sent,_context2.next=11,updateInstalledPlugins(results.plugins,!0);case 11:_context2.next=17;break;case 13:return _context2.prev=13,_context2.t0=_context2.catch(2),_context2.next=17,setError("getInstalledPlugins",_context2.t0);case 17:case"end":return _context2.stop()}}),plugins_resolvers_marked2,null,[[2,13]])}function resolvers_isJetpackConnected(){var url,results;return regenerator_default().wrap((function isJetpackConnected$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,actions_setIsRequesting("isJetpackConnected",!0);case 2:return _context3.prev=2,url=JETPACK_NAMESPACE+"/connection",_context3.next=6,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 6:return results=_context3.sent,_context3.next=9,updateIsJetpackConnected(results.hasConnectedOwner);case 9:_context3.next=15;break;case 11:return _context3.prev=11,_context3.t0=_context3.catch(2),_context3.next=15,setError("isJetpackConnected",_context3.t0);case 15:return _context3.next=17,actions_setIsRequesting("isJetpackConnected",!1);case 17:case"end":return _context3.stop()}}),resolvers_marked3,null,[[2,11]])}function resolvers_getJetpackConnectionData(){var url,results;return regenerator_default().wrap((function getJetpackConnectionData$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,actions_setIsRequesting("getJetpackConnectionData",!0);case 2:return _context4.prev=2,_context4.next=5,checkUserCapability("manage_woocommerce");case 5:return url=JETPACK_NAMESPACE+"/connection/data",_context4.next=8,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 8:return results=_context4.sent,_context4.next=11,updateJetpackConnectionData(results);case 11:_context4.next=17;break;case 13:return _context4.prev=13,_context4.t0=_context4.catch(2),_context4.next=17,setError("getJetpackConnectionData",_context4.t0);case 17:return _context4.next=19,actions_setIsRequesting("getJetpackConnectionData",!1);case 19:case"end":return _context4.stop()}}),resolvers_marked4,null,[[2,13]])}function resolvers_getJetpackConnectUrl(query){var url,results;return regenerator_default().wrap((function getJetpackConnectUrl$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,actions_setIsRequesting("getJetpackConnectUrl",!0);case 2:return _context5.prev=2,url=(0,add_query_args.F)(WC_ADMIN_NAMESPACE+"/plugins/connect-jetpack",query),_context5.next=6,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 6:return results=_context5.sent,_context5.next=9,updateJetpackConnectUrl(query.redirect_url,results.connectAction);case 9:_context5.next=15;break;case 11:return _context5.prev=11,_context5.t0=_context5.catch(2),_context5.next=15,setError("getJetpackConnectUrl",_context5.t0);case 15:return _context5.next=17,actions_setIsRequesting("getJetpackConnectUrl",!1);case 17:case"end":return _context5.stop()}}),resolvers_marked5,null,[[2,11]])}function setOnboardingStatusWithOptions(){var options,onboarded;return regenerator_default().wrap((function setOnboardingStatusWithOptions$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,resolvers_resolveSelect(OPTIONS_STORE_NAME,"getOption","woocommerce-ppcp-settings");case 2:return options=_context6.sent,onboarded=options.merchant_email_production&&options.merchant_id_production&&options.client_id_production&&options.client_secret_production,_context6.next=6,setPaypalOnboardingStatus({production:{state:onboarded?"onboarded":"unknown",onboarded:!!onboarded}});case 6:case"end":return _context6.stop()}}),resolvers_marked6)}function resolvers_getPaypalOnboardingStatus(){var errorData,url,results;return regenerator_default().wrap((function getPaypalOnboardingStatus$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,actions_setIsRequesting("getPaypalOnboardingStatus",!0);case 2:return _context7.next=4,resolvers_resolveSelect(plugins_constants_STORE_NAME,"getPluginsError","getPaypalOnboardingStatus");case 4:if(!(errorData=_context7.sent)||!errorData.data||404!==errorData.data.status){_context7.next=10;break}return _context7.next=8,setOnboardingStatusWithOptions();case 8:case 17:_context7.next=25;break;case 10:return _context7.prev=10,url=PAYPAL_NAMESPACE+"/onboarding/get-status",_context7.next=14,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 14:return results=_context7.sent,_context7.next=17,setPaypalOnboardingStatus(results);case 19:return _context7.prev=19,_context7.t0=_context7.catch(10),_context7.next=23,setOnboardingStatusWithOptions();case 23:return _context7.next=25,setError("getPaypalOnboardingStatus",_context7.t0);case 25:return _context7.next=27,actions_setIsRequesting("getPaypalOnboardingStatus",!1);case 27:case"end":return _context7.stop()}}),resolvers_marked7,null,[[10,19]])}var resolvers_SUPPORTED_TYPES=["payments"];function resolvers_getRecommendedPlugins(type){var url,results;return regenerator_default().wrap((function getRecommendedPlugins$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(resolvers_SUPPORTED_TYPES.includes(type)){_context8.next=2;break}return _context8.abrupt("return",[]);case 2:return _context8.next=4,actions_setIsRequesting("getRecommendedPlugins",!0);case 4:return _context8.prev=4,url=WC_ADMIN_NAMESPACE+"/payment-gateway-suggestions",_context8.next=8,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 8:return results=_context8.sent,_context8.next=11,setRecommendedPlugins(type,results);case 11:_context8.next=17;break;case 13:return _context8.prev=13,_context8.t0=_context8.catch(4),_context8.next=17,setError("getRecommendedPlugins",_context8.t0);case 17:return _context8.next=19,actions_setIsRequesting("getRecommendedPlugins",!1);case 19:case"end":return _context8.stop()}}),_marked8,null,[[4,13]])}function plugins_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function plugins_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?plugins_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):plugins_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const plugins_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active:[],installed:[],requesting:{},errors:{},jetpackConnectUrls:{},recommended:{}},payload=arguments.length>1?arguments[1]:void 0;if(payload&&"type"in payload)switch(payload.type){case ACTION_TYPES.UPDATE_ACTIVE_PLUGINS:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{active:payload.replace?payload.active:(0,lodash.concat)(state.active,payload.active),requesting:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.requesting),{},{getActivePlugins:!1,activatePlugins:!1}),errors:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.errors),{},{getActivePlugins:!1,activatePlugins:!1})});break;case ACTION_TYPES.UPDATE_INSTALLED_PLUGINS:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{installed:payload.replace?payload.installed:(0,lodash.concat)(state.installed,payload.installed),requesting:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.requesting),{},{getInstalledPlugins:!1,installPlugins:!1}),errors:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.errors),{},{getInstalledPlugins:!1,installPlugin:!1})});break;case ACTION_TYPES.SET_IS_REQUESTING:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{requesting:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},payload.selector,payload.isRequesting))});break;case ACTION_TYPES.SET_ERROR:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{requesting:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},payload.selector,!1)),errors:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},payload.selector,payload.error))});break;case ACTION_TYPES.UPDATE_JETPACK_CONNECTION:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{jetpackConnection:payload.jetpackConnection});break;case ACTION_TYPES.UPDATE_JETPACK_CONNECTION_DATA:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{jetpackConnectionData:payload.results});break;case ACTION_TYPES.UPDATE_JETPACK_CONNECT_URL:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{jetpackConnectUrls:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.jetpackConnectUrls),{},(0,defineProperty.A)({},payload.redirectUrl,payload.jetpackConnectUrl))});break;case ACTION_TYPES.SET_PAYPAL_ONBOARDING_STATUS:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{paypalOnboardingStatus:payload.paypalOnboardingStatus});break;case ACTION_TYPES.SET_RECOMMENDED_PLUGINS:state=plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state),{},{recommended:plugins_reducer_objectSpread(plugins_reducer_objectSpread({},state.recommended),{},(0,defineProperty.A)({},payload.recommendedType,payload.plugins))})}return state};(0,data_build_module.ti)(plugins_constants_STORE_NAME,{reducer:plugins_reducer,actions:plugins_actions_namespaceObject,controls:data_controls_build_module.ne,selectors:plugins_selectors_namespaceObject,resolvers:plugins_resolvers_namespaceObject});var onboarding_constants_STORE_NAME="wc/admin/onboarding",rememo=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("../../node_modules/.pnpm/rememo@4.0.2/node_modules/rememo/rememo.js")),getFreeExtensions=function getFreeExtensions(state){return state.freeExtensions||[]},getProfileItems=function getProfileItems(state){return state.profileItems||{}},getTaskLists=(0,rememo.A)((function(state){return Object.values(state.taskLists)}),(function(state){return[state.taskLists]})),getTaskListsByIds=(0,rememo.A)((function(state,ids){return ids.map((function(id){return state.taskLists[id]}))}),(function(state,ids){return ids.map((function(id){return state.taskLists[id]}))})),getTaskList=function getTaskList(state,selector){return state.taskLists[selector]},getTask=function getTask(state,selector){return Object.keys(state.taskLists).reduce((function(value,listId){return value||state.taskLists[listId].tasks.find((function(task){return task.id===selector}))}),void 0)},getPaymentGatewaySuggestions=function getPaymentGatewaySuggestions(state){return state.paymentMethods||[]},getOnboardingError=function getOnboardingError(state,selector){return state.errors[selector]||!1},isOnboardingRequesting=function isOnboardingRequesting(state,selector){return state.requesting[selector]||!1},getEmailPrefill=function getEmailPrefill(state){return state.emailPrefill||""},getProductTypes=function getProductTypes(state){return state.productTypes||{}},getJetpackAuthUrl=function getJetpackAuthUrl(state,query){return state.jetpackAuthUrls[query.redirectUrl]||""};const onboarding_action_types={SET_ERROR:"SET_ERROR",SET_IS_REQUESTING:"SET_IS_REQUESTING",SET_PROFILE_ITEMS:"SET_PROFILE_ITEMS",SET_EMAIL_PREFILL:"SET_EMAIL_PREFILL",GET_PAYMENT_METHODS_SUCCESS:"GET_PAYMENT_METHODS_SUCCESS",GET_PRODUCT_TYPES_SUCCESS:"GET_PRODUCT_TYPES_SUCCESS",GET_PRODUCT_TYPES_ERROR:"GET_PRODUCT_TYPES_ERROR",GET_FREE_EXTENSIONS_ERROR:"GET_FREE_EXTENSIONS_ERROR",GET_FREE_EXTENSIONS_SUCCESS:"GET_FREE_EXTENSIONS_SUCCESS",GET_TASK_LISTS_ERROR:"GET_TASK_LISTS_ERROR",GET_TASK_LISTS_SUCCESS:"GET_TASK_LISTS_SUCCESS",DISMISS_TASK_ERROR:"DISMISS_TASK_ERROR",DISMISS_TASK_REQUEST:"DISMISS_TASK_REQUEST",DISMISS_TASK_SUCCESS:"DISMISS_TASK_SUCCESS",UNDO_DISMISS_TASK_ERROR:"UNDO_DISMISS_TASK_ERROR",UNDO_DISMISS_TASK_REQUEST:"UNDO_DISMISS_TASK_REQUEST",UNDO_DISMISS_TASK_SUCCESS:"UNDO_DISMISS_TASK_SUCCESS",SNOOZE_TASK_ERROR:"SNOOZE_TASK_ERROR",SNOOZE_TASK_REQUEST:"SNOOZE_TASK_REQUEST",SNOOZE_TASK_SUCCESS:"SNOOZE_TASK_SUCCESS",UNDO_SNOOZE_TASK_ERROR:"UNDO_SNOOZE_TASK_ERROR",UNDO_SNOOZE_TASK_REQUEST:"UNDO_SNOOZE_TASK_REQUEST",UNDO_SNOOZE_TASK_SUCCESS:"UNDO_SNOOZE_TASK_SUCCESS",HIDE_TASK_LIST_ERROR:"HIDE_TASK_LIST_ERROR",HIDE_TASK_LIST_REQUEST:"HIDE_TASK_LIST_REQUEST",HIDE_TASK_LIST_SUCCESS:"HIDE_TASK_LIST_SUCCESS",UNHIDE_TASK_LIST_ERROR:"UNHIDE_TASK_LIST_ERROR",UNHIDE_TASK_LIST_REQUEST:"UNHIDE_TASK_LIST_REQUEST",UNHIDE_TASK_LIST_SUCCESS:"UNHIDE_TASK_LIST_SUCCESS",OPTIMISTICALLY_COMPLETE_TASK_REQUEST:"OPTIMISTICALLY_COMPLETE_TASK_REQUEST",ACTION_TASK_ERROR:"ACTION_TASK_ERROR",ACTION_TASK_REQUEST:"ACTION_TASK_REQUEST",ACTION_TASK_SUCCESS:"ACTION_TASK_SUCCESS",VISITED_TASK:"VISITED_TASK",KEEP_COMPLETED_TASKS_REQUEST:"KEEP_COMPLETED_TASKS_REQUEST",KEEP_COMPLETED_TASKS_SUCCESS:"KEEP_COMPLETED_TASKS_SUCCESS",SET_JETPACK_AUTH_URL:"SET_JETPACK_AUTH_URL",CORE_PROFILER_COMPLETED_REQUEST:"CORE_PROFILER_COMPLETED_REQUEST",CORE_PROFILER_COMPLETED_SUCCESS:"CORE_PROFILER_COMPLETED_SUCCESS",CORE_PROFILER_COMPLETED_ERROR:"CORE_PROFILER_COMPLETED_ERROR"};__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.search.js");var hooks_build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+hooks@3.6.1/node_modules/@wordpress/hooks/build-module/index.js"),lib=__webpack_require__("../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/index.js"),deprecated_build_module=__webpack_require__("../../node_modules/.pnpm/@wordpress+deprecated@3.6.1/node_modules/@wordpress/deprecated/build-module/index.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function deprecated_tasks_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function deprecated_tasks_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?deprecated_tasks_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):deprecated_tasks_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var DeprecatedTasks=function(){function DeprecatedTasks(){(0,classCallCheck.A)(this,DeprecatedTasks),(0,defineProperty.A)(this,"filteredTasks",void 0),(0,defineProperty.A)(this,"tasks",void 0),this.filteredTasks=(0,hooks_build_module.W5)("woocommerce_admin_onboarding_task_list",[],function getQuery(){var searchString=window.location&&window.location.search;if(!searchString)return{};var search=searchString.substring(1);return(0,lib.parse)(search)}()),this.filteredTasks&&this.filteredTasks.length>0&&(0,deprecated_build_module.A)("woocommerce_admin_onboarding_task_list",{version:"2.10.0",alternative:"TaskLists::add_task()",plugin:"@woocommerce/data"}),this.tasks=this.filteredTasks.reduce((function(org,task){return deprecated_tasks_objectSpread(deprecated_tasks_objectSpread({},org),{},(0,defineProperty.A)({},task.key,task))}),{})}return(0,createClass.A)(DeprecatedTasks,[{key:"hasDeprecatedTasks",value:function hasDeprecatedTasks(){return this.filteredTasks.length>0}},{key:"getPostData",value:function getPostData(){return this.hasDeprecatedTasks()?{extended_tasks:this.filteredTasks.map((function(task){return{title:task.title,content:task.content,additional_info:task.additionalInfo,time:task.time,level:task.level?parseInt(task.level,10):3,list_id:task.type||"extended",can_view:task.visible,id:task.key,is_snoozeable:task.allowRemindMeLater,is_dismissable:task.isDismissable,is_complete:task.completed}}))}:null}},{key:"mergeDeprecatedCallbackFunctions",value:function mergeDeprecatedCallbackFunctions(taskLists){var _this=this;if(this.filteredTasks.length>0){var _step,_iterator=_createForOfIteratorHelper(taskLists);try{for(_iterator.s();!(_step=_iterator.n()).done;){var taskList=_step.value;taskList.tasks=taskList.tasks.map((function(task){return _this.tasks&&_this.tasks[task.id]?deprecated_tasks_objectSpread(deprecated_tasks_objectSpread(deprecated_tasks_objectSpread({},_this.tasks[task.id]),task),{},{isDeprecated:!0}):task}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return taskLists}}],[{key:"possiblyPruneTaskData",value:function possiblyPruneTaskData(task,keys){return task.time||task.title?task:keys.reduce((function(simplifiedTask,key){return deprecated_tasks_objectSpread(deprecated_tasks_objectSpread({},simplifiedTask),{},(0,defineProperty.A)({},key,task[key]))}),{id:task.id})}}]),DeprecatedTasks}(),onboarding_actions_marked=regenerator_default().mark(keepCompletedTaskList),onboarding_actions_marked2=regenerator_default().mark(updateProfileItems),actions_marked3=regenerator_default().mark(snoozeTask),actions_marked4=regenerator_default().mark(undoSnoozeTask),actions_marked5=regenerator_default().mark(dismissTask),actions_marked6=regenerator_default().mark(undoDismissTask),actions_marked7=regenerator_default().mark(hideTaskList),actions_marked8=regenerator_default().mark(unhideTaskList),_marked9=regenerator_default().mark(optimisticallyCompleteTask),_marked10=regenerator_default().mark(actionTask),_marked11=regenerator_default().mark(installAndActivatePluginsAsync),_marked12=regenerator_default().mark(coreProfilerCompleted);function getFreeExtensionsError(error){return{type:onboarding_action_types.GET_FREE_EXTENSIONS_ERROR,error}}function getFreeExtensionsSuccess(freeExtensions){return{type:onboarding_action_types.GET_FREE_EXTENSIONS_SUCCESS,freeExtensions}}function actions_setError(selector,error){return{type:onboarding_action_types.SET_ERROR,selector,error}}function onboarding_actions_setIsRequesting(selector,isRequesting){return{type:onboarding_action_types.SET_IS_REQUESTING,selector,isRequesting}}function setProfileItems(profileItems){var replace=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:onboarding_action_types.SET_PROFILE_ITEMS,profileItems,replace}}function getTaskListsError(error){return{type:onboarding_action_types.GET_TASK_LISTS_ERROR,error}}function getTaskListsSuccess(taskLists){return{type:onboarding_action_types.GET_TASK_LISTS_SUCCESS,taskLists}}function snoozeTaskError(taskId,error){return{type:onboarding_action_types.SNOOZE_TASK_ERROR,taskId,error}}function snoozeTaskRequest(taskId){return{type:onboarding_action_types.SNOOZE_TASK_REQUEST,taskId}}function snoozeTaskSuccess(task){return{type:onboarding_action_types.SNOOZE_TASK_SUCCESS,task}}function undoSnoozeTaskError(taskId,error){return{type:onboarding_action_types.UNDO_SNOOZE_TASK_ERROR,taskId,error}}function undoSnoozeTaskRequest(taskId){return{type:onboarding_action_types.UNDO_SNOOZE_TASK_REQUEST,taskId}}function undoSnoozeTaskSuccess(task){return{type:onboarding_action_types.UNDO_SNOOZE_TASK_SUCCESS,task}}function dismissTaskError(taskId,error){return{type:onboarding_action_types.DISMISS_TASK_ERROR,taskId,error}}function dismissTaskRequest(taskId){return{type:onboarding_action_types.DISMISS_TASK_REQUEST,taskId}}function dismissTaskSuccess(task){return{type:onboarding_action_types.DISMISS_TASK_SUCCESS,task}}function undoDismissTaskError(taskId,error){return{type:onboarding_action_types.UNDO_DISMISS_TASK_ERROR,taskId,error}}function undoDismissTaskRequest(taskId){return{type:onboarding_action_types.UNDO_DISMISS_TASK_REQUEST,taskId}}function undoDismissTaskSuccess(task){return{type:onboarding_action_types.UNDO_DISMISS_TASK_SUCCESS,task}}function hideTaskListError(taskListId,error){return{type:onboarding_action_types.HIDE_TASK_LIST_ERROR,taskListId,error}}function hideTaskListRequest(taskListId){return{type:onboarding_action_types.HIDE_TASK_LIST_REQUEST,taskListId}}function hideTaskListSuccess(taskList){return{type:onboarding_action_types.HIDE_TASK_LIST_SUCCESS,taskList,taskListId:taskList.id}}function unhideTaskListError(taskListId,error){return{type:onboarding_action_types.UNHIDE_TASK_LIST_ERROR,taskListId,error}}function unhideTaskListRequest(taskListId){return{type:onboarding_action_types.UNHIDE_TASK_LIST_REQUEST,taskListId}}function unhideTaskListSuccess(taskList){return{type:onboarding_action_types.UNHIDE_TASK_LIST_SUCCESS,taskList,taskListId:taskList.id}}function optimisticallyCompleteTaskRequest(taskId){return{type:onboarding_action_types.OPTIMISTICALLY_COMPLETE_TASK_REQUEST,taskId}}function keepCompletedTaskListSuccess(taskListId,keepCompletedList){return{type:onboarding_action_types.KEEP_COMPLETED_TASKS_SUCCESS,taskListId,keepCompletedTaskList:keepCompletedList}}function visitedTask(taskId){return{type:onboarding_action_types.VISITED_TASK,taskId}}function setPaymentMethods(paymentMethods){return{type:onboarding_action_types.GET_PAYMENT_METHODS_SUCCESS,paymentMethods}}function setEmailPrefill(email){return{type:onboarding_action_types.SET_EMAIL_PREFILL,emailPrefill:email}}function actionTaskError(taskId,error){return{type:onboarding_action_types.ACTION_TASK_ERROR,taskId,error}}function actionTaskRequest(taskId){return{type:onboarding_action_types.ACTION_TASK_REQUEST,taskId}}function actionTaskSuccess(task){return{type:onboarding_action_types.ACTION_TASK_SUCCESS,task}}function getProductTypesSuccess(productTypes){return{type:onboarding_action_types.GET_PRODUCT_TYPES_SUCCESS,productTypes}}function getProductTypesError(error){return{type:onboarding_action_types.GET_PRODUCT_TYPES_ERROR,error}}function keepCompletedTaskList(taskListId){var updateOptionsParams,response;return regenerator_default().wrap((function keepCompletedTaskList$(_context){for(;;)switch(_context.prev=_context.next){case 0:return updateOptionsParams={woocommerce_task_list_keep_completed:"yes"},_context.next=3,build_module_controls.n.dispatch(options_constants_STORE_NAME,"updateOptions",updateOptionsParams);case 3:if(!(response=_context.sent)||!response.success){_context.next=7;break}return _context.next=7,keepCompletedTaskListSuccess(taskListId,"yes");case 7:case"end":return _context.stop()}}),onboarding_actions_marked)}function updateProfileItems(items){var results;return regenerator_default().wrap((function updateProfileItems$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,onboarding_actions_setIsRequesting("updateProfileItems",!0);case 2:return _context2.next=4,actions_setError("updateProfileItems",null);case 4:return _context2.prev=4,_context2.next=7,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/profile"),method:"POST",data:items});case 7:if(!(results=_context2.sent)||"success"!==results.status){_context2.next=14;break}return _context2.next=11,setProfileItems(items);case 11:return _context2.next=13,onboarding_actions_setIsRequesting("updateProfileItems",!1);case 13:return _context2.abrupt("return",results);case 14:throw new Error;case 17:return _context2.prev=17,_context2.t0=_context2.catch(4),_context2.next=21,actions_setError("updateProfileItems",_context2.t0);case 21:return _context2.next=23,onboarding_actions_setIsRequesting("updateProfileItems",!1);case 23:throw _context2.t0;case 24:case"end":return _context2.stop()}}),onboarding_actions_marked2,null,[[4,17]])}function snoozeTask(id){var task;return regenerator_default().wrap((function snoozeTask$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,snoozeTaskRequest(id);case 2:return _context3.prev=2,_context3.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/snooze"),method:"POST"});case 5:return task=_context3.sent,_context3.next=8,snoozeTaskSuccess(DeprecatedTasks.possiblyPruneTaskData(task,["isSnoozed","isDismissed","snoozedUntil"]));case 8:_context3.next=15;break;case 10:return _context3.prev=10,_context3.t0=_context3.catch(2),_context3.next=14,snoozeTaskError(id,_context3.t0);case 14:throw new Error;case 15:case"end":return _context3.stop()}}),actions_marked3,null,[[2,10]])}function undoSnoozeTask(id){var task;return regenerator_default().wrap((function undoSnoozeTask$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,undoSnoozeTaskRequest(id);case 2:return _context4.prev=2,_context4.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/undo_snooze"),method:"POST"});case 5:return task=_context4.sent,_context4.next=8,undoSnoozeTaskSuccess(DeprecatedTasks.possiblyPruneTaskData(task,["isSnoozed","isDismissed","snoozedUntil"]));case 8:_context4.next=15;break;case 10:return _context4.prev=10,_context4.t0=_context4.catch(2),_context4.next=14,undoSnoozeTaskError(id,_context4.t0);case 14:throw new Error;case 15:case"end":return _context4.stop()}}),actions_marked4,null,[[2,10]])}function dismissTask(id){var task;return regenerator_default().wrap((function dismissTask$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,dismissTaskRequest(id);case 2:return _context5.prev=2,_context5.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/dismiss"),method:"POST"});case 5:return task=_context5.sent,_context5.next=8,dismissTaskSuccess(DeprecatedTasks.possiblyPruneTaskData(task,["isDismissed","isSnoozed"]));case 8:_context5.next=15;break;case 10:return _context5.prev=10,_context5.t0=_context5.catch(2),_context5.next=14,dismissTaskError(id,_context5.t0);case 14:throw new Error;case 15:case"end":return _context5.stop()}}),actions_marked5,null,[[2,10]])}function undoDismissTask(id){var task;return regenerator_default().wrap((function undoDismissTask$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,undoDismissTaskRequest(id);case 2:return _context6.prev=2,_context6.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/undo_dismiss"),method:"POST"});case 5:return task=_context6.sent,_context6.next=8,undoDismissTaskSuccess(DeprecatedTasks.possiblyPruneTaskData(task,["isDismissed","isSnoozed"]));case 8:_context6.next=15;break;case 10:return _context6.prev=10,_context6.t0=_context6.catch(2),_context6.next=14,undoDismissTaskError(id,_context6.t0);case 14:throw new Error;case 15:case"end":return _context6.stop()}}),actions_marked6,null,[[2,10]])}function hideTaskList(id){var taskList;return regenerator_default().wrap((function hideTaskList$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,hideTaskListRequest(id);case 2:return _context7.prev=2,_context7.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/hide"),method:"POST"});case 5:return taskList=_context7.sent,_context7.next=8,hideTaskListSuccess(taskList);case 8:_context7.next=15;break;case 10:return _context7.prev=10,_context7.t0=_context7.catch(2),_context7.next=14,hideTaskListError(id,_context7.t0);case 14:throw new Error;case 15:case"end":return _context7.stop()}}),actions_marked7,null,[[2,10]])}function unhideTaskList(id){var taskList;return regenerator_default().wrap((function unhideTaskList$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,unhideTaskListRequest(id);case 2:return _context8.prev=2,_context8.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/unhide"),method:"POST"});case 5:return taskList=_context8.sent,_context8.next=8,unhideTaskListSuccess(taskList);case 8:_context8.next=15;break;case 10:return _context8.prev=10,_context8.t0=_context8.catch(2),_context8.next=14,unhideTaskListError(id,_context8.t0);case 14:throw new Error;case 15:case"end":return _context8.stop()}}),actions_marked8,null,[[2,10]])}function optimisticallyCompleteTask(id){return regenerator_default().wrap((function optimisticallyCompleteTask$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,optimisticallyCompleteTaskRequest(id);case 2:case"end":return _context9.stop()}}),_marked9)}function actionTask(id){var task;return regenerator_default().wrap((function actionTask$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,actionTaskRequest(id);case 2:return _context10.prev=2,_context10.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/").concat(id,"/action"),method:"POST"});case 5:return task=_context10.sent,_context10.next=8,actionTaskSuccess(DeprecatedTasks.possiblyPruneTaskData(task,["isActioned"]));case 8:_context10.next=15;break;case 10:return _context10.prev=10,_context10.t0=_context10.catch(2),_context10.next=14,actionTaskError(id,_context10.t0);case 14:throw new Error;case 15:case"end":return _context10.stop()}}),_marked10,null,[[2,10]])}function installAndActivatePluginsAsync(plugins){var results;return regenerator_default().wrap((function installAndActivatePluginsAsync$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,onboarding_actions_setIsRequesting("installAndActivatePluginsAsync",!0);case 2:return _context11.prev=2,_context11.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/onboarding/plugins/install-and-activate-async"),method:"POST",data:{plugins}});case 5:return results=_context11.sent,_context11.abrupt("return",results);case 9:throw _context11.prev=9,_context11.t0=_context11.catch(2),_context11.t0;case 12:return _context11.prev=12,_context11.next=15,onboarding_actions_setIsRequesting("installAndActivatePluginsAsync",!1);case 15:return _context11.finish(12);case 16:case"end":return _context11.stop()}}),_marked11,null,[[2,9,12,16]])}function setJetpackAuthUrl(results,redirectUrl){var from=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:onboarding_action_types.SET_JETPACK_AUTH_URL,results,redirectUrl,from}}function coreProfilerCompletedError(error){return{type:onboarding_action_types.CORE_PROFILER_COMPLETED_ERROR,error}}function coreProfilerCompletedRequest(){return{type:onboarding_action_types.CORE_PROFILER_COMPLETED_REQUEST}}function coreProfilerCompletedSuccess(){return{type:onboarding_action_types.CORE_PROFILER_COMPLETED_SUCCESS}}function coreProfilerCompleted(){return regenerator_default().wrap((function coreProfilerCompleted$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.next=2,coreProfilerCompletedRequest();case 2:return _context12.prev=2,_context12.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/launch-your-store/initialize-coming-soon"),method:"POST"});case 5:_context12.next=12;break;case 7:return _context12.prev=7,_context12.t0=_context12.catch(2),_context12.next=11,coreProfilerCompletedError(_context12.t0);case 11:throw _context12.t0;case 12:return _context12.prev=12,_context12.next=15,coreProfilerCompletedSuccess();case 15:return _context12.finish(12);case 16:case"end":return _context12.stop()}}),_marked12,null,[[2,7,12,16]])}var onboarding_resolvers_marked=regenerator_default().mark(resolvers_getProfileItems),onboarding_resolvers_marked2=regenerator_default().mark(resolvers_getEmailPrefill),onboarding_resolvers_marked3=regenerator_default().mark(resolvers_getTaskLists),onboarding_resolvers_marked4=regenerator_default().mark(resolvers_getTaskListsByIds),onboarding_resolvers_marked5=regenerator_default().mark(resolvers_getTaskList),onboarding_resolvers_marked6=regenerator_default().mark(resolvers_getTask),onboarding_resolvers_marked7=regenerator_default().mark(resolvers_getFreeExtensions),resolvers_marked8=regenerator_default().mark(resolvers_getProductTypes),resolvers_marked9=regenerator_default().mark(resolvers_getJetpackAuthUrl),onboarding_resolvers_resolveSelect=build_module_controls.n&&build_module_controls.n.resolveSelect?build_module_controls.n.resolveSelect:data_controls_build_module.Lt;function resolvers_getProfileItems(){var results;return regenerator_default().wrap((function getProfileItems$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,(0,data_controls_build_module.nr)({path:WC_ADMIN_NAMESPACE+"/onboarding/profile",method:"GET"});case 3:return results=_context.sent,_context.next=6,setProfileItems(results,!0);case 6:_context.next=12;break;case 8:return _context.prev=8,_context.t0=_context.catch(0),_context.next=12,actions_setError("getProfileItems",_context.t0);case 12:case"end":return _context.stop()}}),onboarding_resolvers_marked,null,[[0,8]])}function resolvers_getEmailPrefill(){var results;return regenerator_default().wrap((function getEmailPrefill$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,(0,data_controls_build_module.nr)({path:WC_ADMIN_NAMESPACE+"/onboarding/profile/experimental_get_email_prefill",method:"GET"});case 3:return results=_context2.sent,_context2.next=6,setEmailPrefill(results.email);case 6:_context2.next=12;break;case 8:return _context2.prev=8,_context2.t0=_context2.catch(0),_context2.next=12,actions_setError("getEmailPrefill",_context2.t0);case 12:case"end":return _context2.stop()}}),onboarding_resolvers_marked2,null,[[0,8]])}function resolvers_getTaskLists(){var deprecatedTasks,results;return regenerator_default().wrap((function getTaskLists$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return deprecatedTasks=new DeprecatedTasks,_context3.prev=1,_context3.next=4,checkUserCapability("manage_woocommerce");case 4:return _context3.next=6,(0,data_controls_build_module.nr)({path:WC_ADMIN_NAMESPACE+"/onboarding/tasks",method:deprecatedTasks.hasDeprecatedTasks()?"POST":"GET",data:deprecatedTasks.getPostData()});case 6:return results=_context3.sent,deprecatedTasks.mergeDeprecatedCallbackFunctions(results),_context3.next=10,getTaskListsSuccess(results);case 10:_context3.next=16;break;case 12:return _context3.prev=12,_context3.t0=_context3.catch(1),_context3.next=16,getTaskListsError(_context3.t0);case 16:case"end":return _context3.stop()}}),onboarding_resolvers_marked3,null,[[1,12]])}function resolvers_getTaskListsByIds(){return regenerator_default().wrap((function getTaskListsByIds$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,onboarding_resolvers_resolveSelect(onboarding_constants_STORE_NAME,"getTaskLists");case 2:case"end":return _context4.stop()}}),onboarding_resolvers_marked4)}function resolvers_getTaskList(){return regenerator_default().wrap((function getTaskList$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,onboarding_resolvers_resolveSelect(onboarding_constants_STORE_NAME,"getTaskLists");case 2:case"end":return _context5.stop()}}),onboarding_resolvers_marked5)}function resolvers_getTask(){return regenerator_default().wrap((function getTask$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,onboarding_resolvers_resolveSelect(onboarding_constants_STORE_NAME,"getTaskLists");case 2:case"end":return _context6.stop()}}),onboarding_resolvers_marked6)}function resolvers_getPaymentGatewaySuggestions(){var forceDefaultSuggestions=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regenerator_default().mark((function _callee(){var path,results;return regenerator_default().wrap((function _callee$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return path=WC_ADMIN_NAMESPACE+"/payment-gateway-suggestions",forceDefaultSuggestions&&(path+="?force_default_suggestions=true"),_context7.prev=2,_context7.next=5,(0,data_controls_build_module.nr)({path,method:"GET"});case 5:return results=_context7.sent,_context7.next=8,setPaymentMethods(results);case 8:_context7.next=14;break;case 10:return _context7.prev=10,_context7.t0=_context7.catch(2),_context7.next=14,actions_setError("getPaymentGatewaySuggestions",_context7.t0);case 14:case"end":return _context7.stop()}}),_callee,null,[[2,10]])}))()}function resolvers_getFreeExtensions(){var results;return regenerator_default().wrap((function getFreeExtensions$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_context8.next=3,(0,data_controls_build_module.nr)({path:WC_ADMIN_NAMESPACE+"/onboarding/free-extensions",method:"GET"});case 3:return results=_context8.sent,_context8.next=6,getFreeExtensionsSuccess(results);case 6:_context8.next=12;break;case 8:return _context8.prev=8,_context8.t0=_context8.catch(0),_context8.next=12,getFreeExtensionsError(_context8.t0);case 12:case"end":return _context8.stop()}}),onboarding_resolvers_marked7,null,[[0,8]])}function resolvers_getProductTypes(){var results;return regenerator_default().wrap((function getProductTypes$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,(0,data_controls_build_module.nr)({path:WC_ADMIN_NAMESPACE+"/onboarding/product-types",method:"GET"});case 3:return results=_context9.sent,_context9.next=6,getProductTypesSuccess(results);case 6:_context9.next=12;break;case 8:return _context9.prev=8,_context9.t0=_context9.catch(0),_context9.next=12,getProductTypesError(_context9.t0);case 12:case"end":return _context9.stop()}}),resolvers_marked8,null,[[0,8]])}function resolvers_getJetpackAuthUrl(query){var _query$from,path,results;return regenerator_default().wrap((function getJetpackAuthUrl$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.prev=0,path=WC_ADMIN_NAMESPACE+"/onboarding/plugins/jetpack-authorization-url?redirect_url="+encodeURIComponent(query.redirectUrl),query.from&&(path+="&from="+query.from),_context10.next=5,(0,data_controls_build_module.nr)({path,method:"GET"});case 5:return results=_context10.sent,_context10.next=8,setJetpackAuthUrl(results,query.redirectUrl,null!==(_query$from=query.from)&&void 0!==_query$from?_query$from:"");case 8:_context10.next=14;break;case 10:return _context10.prev=10,_context10.t0=_context10.catch(0),_context10.next=14,actions_setError("getJetpackAuthUrl",_context10.t0);case 14:case"end":return _context10.stop()}}),resolvers_marked9,null,[[0,10]])}function onboarding_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function onboarding_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?onboarding_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):onboarding_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var defaultState={errors:{},freeExtensions:[],profileItems:{business_extensions:null,completed:null,industry:null,number_employees:null,other_platform:null,other_platform_name:null,product_count:null,product_types:null,revenue:null,selling_venues:null,setup_client:null,skipped:null,theme:null,wccom_connected:null,is_agree_marketing:null,store_email:null,is_store_country_set:null},emailPrefill:"",paymentMethods:[],productTypes:{},requesting:{},taskLists:{},jetpackAuthUrls:{}},getUpdatedTaskLists=function getUpdatedTaskLists(taskLists,args){return Object.keys(taskLists).reduce((function(lists,taskListId){return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},lists),{},(0,defineProperty.A)({},taskListId,onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},taskLists[taskListId]),{},{tasks:taskLists[taskListId].tasks.map((function(task){return args.id===task.id?onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},task),args):task}))})))}),onboarding_reducer_objectSpread({},taskLists))};const onboarding_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case onboarding_action_types.SET_PROFILE_ITEMS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{profileItems:action.replace?action.profileItems:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.profileItems),action.profileItems)});case onboarding_action_types.SET_EMAIL_PREFILL:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{emailPrefill:action.emailPrefill});case onboarding_action_types.SET_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},action.selector,action.error))});case onboarding_action_types.SET_IS_REQUESTING:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},action.selector,action.isRequesting))});case onboarding_action_types.GET_PAYMENT_METHODS_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{paymentMethods:action.paymentMethods});case onboarding_action_types.GET_PRODUCT_TYPES_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{productTypes:action.productTypes});case onboarding_action_types.GET_PRODUCT_TYPES_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{productTypes:action.error})});case onboarding_action_types.GET_FREE_EXTENSIONS_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{getFreeExtensions:action.error})});case onboarding_action_types.GET_FREE_EXTENSIONS_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{freeExtensions:action.freeExtensions});case onboarding_action_types.GET_TASK_LISTS_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{getTaskLists:action.error})});case onboarding_action_types.GET_TASK_LISTS_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{taskLists:action.taskLists.reduce((function(lists,list){return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},lists),{},(0,defineProperty.A)({},list.id,list))}),state.taskLists||{})});case onboarding_action_types.DISMISS_TASK_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{dismissTask:action.error}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isDismissed:!1})});case onboarding_action_types.DISMISS_TASK_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{dismissTask:!0}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isDismissed:!0})});case onboarding_action_types.DISMISS_TASK_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{dismissTask:!1}),taskLists:getUpdatedTaskLists(state.taskLists,action.task)});case onboarding_action_types.UNDO_DISMISS_TASK_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{undoDismissTask:action.error}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isDismissed:!0})});case onboarding_action_types.UNDO_DISMISS_TASK_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{undoDismissTask:!0}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isDismissed:!1})});case onboarding_action_types.UNDO_DISMISS_TASK_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{undoDismissTask:!1}),taskLists:getUpdatedTaskLists(state.taskLists,action.task)});case onboarding_action_types.SNOOZE_TASK_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{snoozeTask:action.error}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isSnoozed:!1})});case onboarding_action_types.SNOOZE_TASK_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{snoozeTask:!0}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isSnoozed:!0})});case onboarding_action_types.SNOOZE_TASK_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{snoozeTask:!1}),taskLists:getUpdatedTaskLists(state.taskLists,action.task)});case onboarding_action_types.UNDO_SNOOZE_TASK_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{undoSnoozeTask:action.error}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isSnoozed:!0})});case onboarding_action_types.UNDO_SNOOZE_TASK_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{undoSnoozeTask:!0}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isSnoozed:!1})});case onboarding_action_types.UNDO_SNOOZE_TASK_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{undoSnoozeTask:!1}),taskLists:getUpdatedTaskLists(state.taskLists,action.task)});case onboarding_action_types.HIDE_TASK_LIST_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{hideTaskList:action.error}),taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists[action.taskListId]),{},{isHidden:!1,isVisible:!0})))});case onboarding_action_types.HIDE_TASK_LIST_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{hideTaskList:!0}),taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists[action.taskListId]),{},{isHidden:!0,isVisible:!1})))});case onboarding_action_types.HIDE_TASK_LIST_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{hideTaskList:!1}),taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,action.taskList))});case onboarding_action_types.UNHIDE_TASK_LIST_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{unhideTaskList:action.error}),taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists[action.taskListId]),{},{isHidden:!0,isVisible:!1})))});case onboarding_action_types.UNHIDE_TASK_LIST_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{unhideTaskList:!0}),taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists[action.taskListId]),{},{isHidden:!1,isVisible:!0})))});case onboarding_action_types.UNHIDE_TASK_LIST_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{unhideTaskList:!1}),taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,action.taskList))});case onboarding_action_types.KEEP_COMPLETED_TASKS_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{taskLists:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists),{},(0,defineProperty.A)({},action.taskListId,onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.taskLists[action.taskListId]),{},{keepCompletedTaskList:action.keepCompletedTaskList})))});case onboarding_action_types.OPTIMISTICALLY_COMPLETE_TASK_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isComplete:!0})});case onboarding_action_types.VISITED_TASK:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isVisited:!0})});case onboarding_action_types.ACTION_TASK_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{actionTask:action.error}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isActioned:!1})});case onboarding_action_types.ACTION_TASK_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{actionTask:!0}),taskLists:getUpdatedTaskLists(state.taskLists,{id:action.taskId,isActioned:!0})});case onboarding_action_types.ACTION_TASK_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{actionTask:!1}),taskLists:getUpdatedTaskLists(state.taskLists,action.task)});case onboarding_action_types.SET_JETPACK_AUTH_URL:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{jetpackAuthUrls:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.jetpackAuthUrls),{},(0,defineProperty.A)({},action.redirectUrl,action.results))});case onboarding_action_types.CORE_PROFILER_COMPLETED_REQUEST:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{coreProfilerCompleted:!0})});case onboarding_action_types.CORE_PROFILER_COMPLETED_SUCCESS:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{coreProfilerCompleted:!1})});case onboarding_action_types.CORE_PROFILER_COMPLETED_ERROR:return onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state),{},{errors:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.errors),{},{coreProfilerCompleted:action.error}),requesting:onboarding_reducer_objectSpread(onboarding_reducer_objectSpread({},state.requesting),{},{coreProfilerCompleted:!1})});default:return state}};(0,data_build_module.ti)(onboarding_constants_STORE_NAME,{reducer:onboarding_reducer,actions:onboarding_actions_namespaceObject,controls:data_controls_build_module.ne,selectors:onboarding_selectors_namespaceObject,resolvers:onboarding_resolvers_namespaceObject});var getReviews=function getReviews(state,query){var stringifiedQuery=JSON.stringify(query);return(state.reviews[stringifiedQuery]&&state.reviews[stringifiedQuery].data||[]).map((function(id){return state.data[id]}))},getReviewsTotalCount=function getReviewsTotalCount(state,query){var stringifiedQuery=JSON.stringify(query);return state.reviews[stringifiedQuery]&&state.reviews[stringifiedQuery].totalCount},getReviewsError=function getReviewsError(state,query){var stringifiedQuery=JSON.stringify(query);return state.errors[stringifiedQuery]};const reviews_action_types={UPDATE_REVIEWS:"UPDATE_REVIEWS",SET_REVIEW:"SET_REVIEW",SET_ERROR:"SET_ERROR",SET_REVIEW_IS_UPDATING:"SET_REVIEW_IS_UPDATING"};var reviews_actions_marked=regenerator_default().mark(updateReview),reviews_actions_marked2=regenerator_default().mark(deleteReview);function setReviewIsUpdating(reviewId,isUpdating){return{type:reviews_action_types.SET_REVIEW_IS_UPDATING,reviewId,isUpdating}}function setReview(reviewId,reviewData){return{type:reviews_action_types.SET_REVIEW,reviewId,reviewData}}function reviews_actions_setError(query,error){return{type:reviews_action_types.SET_ERROR,query,error}}function updateReviews(query,reviews,totalCount){return{type:reviews_action_types.UPDATE_REVIEWS,reviews,query,totalCount}}function updateReview(reviewId,reviewFields,query){var url,review;return regenerator_default().wrap((function updateReview$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,setReviewIsUpdating(reviewId,!0);case 2:return _context.prev=2,url=(0,add_query_args.F)("".concat(NAMESPACE,"/products/reviews/").concat(reviewId),query||{}),_context.next=6,(0,data_controls_build_module.nr)({path:url,method:"PUT",data:reviewFields});case 6:return review=_context.sent,_context.next=9,setReview(reviewId,review);case 9:return _context.next=11,setReviewIsUpdating(reviewId,!1);case 11:_context.next=20;break;case 13:return _context.prev=13,_context.t0=_context.catch(2),_context.next=17,reviews_actions_setError("updateReview",_context.t0);case 17:return _context.next=19,setReviewIsUpdating(reviewId,!1);case 19:throw new Error;case 20:case"end":return _context.stop()}}),reviews_actions_marked,null,[[2,13]])}function deleteReview(reviewId){var url,response;return regenerator_default().wrap((function deleteReview$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,setReviewIsUpdating(reviewId,!0);case 2:return _context2.prev=2,url="".concat(NAMESPACE,"/products/reviews/").concat(reviewId),_context2.next=6,(0,data_controls_build_module.nr)({path:url,method:"DELETE"});case 6:return response=_context2.sent,_context2.next=9,setReview(reviewId,response);case 9:return _context2.next=11,setReviewIsUpdating(reviewId,!1);case 11:return _context2.abrupt("return",response);case 14:return _context2.prev=14,_context2.t0=_context2.catch(2),_context2.next=18,reviews_actions_setError("deleteReview",_context2.t0);case 18:return _context2.next=20,setReviewIsUpdating(reviewId,!1);case 20:throw new Error;case 21:case"end":return _context2.stop()}}),reviews_actions_marked2,null,[[2,14]])}var reviews_resolvers_marked=regenerator_default().mark(resolvers_getReviews),reviews_resolvers_marked2=regenerator_default().mark(resolvers_getReviewsTotalCount);function resolvers_getReviews(query){var url,response,totalCountFromHeader,totalCount;return regenerator_default().wrap((function getReviews$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,url=(0,add_query_args.F)("".concat(NAMESPACE,"/products/reviews"),query),_context.next=4,fetchWithHeaders({path:url,method:"GET"});case 4:if(response=_context.sent,void 0!==(totalCountFromHeader=response.headers.get("x-wp-total"))){_context.next=8;break}throw new Error("Malformed response from server. 'x-wp-total' header is missing when retrieving ./products/reviews.");case 8:return totalCount=parseInt(totalCountFromHeader,10),_context.next=11,updateReviews(query,response.data,totalCount);case 11:_context.next=17;break;case 13:return _context.prev=13,_context.t0=_context.catch(0),_context.next=17,reviews_actions_setError(JSON.stringify(query),_context.t0);case 17:case"end":return _context.stop()}}),reviews_resolvers_marked,null,[[0,13]])}function resolvers_getReviewsTotalCount(query){return regenerator_default().wrap((function getReviewsTotalCount$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,resolvers_getReviews(query);case 2:case"end":return _context2.stop()}}),reviews_resolvers_marked2)}function reviews_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function reviews_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?reviews_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):reviews_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var initialState={reviews:{},errors:{},data:{}};const reviews_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case reviews_action_types.UPDATE_REVIEWS:var ids=[],nextReviews=action.reviews.reduce((function(result,review){return ids.push(review.id),result[review.id]=reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.data[review.id]||{}),review),result}),{});return reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state),{},{reviews:reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.reviews),{},(0,defineProperty.A)({},JSON.stringify(action.query),{data:ids,totalCount:action.totalCount})),data:reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.data),nextReviews)});case reviews_action_types.SET_REVIEW:return reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state),{},{data:reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.data),{},(0,defineProperty.A)({},action.reviewId,action.reviewData))});case reviews_action_types.SET_ERROR:return reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state),{},{errors:reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},action.query,action.error))});case reviews_action_types.SET_REVIEW_IS_UPDATING:return reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state),{},{data:reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.data),{},(0,defineProperty.A)({},action.reviewId,reviews_reducer_objectSpread(reviews_reducer_objectSpread({},state.data[action.reviewId]),{},{isUpdating:action.isUpdating})))});default:return state}};(0,data_build_module.ti)("wc/admin/reviews",{reducer:reviews_reducer,actions:reviews_actions_namespaceObject,controls:src_controls,selectors:reviews_selectors_namespaceObject,resolvers:reviews_resolvers_namespaceObject});var getNotes=(0,rememo.A)((function(state,query){return(state.noteQueries[JSON.stringify(query)]||[]).map((function(id){return state.notes[id]}))}),(function(state,query){return[state.noteQueries[JSON.stringify(query)],state.notes]})),getNotesError=function getNotesError(state,selector){return state.errors[selector]||!1},isNotesRequesting=function isNotesRequesting(state,selector){return state.requesting[selector]||!1};const notes_action_types={SET_ERROR:"SET_ERROR",SET_NOTE:"SET_NOTE",SET_NOTE_IS_UPDATING:"SET_NOTE_IS_UPDATING",SET_NOTES:"SET_NOTES",SET_NOTES_QUERY:"SET_NOTES_QUERY",SET_IS_REQUESTING:"SET_IS_REQUESTING"};function notes_actions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function notes_actions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?notes_actions_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):notes_actions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var notes_actions_marked=regenerator_default().mark(updateNote),notes_actions_marked2=regenerator_default().mark(triggerNoteAction),notes_actions_marked3=regenerator_default().mark(removeNote),notes_actions_marked4=regenerator_default().mark(batchUpdateNotes);function setNote(noteId,noteFields){return{type:notes_action_types.SET_NOTE,noteId,noteFields}}function setNoteIsUpdating(noteId,isUpdating){return{type:notes_action_types.SET_NOTE_IS_UPDATING,noteId,isUpdating}}function setNotes(notes){return{type:notes_action_types.SET_NOTES,notes}}function setNotesQuery(query,noteIds){return{type:notes_action_types.SET_NOTES_QUERY,query,noteIds}}function notes_actions_setError(selector,error){return{type:notes_action_types.SET_ERROR,error,selector}}function notes_actions_setIsRequesting(selector,isRequesting){return{type:notes_action_types.SET_IS_REQUESTING,selector,isRequesting}}function updateNote(noteId,noteFields){var url,note;return regenerator_default().wrap((function updateNote$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,notes_actions_setIsRequesting("updateNote",!0);case 2:return _context.next=4,setNoteIsUpdating(noteId,!0);case 4:return _context.prev=4,url="".concat(NAMESPACE,"/admin/notes/").concat(noteId),_context.next=8,(0,data_controls_build_module.nr)({path:url,method:"PUT",data:noteFields});case 8:return note=_context.sent,_context.next=11,setNote(noteId,note);case 11:return _context.next=13,notes_actions_setIsRequesting("updateNote",!1);case 13:return _context.next=15,setNoteIsUpdating(noteId,!1);case 15:_context.next=26;break;case 17:return _context.prev=17,_context.t0=_context.catch(4),_context.next=21,notes_actions_setError("updateNote",_context.t0);case 21:return _context.next=23,notes_actions_setIsRequesting("updateNote",!1);case 23:return _context.next=25,setNoteIsUpdating(noteId,!1);case 25:throw new Error;case 26:case"end":return _context.stop()}}),notes_actions_marked,null,[[4,17]])}function triggerNoteAction(noteId,actionId){var url,result;return regenerator_default().wrap((function triggerNoteAction$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,notes_actions_setIsRequesting("triggerNoteAction",!0);case 2:return url="".concat(NAMESPACE,"/admin/notes/").concat(noteId,"/action/").concat(actionId),_context2.prev=3,_context2.next=6,(0,data_controls_build_module.nr)({path:url,method:"POST"});case 6:return result=_context2.sent,_context2.next=9,updateNote(noteId,result);case 9:return _context2.next=11,notes_actions_setIsRequesting("triggerNoteAction",!1);case 11:_context2.next=20;break;case 13:return _context2.prev=13,_context2.t0=_context2.catch(3),_context2.next=17,notes_actions_setError("triggerNoteAction",_context2.t0);case 17:return _context2.next=19,notes_actions_setIsRequesting("triggerNoteAction",!1);case 19:throw new Error;case 20:case"end":return _context2.stop()}}),notes_actions_marked2,null,[[3,13]])}function removeNote(noteId){var url,response;return regenerator_default().wrap((function removeNote$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,notes_actions_setIsRequesting("removeNote",!0);case 2:return _context3.next=4,setNoteIsUpdating(noteId,!0);case 4:return _context3.prev=4,url="".concat(NAMESPACE,"/admin/notes/delete/").concat(noteId),_context3.next=8,(0,data_controls_build_module.nr)({path:url,method:"DELETE"});case 8:return response=_context3.sent,_context3.next=11,setNote(noteId,response);case 11:return _context3.next=13,notes_actions_setIsRequesting("removeNote",!1);case 13:return _context3.abrupt("return",response);case 16:return _context3.prev=16,_context3.t0=_context3.catch(4),_context3.next=20,notes_actions_setError("removeNote",_context3.t0);case 20:return _context3.next=22,notes_actions_setIsRequesting("removeNote",!1);case 22:return _context3.next=24,setNoteIsUpdating(noteId,!1);case 24:throw new Error;case 25:case"end":return _context3.stop()}}),notes_actions_marked3,null,[[4,16]])}function removeAllNotes(){var query=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regenerator_default().mark((function _callee(){var url,notes;return regenerator_default().wrap((function _callee$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,notes_actions_setIsRequesting("removeAllNotes",!0);case 2:return _context4.prev=2,url=(0,add_query_args.F)("".concat(NAMESPACE,"/admin/notes/delete/all"),query),_context4.next=6,(0,data_controls_build_module.nr)({path:url,method:"DELETE"});case 6:return notes=_context4.sent,_context4.next=9,setNotes(notes);case 9:return _context4.next=11,notes_actions_setIsRequesting("removeAllNotes",!1);case 11:return _context4.abrupt("return",notes);case 14:return _context4.prev=14,_context4.t0=_context4.catch(2),_context4.next=18,notes_actions_setError("removeAllNotes",_context4.t0);case 18:return _context4.next=20,notes_actions_setIsRequesting("removeAllNotes",!1);case 20:throw new Error;case 21:case"end":return _context4.stop()}}),_callee,null,[[2,14]])}))()}function batchUpdateNotes(noteIds,noteFields){var url,notes;return regenerator_default().wrap((function batchUpdateNotes$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,notes_actions_setIsRequesting("batchUpdateNotes",!0);case 2:return _context5.prev=2,url="".concat(NAMESPACE,"/admin/notes/update"),_context5.next=6,(0,data_controls_build_module.nr)({path:url,method:"PUT",data:notes_actions_objectSpread({noteIds},noteFields)});case 6:return notes=_context5.sent,_context5.next=9,setNotes(notes);case 9:return _context5.next=11,notes_actions_setIsRequesting("batchUpdateNotes",!1);case 11:_context5.next=20;break;case 13:return _context5.prev=13,_context5.t0=_context5.catch(2),_context5.next=17,notes_actions_setError("updateNote",_context5.t0);case 17:return _context5.next=19,notes_actions_setIsRequesting("batchUpdateNotes",!1);case 19:throw new Error;case 20:case"end":return _context5.stop()}}),notes_actions_marked4,null,[[2,13]])}function resolvers_getNotes(){var query=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regenerator_default().mark((function _callee(){var url,notes;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=(0,add_query_args.F)("".concat(NAMESPACE,"/admin/notes"),query),_context.prev=1,_context.next=4,checkUserCapability("manage_woocommerce");case 4:return _context.next=6,(0,data_controls_build_module.nr)({path:url});case 6:return notes=_context.sent,_context.next=9,setNotes(notes);case 9:return _context.next=11,setNotesQuery(query,notes.map((function(note){return note.id})));case 11:_context.next=17;break;case 13:return _context.prev=13,_context.t0=_context.catch(1),_context.next=17,notes_actions_setError("getNotes",_context.t0);case 17:case"end":return _context.stop()}}),_callee,null,[[1,13]])}))()}function notes_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function notes_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?notes_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):notes_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const notes_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errors:{},noteQueries:{},notes:{},requesting:{}},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case notes_action_types.SET_NOTES:state=notes_reducer_objectSpread(notes_reducer_objectSpread({},state),{},{notes:notes_reducer_objectSpread(notes_reducer_objectSpread({},state.notes),action.notes.reduce((function(acc,item){return acc[item.id]=item,acc}),{}))});break;case notes_action_types.SET_NOTES_QUERY:state=notes_reducer_objectSpread(notes_reducer_objectSpread({},state),{},{noteQueries:notes_reducer_objectSpread(notes_reducer_objectSpread({},state.noteQueries),{},(0,defineProperty.A)({},JSON.stringify(action.query),action.noteIds))});break;case notes_action_types.SET_ERROR:state=notes_reducer_objectSpread(notes_reducer_objectSpread({},state),{},{errors:notes_reducer_objectSpread(notes_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},action.selector,action.error))});break;case notes_action_types.SET_NOTE:state=notes_reducer_objectSpread(notes_reducer_objectSpread({},state),{},{notes:notes_reducer_objectSpread(notes_reducer_objectSpread({},state.notes),{},(0,defineProperty.A)({},action.noteId,action.noteFields))});break;case notes_action_types.SET_NOTE_IS_UPDATING:state=notes_reducer_objectSpread(notes_reducer_objectSpread({},state),{},{notes:notes_reducer_objectSpread(notes_reducer_objectSpread({},state.notes),{},(0,defineProperty.A)({},action.noteId,notes_reducer_objectSpread(notes_reducer_objectSpread({},state.notes[action.noteId]),{},{isUpdating:action.isUpdating})))});break;case notes_action_types.SET_IS_REQUESTING:state=notes_reducer_objectSpread(notes_reducer_objectSpread({},state),{},{requesting:notes_reducer_objectSpread(notes_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},action.selector,action.isRequesting))})}return state};(0,data_build_module.ti)("wc/admin/notes",{reducer:notes_reducer,actions:notes_actions_namespaceObject,controls:data_controls_build_module.ne,selectors:notes_selectors_namespaceObject,resolvers:notes_resolvers_namespaceObject});var EMPTY_OBJECT={},getReportItemsError=function getReportItemsError(state,endpoint,query){var resourceName=utils_getResourceName(endpoint,query);return state.itemErrors[resourceName]||!1},getReportItems=function getReportItems(state,endpoint,query){var resourceName=utils_getResourceName(endpoint,query);return state.items[resourceName]||EMPTY_OBJECT},getReportStats=function getReportStats(state,endpoint,query){var resourceName=utils_getResourceName(endpoint,query);return state.stats[resourceName]||EMPTY_OBJECT},getReportStatsError=function getReportStatsError(state,endpoint,query){var resourceName=utils_getResourceName(endpoint,query);return state.statErrors[resourceName]||!1};const reports_action_types={SET_ITEM_ERROR:"SET_ITEM_ERROR",SET_STAT_ERROR:"SET_STAT_ERROR",SET_REPORT_ITEMS:"SET_REPORT_ITEMS",SET_REPORT_STATS:"SET_REPORT_STATS"};function setReportItemsError(endpoint,query,error){var resourceName=utils_getResourceName(endpoint,query);return{type:reports_action_types.SET_ITEM_ERROR,resourceName,error}}function setReportItems(endpoint,query,items){var resourceName=utils_getResourceName(endpoint,query);return{type:reports_action_types.SET_REPORT_ITEMS,resourceName,items}}function setReportStats(endpoint,query,stats){var resourceName=utils_getResourceName(endpoint,query);return{type:reports_action_types.SET_REPORT_STATS,resourceName,stats}}function setReportStatsError(endpoint,query,error){var resourceName=utils_getResourceName(endpoint,query);return{type:reports_action_types.SET_STAT_ERROR,resourceName,error}}var reports_resolvers_marked=regenerator_default().mark(resolvers_getReportItems),reports_resolvers_marked2=regenerator_default().mark(resolvers_getReportStats),getIntHeaderValues=function getIntHeaderValues(endpoint,response,keys){return keys.map((function(key){var value=response.headers.get(key);if(void 0===value)throw new Error("Malformed response from server. '".concat(key,"' header is missing when retrieving ./report/").concat(endpoint,"."));return parseInt(value,10)}))};function resolvers_getReportItems(endpoint,query){var fetchArgs,response,data,_getIntHeaderValues,_getIntHeaderValues2,totalResults,totalPages;return regenerator_default().wrap((function getReportItems$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(fetchArgs={parse:!1,path:(0,add_query_args.F)("".concat(NAMESPACE,"/reports/").concat(endpoint),query)},"performance-indicators"!==endpoint||query.stats){_context.next=5;break}return _context.next=4,setReportItems(endpoint,query,{data:[],totalResults:0,totalPages:0});case 4:return _context.abrupt("return");case 5:return _context.prev=5,_context.next=8,fetchWithHeaders(fetchArgs);case 8:return response=_context.sent,data=response.data,_getIntHeaderValues=getIntHeaderValues(endpoint,response,["x-wp-total","x-wp-totalpages"]),_getIntHeaderValues2=(0,slicedToArray.A)(_getIntHeaderValues,2),totalResults=_getIntHeaderValues2[0],totalPages=_getIntHeaderValues2[1],_context.next=13,setReportItems(endpoint,query,{data,totalResults,totalPages});case 13:_context.next=19;break;case 15:return _context.prev=15,_context.t0=_context.catch(5),_context.next=19,setReportItemsError(endpoint,query,_context.t0);case 19:case"end":return _context.stop()}}),reports_resolvers_marked,null,[[5,15]])}function resolvers_getReportStats(endpoint,query){var fetchArgs,response,data,_getIntHeaderValues3,_getIntHeaderValues4,totalResults,totalPages;return regenerator_default().wrap((function getReportStats$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return fetchArgs={parse:!1,path:(0,add_query_args.F)("".concat(NAMESPACE,"/reports/").concat(endpoint,"/stats"),query)},_context2.prev=1,_context2.next=4,fetchWithHeaders(fetchArgs);case 4:return response=_context2.sent,data=response.data,_getIntHeaderValues3=getIntHeaderValues(endpoint,response,["x-wp-total","x-wp-totalpages"]),_getIntHeaderValues4=(0,slicedToArray.A)(_getIntHeaderValues3,2),totalResults=_getIntHeaderValues4[0],totalPages=_getIntHeaderValues4[1],_context2.next=9,setReportStats(endpoint,query,{data,totalResults,totalPages});case 9:_context2.next=15;break;case 11:return _context2.prev=11,_context2.t0=_context2.catch(1),_context2.next=15,setReportStatsError(endpoint,query,_context2.t0);case 15:case"end":return _context2.stop()}}),reports_resolvers_marked2,null,[[1,11]])}function reports_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function reports_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?reports_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):reports_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var reducer_initialState={itemErrors:{},items:{},statErrors:{},stats:{}};const reports_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case reports_action_types.SET_REPORT_ITEMS:return reports_reducer_objectSpread(reports_reducer_objectSpread({},state),{},{items:reports_reducer_objectSpread(reports_reducer_objectSpread({},state.items),{},(0,defineProperty.A)({},action.resourceName,action.items))});case reports_action_types.SET_REPORT_STATS:return reports_reducer_objectSpread(reports_reducer_objectSpread({},state),{},{stats:reports_reducer_objectSpread(reports_reducer_objectSpread({},state.stats),{},(0,defineProperty.A)({},action.resourceName,action.stats))});case reports_action_types.SET_ITEM_ERROR:return reports_reducer_objectSpread(reports_reducer_objectSpread({},state),{},{itemErrors:reports_reducer_objectSpread(reports_reducer_objectSpread({},state.itemErrors),{},(0,defineProperty.A)({},action.resourceName,action.error))});case reports_action_types.SET_STAT_ERROR:return reports_reducer_objectSpread(reports_reducer_objectSpread({},state),{},{statErrors:reports_reducer_objectSpread(reports_reducer_objectSpread({},state.statErrors),{},(0,defineProperty.A)({},action.resourceName,action.error))});default:return state}};(0,data_build_module.ti)("wc/admin/reports",{reducer:reports_reducer,actions:reports_actions_namespaceObject,controls:src_controls,selectors:reports_selectors_namespaceObject,resolvers:reports_resolvers_namespaceObject});var countries_constants_STORE_NAME="wc/admin/countries",getLocales=function getLocales(state){return state.locales},getLocale=function getLocale(state,id){var country=id.split(":")[0];return state.locales[country]},getCountries=function getCountries(state){return state.countries},getCountry=function getCountry(state,code){return state.countries.find((function(country){return country.code===code}))},geolocate=function geolocate(state){return state.geolocation},countries_action_types_TYPES=function(TYPES){return TYPES.GET_LOCALES_ERROR="GET_LOCALES_ERROR",TYPES.GET_LOCALES_SUCCESS="GET_LOCALES_SUCCESS",TYPES.GET_COUNTRIES_ERROR="GET_COUNTRIES_ERROR",TYPES.GET_COUNTRIES_SUCCESS="GET_COUNTRIES_SUCCESS",TYPES.GEOLOCATION_SUCCESS="GEOLOCATION_SUCCESS",TYPES.GEOLOCATION_ERROR="GEOLOCATION_ERROR",TYPES}({});const countries_action_types=countries_action_types_TYPES;function getLocalesSuccess(locales){return{type:countries_action_types.GET_LOCALES_SUCCESS,locales}}function getLocalesError(error){return{type:countries_action_types.GET_LOCALES_ERROR,error}}function getCountriesSuccess(countries){return{type:countries_action_types.GET_COUNTRIES_SUCCESS,countries}}function getCountriesError(error){return{type:countries_action_types.GET_COUNTRIES_ERROR,error}}function geolocationSuccess(geolocation){return{type:countries_action_types.GEOLOCATION_SUCCESS,geolocation}}function geolocationError(error){return{type:countries_action_types.GEOLOCATION_ERROR,error}}var countries_resolvers_marked=regenerator_default().mark(resolvers_getLocale),countries_resolvers_marked2=regenerator_default().mark(resolvers_getLocales),countries_resolvers_marked3=regenerator_default().mark(resolvers_getCountry),countries_resolvers_marked4=regenerator_default().mark(resolvers_getCountries),countries_resolvers_resolveSelect=build_module_controls.n&&build_module_controls.n.resolveSelect?build_module_controls.n.resolveSelect:data_controls_build_module.Lt;function resolvers_getLocale(){return regenerator_default().wrap((function getLocale$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,countries_resolvers_resolveSelect(countries_constants_STORE_NAME,"getLocales");case 2:case"end":return _context.stop()}}),countries_resolvers_marked)}function resolvers_getLocales(){var url,results;return regenerator_default().wrap((function getLocales$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,url=NAMESPACE+"/data/countries/locales",_context2.next=4,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 4:return results=_context2.sent,_context2.abrupt("return",getLocalesSuccess(results));case 8:return _context2.prev=8,_context2.t0=_context2.catch(0),_context2.abrupt("return",getLocalesError(_context2.t0));case 11:case"end":return _context2.stop()}}),countries_resolvers_marked2,null,[[0,8]])}function resolvers_getCountry(){return regenerator_default().wrap((function getCountry$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,countries_resolvers_resolveSelect(countries_constants_STORE_NAME,"getCountries");case 2:case"end":return _context3.stop()}}),countries_resolvers_marked3)}function resolvers_getCountries(){var url,results;return regenerator_default().wrap((function getCountries$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,url=NAMESPACE+"/data/countries",_context4.next=4,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 4:return results=_context4.sent,_context4.abrupt("return",getCountriesSuccess(results));case 8:return _context4.prev=8,_context4.t0=_context4.catch(0),_context4.abrupt("return",getCountriesError(_context4.t0));case 11:case"end":return _context4.stop()}}),countries_resolvers_marked4,null,[[0,8]])}var resolvers_geolocate=function geolocate(){return function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(_ref){var dispatch,url,response,result;return regenerator_default().wrap((function _callee$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return dispatch=_ref.dispatch,_context5.prev=1,url="https://public-api.wordpress.com/geo/?v=".concat((new Date).getTime()),_context5.next=5,fetch(url,{method:"GET"});case 5:return response=_context5.sent,_context5.next=8,response.json();case 8:result=_context5.sent,dispatch.geolocationSuccess(result),_context5.next=15;break;case 12:_context5.prev=12,_context5.t0=_context5.catch(1),dispatch.geolocationError(_context5.t0);case 15:case"end":return _context5.stop()}}),_callee,null,[[1,12]])})));return function(_x){return _ref2.apply(this,arguments)}}()};function countries_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function countries_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?countries_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):countries_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const countries_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errors:{},locales:{},countries:[],geolocation:void 0},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case countries_action_types.GET_LOCALES_SUCCESS:state=countries_reducer_objectSpread(countries_reducer_objectSpread({},state),{},{locales:action.locales});break;case countries_action_types.GET_LOCALES_ERROR:state=countries_reducer_objectSpread(countries_reducer_objectSpread({},state),{},{errors:countries_reducer_objectSpread(countries_reducer_objectSpread({},state.errors),{},{locales:action.error})});break;case countries_action_types.GET_COUNTRIES_SUCCESS:state=countries_reducer_objectSpread(countries_reducer_objectSpread({},state),{},{countries:action.countries});break;case countries_action_types.GET_COUNTRIES_ERROR:state=countries_reducer_objectSpread(countries_reducer_objectSpread({},state),{},{errors:countries_reducer_objectSpread(countries_reducer_objectSpread({},state.errors),{},{countries:action.error})});break;case countries_action_types.GEOLOCATION_SUCCESS:state=countries_reducer_objectSpread(countries_reducer_objectSpread({},state),{},{geolocation:action.geolocation});break;case countries_action_types.GEOLOCATION_ERROR:state=countries_reducer_objectSpread(countries_reducer_objectSpread({},state),{},{errors:countries_reducer_objectSpread(countries_reducer_objectSpread({},state.errors),{},{geolocation:action.error})})}return state};(0,data_build_module.ti)(countries_constants_STORE_NAME,{reducer:countries_reducer,actions:countries_actions_namespaceObject,controls:data_controls_build_module.ne,selectors:countries_selectors_namespaceObject,resolvers:countries_resolvers_namespaceObject});var getMenuItems=function getMenuItems(state){return(0,hooks_build_module.W5)("woocommerce_navigation_menu_items",state.menuItems)},getFavorites=function getFavorites(state){return state.favorites||[]},isNavigationRequesting=function isNavigationRequesting(state,selector){return state.requesting[selector]||!1},getPersistedQuery=function getPersistedQuery(state){return state.persistedQuery||{}},navigation_src=__webpack_require__("../../packages/js/navigation/src/index.js");const navigation_action_types={ADD_MENU_ITEMS:"ADD_MENU_ITEMS",SET_MENU_ITEMS:"SET_MENU_ITEMS",ON_HISTORY_CHANGE:"ON_HISTORY_CHANGE",ADD_FAVORITE_FAILURE:"ADD_FAVORITE_FAILURE",ADD_FAVORITE_REQUEST:"ADD_FAVORITE_REQUEST",ADD_FAVORITE_SUCCESS:"ADD_FAVORITE_SUCCESS",GET_FAVORITES_FAILURE:"GET_FAVORITES_FAILURE",GET_FAVORITES_REQUEST:"GET_FAVORITES_REQUEST",GET_FAVORITES_SUCCESS:"GET_FAVORITES_SUCCESS",REMOVE_FAVORITE_FAILURE:"REMOVE_FAVORITE_FAILURE",REMOVE_FAVORITE_REQUEST:"REMOVE_FAVORITE_REQUEST",REMOVE_FAVORITE_SUCCESS:"REMOVE_FAVORITE_SUCCESS"};var navigation_actions_marked=regenerator_default().mark(onHistoryChange),navigation_actions_marked2=regenerator_default().mark(onLoad),navigation_actions_marked3=regenerator_default().mark(addFavorite),navigation_actions_marked4=regenerator_default().mark(removeFavorite);function setMenuItems(menuItems){return{type:navigation_action_types.SET_MENU_ITEMS,menuItems}}function addMenuItems(menuItems){return{type:navigation_action_types.ADD_MENU_ITEMS,menuItems}}function getFavoritesFailure(error){return{type:navigation_action_types.GET_FAVORITES_FAILURE,error}}function getFavoritesRequest(favorites){return{type:navigation_action_types.GET_FAVORITES_REQUEST,favorites}}function getFavoritesSuccess(favorites){return{type:navigation_action_types.GET_FAVORITES_SUCCESS,favorites}}function addFavoriteRequest(favorite){return{type:navigation_action_types.ADD_FAVORITE_REQUEST,favorite}}function addFavoriteFailure(favorite,error){return{type:navigation_action_types.ADD_FAVORITE_FAILURE,favorite,error}}function addFavoriteSuccess(favorite){return{type:navigation_action_types.ADD_FAVORITE_SUCCESS,favorite}}function removeFavoriteRequest(favorite){return{type:navigation_action_types.REMOVE_FAVORITE_REQUEST,favorite}}function removeFavoriteFailure(favorite,error){return{type:navigation_action_types.REMOVE_FAVORITE_FAILURE,favorite,error}}function removeFavoriteSuccess(favorite){return{type:navigation_action_types.REMOVE_FAVORITE_SUCCESS,favorite}}function onHistoryChange(){var persistedQuery;return regenerator_default().wrap((function onHistoryChange$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(persistedQuery=(0,navigation_src.aK)(),Object.keys(persistedQuery).length){_context.next=3;break}return _context.abrupt("return",null);case 3:return _context.next=5,{type:navigation_action_types.ON_HISTORY_CHANGE,persistedQuery};case 5:case"end":return _context.stop()}}),navigation_actions_marked)}function onLoad(){return regenerator_default().wrap((function onLoad$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,onHistoryChange();case 2:case"end":return _context2.stop()}}),navigation_actions_marked2)}function addFavorite(favorite){var results;return regenerator_default().wrap((function addFavorite$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,addFavoriteRequest(favorite);case 2:return _context3.prev=2,_context3.next=5,(0,api_fetch_build_module.A)({path:"".concat(WC_ADMIN_NAMESPACE,"/navigation/favorites/me"),method:"POST",data:{item_id:favorite}});case 5:if(!(results=_context3.sent)){_context3.next=10;break}return _context3.next=9,addFavoriteSuccess(favorite);case 9:return _context3.abrupt("return",results);case 10:case 17:throw new Error;case 13:return _context3.prev=13,_context3.t0=_context3.catch(2),_context3.next=17,addFavoriteFailure(favorite,_context3.t0);case 18:case"end":return _context3.stop()}}),navigation_actions_marked3,null,[[2,13]])}function removeFavorite(favorite){var results;return regenerator_default().wrap((function removeFavorite$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,removeFavoriteRequest(favorite);case 2:return _context4.prev=2,_context4.next=5,(0,api_fetch_build_module.A)({path:"".concat(WC_ADMIN_NAMESPACE,"/navigation/favorites/me"),method:"DELETE",data:{item_id:favorite}});case 5:if(!(results=_context4.sent)){_context4.next=10;break}return _context4.next=9,removeFavoriteSuccess(favorite);case 9:return _context4.abrupt("return",results);case 10:case 17:throw new Error;case 13:return _context4.prev=13,_context4.t0=_context4.catch(2),_context4.next=17,removeFavoriteFailure(favorite,_context4.t0);case 18:case"end":return _context4.stop()}}),navigation_actions_marked4,null,[[2,13]])}function navigation_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function navigation_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?navigation_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):navigation_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const navigation_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,menuItems:[],favorites:[],requesting:{},persistedQuery:{}},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case navigation_action_types.SET_MENU_ITEMS:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{menuItems:action.menuItems});break;case navigation_action_types.ADD_MENU_ITEMS:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{menuItems:[].concat((0,toConsumableArray.A)(state.menuItems),(0,toConsumableArray.A)(action.menuItems))});break;case navigation_action_types.ON_HISTORY_CHANGE:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{persistedQuery:action.persistedQuery});break;case navigation_action_types.GET_FAVORITES_FAILURE:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{getFavorites:!1})});break;case navigation_action_types.GET_FAVORITES_REQUEST:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{getFavorites:!0})});break;case navigation_action_types.GET_FAVORITES_SUCCESS:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{favorites:action.favorites,requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{getFavorites:!1})});break;case navigation_action_types.ADD_FAVORITE_FAILURE:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{error:action.error,requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{addFavorite:!1})});break;case navigation_action_types.ADD_FAVORITE_REQUEST:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{addFavorite:!0})});break;case navigation_action_types.ADD_FAVORITE_SUCCESS:var newFavorites=state.favorites.includes(action.favorite)?state.favorites:[].concat((0,toConsumableArray.A)(state.favorites),[action.favorite]);state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{favorites:newFavorites,menuItems:state.menuItems.map((function(item){return item.id===action.favorite?navigation_reducer_objectSpread(navigation_reducer_objectSpread({},item),{},{menuId:"favorites"}):item})),requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{addFavorite:!1})});break;case navigation_action_types.REMOVE_FAVORITE_FAILURE:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{error:action.error,removeFavorite:!1})});break;case navigation_action_types.REMOVE_FAVORITE_REQUEST:state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{removeFavorite:!0})});break;case navigation_action_types.REMOVE_FAVORITE_SUCCESS:var filteredFavorites=state.favorites.filter((function(f){return f!==action.favorite}));state=navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state),{},{favorites:filteredFavorites,menuItems:state.menuItems.map((function(item){return item.id===action.favorite?navigation_reducer_objectSpread(navigation_reducer_objectSpread({},item),{},{menuId:"plugins"}):item})),requesting:navigation_reducer_objectSpread(navigation_reducer_objectSpread({},state.requesting),{},{removeFavorite:!1})})}return state};var navigation_resolvers_marked=regenerator_default().mark(resolvers_getFavorites);function resolvers_getFavorites(){var results;return regenerator_default().wrap((function getFavorites$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getFavoritesRequest();case 2:return _context.prev=2,_context.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_ADMIN_NAMESPACE,"/navigation/favorites/me")});case 5:if(!(results=_context.sent)){_context.next=10;break}return _context.next=9,getFavoritesSuccess(results);case 9:return _context.abrupt("return");case 10:case 17:throw new Error;case 13:return _context.prev=13,_context.t0=_context.catch(2),_context.next=17,getFavoritesFailure(_context.t0);case 18:case"end":return _context.stop()}}),navigation_resolvers_marked,null,[[2,13]])}const dispatchers=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee3(){var _dispatch,onLoad,onHistoryChange;return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _dispatch=(0,data_build_module.JD)("woocommerce-navigation"),onLoad=_dispatch.onLoad,onHistoryChange=_dispatch.onHistoryChange,_context3.next=3,onLoad();case 3:(0,navigation_src.Oo)((0,asyncToGenerator.A)(regenerator_default().mark((function _callee2(){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setTimeout((0,asyncToGenerator.A)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,onHistoryChange();case 2:case"end":return _context.stop()}}),_callee)}))),0);case 1:case"end":return _context2.stop()}}),_callee2)}))));case 4:case"end":return _context3.stop()}}),_callee3)})));(0,data_build_module.ti)("woocommerce-navigation",{reducer:navigation_reducer,actions:navigation_actions_namespaceObject,controls:data_controls_build_module.ne,resolvers:navigation_resolvers_namespaceObject,selectors:navigation_selectors_namespaceObject}),dispatchers();__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.map.js"),__webpack_require__("../../packages/js/date/src/index.ts");var utils_excluded=["_fields","page","per_page"];function items_utils_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function items_utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?items_utils_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):items_utils_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function utils_getTotalCountResourceName(itemType,query){query._fields,query.page,query.per_page;return utils_getResourceName("total-"+itemType,items_utils_objectSpread({},(0,objectWithoutProperties.A)(query,utils_excluded)))}var getItems=(0,rememo.A)((function(state,itemType,query){var ids,defaultValue=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,resourceName=utils_getResourceName(itemType,query);return state.items[resourceName]&&"object"===(0,esm_typeof.A)(state.items[resourceName])&&(ids=state.items[resourceName].data),ids?ids.reduce((function(map,id){var _state$data$itemType;return map.set(id,null===(_state$data$itemType=state.data[itemType])||void 0===_state$data$itemType?void 0:_state$data$itemType[id]),map}),new Map):defaultValue}),(function(state,itemType,query){var resourceName=utils_getResourceName(itemType,query);return[state.items[resourceName]]})),getItemsTotalCount=function getItemsTotalCount(state,itemType,query){var defaultValue=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,resourceName=utils_getTotalCountResourceName(itemType,query);return state.items.hasOwnProperty(resourceName)?state.items[resourceName]:defaultValue},getItemsError=function getItemsError(state,itemType,query){var resourceName=utils_getResourceName(itemType,query);return state.errors[resourceName]};const items_action_types={SET_ITEM:"SET_ITEM",SET_ITEMS:"SET_ITEMS",SET_ITEMS_TOTAL_COUNT:"SET_ITEMS_TOTAL_COUNT",SET_ERROR:"SET_ERROR"};var items_actions_marked=regenerator_default().mark(updateProductStock),items_actions_marked2=regenerator_default().mark(createProductFromTemplate);function items_actions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function items_actions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?items_actions_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):items_actions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function setItem(itemType,id,item){return{type:items_action_types.SET_ITEM,id,item,itemType}}function setItems(itemType,query,items,totalCount){return{type:items_action_types.SET_ITEMS,items,itemType,query,totalCount}}function setItemsTotalCount(itemType,query,totalCount){return{type:items_action_types.SET_ITEMS_TOTAL_COUNT,itemType,query,totalCount}}function items_actions_setError(itemType,query,error){return{type:items_action_types.SET_ERROR,itemType,query,error}}function updateProductStock(product,quantity){var updatedProduct,id,parentId,type,url;return regenerator_default().wrap((function updateProductStock$(_context){for(;;)switch(_context.prev=_context.next){case 0:return updatedProduct=items_actions_objectSpread(items_actions_objectSpread({},product),{},{stock_quantity:quantity}),id=updatedProduct.id,parentId=updatedProduct.parent_id,type=updatedProduct.type,_context.next=4,setItem("products",id,updatedProduct);case 4:url=NAMESPACE,_context.t0=type,_context.next="variation"===_context.t0?8:("variable"===_context.t0||_context.t0,10);break;case 8:return url+="/products/".concat(parentId,"/variations/").concat(id),_context.abrupt("break",11);case 10:url+="/products/".concat(id);case 11:return _context.prev=11,_context.next=14,(0,data_controls_build_module.nr)({path:url,method:"PUT",data:updatedProduct});case 14:return _context.abrupt("return",!0);case 17:return _context.prev=17,_context.t1=_context.catch(11),_context.next=21,setItem("products",id,product);case 21:return _context.next=23,items_actions_setError("products",{id},_context.t1);case 23:return _context.abrupt("return",!1);case 24:case"end":return _context.stop()}}),items_actions_marked,null,[[11,17]])}function createProductFromTemplate(itemFields,query){var url,newItem;return regenerator_default().wrap((function createProductFromTemplate$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,url=(0,add_query_args.F)("".concat(WC_ADMIN_NAMESPACE,"/onboarding/tasks/create_product_from_template"),query||{}),_context2.next=4,(0,data_controls_build_module.nr)({path:url,method:"POST",data:itemFields});case 4:return newItem=_context2.sent,_context2.next=7,setItem("products",newItem.id,newItem);case 7:return _context2.abrupt("return",newItem);case 10:return _context2.prev=10,_context2.t0=_context2.catch(0),_context2.next=14,items_actions_setError("createProductFromTemplate",query,_context2.t0);case 14:throw _context2.t0;case 15:case"end":return _context2.stop()}}),items_actions_marked2,null,[[0,10]])}function resolvers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function resolvers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?resolvers_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):resolvers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var items_resolvers_marked=regenerator_default().mark(resolvers_getItems),items_resolvers_marked2=regenerator_default().mark(resolvers_getItemsTotalCount),items_resolvers_marked3=regenerator_default().mark(items_resolvers_getReviewsTotalCount);function resolvers_getItems(itemType,query){var endpoint,_yield$request,items,totalCount;return regenerator_default().wrap((function getItems$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,endpoint="categories"===itemType?"products/categories":itemType,_context.next=4,request("".concat(NAMESPACE,"/").concat(endpoint),query);case 4:return _yield$request=_context.sent,items=_yield$request.items,totalCount=_yield$request.totalCount,_context.next=9,setItemsTotalCount(itemType,query,totalCount);case 9:return _context.next=11,setItems(itemType,query,items);case 11:_context.next=17;break;case 13:return _context.prev=13,_context.t0=_context.catch(0),_context.next=17,items_actions_setError(itemType,query,_context.t0);case 17:case"end":return _context.stop()}}),items_resolvers_marked,null,[[0,13]])}function resolvers_getItemsTotalCount(itemType,query){var totalsQuery,endpoint,_yield$request2,totalCount;return regenerator_default().wrap((function getItemsTotalCount$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,totalsQuery=resolvers_objectSpread(resolvers_objectSpread({},query),{},{page:1,per_page:1}),endpoint="categories"===itemType?"products/categories":itemType,_context2.next=5,request("".concat(NAMESPACE,"/").concat(endpoint),totalsQuery);case 5:return _yield$request2=_context2.sent,totalCount=_yield$request2.totalCount,_context2.next=9,setItemsTotalCount(itemType,query,totalCount);case 9:_context2.next=15;break;case 11:return _context2.prev=11,_context2.t0=_context2.catch(0),_context2.next=15,items_actions_setError(itemType,query,_context2.t0);case 15:case"end":return _context2.stop()}}),items_resolvers_marked2,null,[[0,11]])}function items_resolvers_getReviewsTotalCount(itemType,query){return regenerator_default().wrap((function getReviewsTotalCount$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,resolvers_getItemsTotalCount(itemType,query);case 2:case"end":return _context3.stop()}}),items_resolvers_marked3)}function items_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function items_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?items_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):items_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var items_reducer_initialState={items:{},errors:{},data:{}};const items_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:items_reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case items_action_types.SET_ITEM:var itemData=state.data[action.itemType]||{};return items_reducer_objectSpread(items_reducer_objectSpread({},state),{},{data:items_reducer_objectSpread(items_reducer_objectSpread({},state.data),{},(0,defineProperty.A)({},action.itemType,items_reducer_objectSpread(items_reducer_objectSpread({},itemData),{},(0,defineProperty.A)({},action.id,items_reducer_objectSpread(items_reducer_objectSpread({},itemData[action.id]||{}),action.item)))))});case items_action_types.SET_ITEMS:var ids=[],nextItems=action.items.reduce((function(result,theItem){return ids.push(theItem.id),result[theItem.id]=theItem,result}),{}),resourceName=utils_getResourceName(action.itemType,action.query);return items_reducer_objectSpread(items_reducer_objectSpread({},state),{},{items:items_reducer_objectSpread(items_reducer_objectSpread({},state.items),{},(0,defineProperty.A)({},resourceName,{data:ids})),data:items_reducer_objectSpread(items_reducer_objectSpread({},state.data),{},(0,defineProperty.A)({},action.itemType,items_reducer_objectSpread(items_reducer_objectSpread({},state.data[action.itemType]),nextItems)))});case items_action_types.SET_ITEMS_TOTAL_COUNT:var totalResourceName=utils_getTotalCountResourceName(action.itemType,action.query);return items_reducer_objectSpread(items_reducer_objectSpread({},state),{},{items:items_reducer_objectSpread(items_reducer_objectSpread({},state.items),{},(0,defineProperty.A)({},totalResourceName,action.totalCount))});case items_action_types.SET_ERROR:return items_reducer_objectSpread(items_reducer_objectSpread({},state),{},{errors:items_reducer_objectSpread(items_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},utils_getResourceName(action.itemType,action.query),action.error))});default:return state}};(0,data_build_module.ti)("wc/admin/items",{reducer:items_reducer,actions:items_actions_namespaceObject,controls:src_controls,selectors:items_selectors_namespaceObject,resolvers:items_resolvers_namespaceObject});var action_types_ACTION_TYPES=function(ACTION_TYPES){return ACTION_TYPES.GET_PAYMENT_GATEWAYS_REQUEST="GET_PAYMENT_GATEWAYS_REQUEST",ACTION_TYPES.GET_PAYMENT_GATEWAYS_SUCCESS="GET_PAYMENT_GATEWAYS_SUCCESS",ACTION_TYPES.GET_PAYMENT_GATEWAYS_ERROR="GET_PAYMENT_GATEWAYS_ERROR",ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_REQUEST="UPDATE_PAYMENT_GATEWAY_REQUEST",ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_SUCCESS="UPDATE_PAYMENT_GATEWAY_SUCCESS",ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_ERROR="UPDATE_PAYMENT_GATEWAY_ERROR",ACTION_TYPES.GET_PAYMENT_GATEWAY_REQUEST="GET_PAYMENT_GATEWAY_REQUEST",ACTION_TYPES.GET_PAYMENT_GATEWAY_SUCCESS="GET_PAYMENT_GATEWAY_SUCCESS",ACTION_TYPES.GET_PAYMENT_GATEWAY_ERROR="GET_PAYMENT_GATEWAY_ERROR",ACTION_TYPES}({}),constants_STORE_KEY="wc/payment-gateways",API_NAMESPACE="wc/v3",payment_gateways_actions_marked=regenerator_default().mark(updatePaymentGateway);function getPaymentGatewaysRequest(){return{type:action_types_ACTION_TYPES.GET_PAYMENT_GATEWAYS_REQUEST}}function getPaymentGatewaysSuccess(paymentGateways){return{type:action_types_ACTION_TYPES.GET_PAYMENT_GATEWAYS_SUCCESS,paymentGateways}}function getPaymentGatewaysError(error){return{type:action_types_ACTION_TYPES.GET_PAYMENT_GATEWAYS_ERROR,error}}function getPaymentGatewayRequest(){return{type:action_types_ACTION_TYPES.GET_PAYMENT_GATEWAY_REQUEST}}function getPaymentGatewayError(error){return{type:action_types_ACTION_TYPES.GET_PAYMENT_GATEWAY_ERROR,error}}function getPaymentGatewaySuccess(paymentGateway){return{type:action_types_ACTION_TYPES.GET_PAYMENT_GATEWAY_SUCCESS,paymentGateway}}function updatePaymentGatewaySuccess(paymentGateway){return{type:action_types_ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_SUCCESS,paymentGateway}}function updatePaymentGatewayRequest(){return{type:action_types_ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_REQUEST}}function updatePaymentGatewayError(error){return{type:action_types_ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_ERROR,error}}function updatePaymentGateway(id,data){var response;return regenerator_default().wrap((function updatePaymentGateway$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,updatePaymentGatewayRequest();case 3:return _context.next=5,(0,data_controls_build_module.nr)({method:"PUT",path:API_NAMESPACE+"/payment_gateways/"+id,body:JSON.stringify(data)});case 5:if(!(response=_context.sent)||response.id!==id){_context.next=10;break}return _context.next=9,updatePaymentGatewaySuccess(response);case 9:return _context.abrupt("return",response);case 10:_context.next=17;break;case 12:return _context.prev=12,_context.t0=_context.catch(0),_context.next=16,updatePaymentGatewayError(_context.t0);case 16:throw _context.t0;case 17:case"end":return _context.stop()}}),payment_gateways_actions_marked,null,[[0,12]])}var payment_gateways_resolvers_marked=regenerator_default().mark(getPaymentGateways),payment_gateways_resolvers_marked2=regenerator_default().mark(getPaymentGateway),resolvers_dispatch=build_module_controls.n&&build_module_controls.n.dispatch?build_module_controls.n.dispatch:data_controls_build_module.JD;function getPaymentGateways(){var response,i;return regenerator_default().wrap((function getPaymentGateways$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getPaymentGatewaysRequest();case 2:return _context.prev=2,_context.next=5,(0,data_controls_build_module.nr)({path:API_NAMESPACE+"/payment_gateways"});case 5:return response=_context.sent,_context.next=8,getPaymentGatewaysSuccess(response);case 8:i=0;case 9:if(!(i<response.length)){_context.next=15;break}return _context.next=12,resolvers_dispatch(constants_STORE_KEY,"finishResolution","getPaymentGateway",[response[i].id]);case 12:i++,_context.next=9;break;case 15:_context.next=21;break;case 17:return _context.prev=17,_context.t0=_context.catch(2),_context.next=21,getPaymentGatewaysError(_context.t0);case 21:case"end":return _context.stop()}}),payment_gateways_resolvers_marked,null,[[2,17]])}function getPaymentGateway(id){var response;return regenerator_default().wrap((function getPaymentGateway$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,getPaymentGatewayRequest();case 2:return _context2.prev=2,_context2.next=5,(0,data_controls_build_module.nr)({path:API_NAMESPACE+"/payment_gateways/"+id});case 5:if(!(response=_context2.sent)||!response.id){_context2.next=10;break}return _context2.next=9,getPaymentGatewaySuccess(response);case 9:return _context2.abrupt("return",response);case 10:_context2.next=16;break;case 12:return _context2.prev=12,_context2.t0=_context2.catch(2),_context2.next=16,getPaymentGatewayError(_context2.t0);case 16:case"end":return _context2.stop()}}),payment_gateways_resolvers_marked2,null,[[2,12]])}function selectors_getPaymentGateway(state,id){return state.paymentGateways.find((function(paymentGateway){return paymentGateway.id===id}))}function selectors_getPaymentGateways(state){return state.paymentGateways}function selectors_getPaymentGatewayError(state,selector){return state.errors[selector]||null}function isPaymentGatewayUpdating(state){return state.isUpdating||!1}__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.find-index.js");function payment_gateways_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function payment_gateways_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?payment_gateways_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):payment_gateways_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function updatePaymentGatewayList(state,paymentGateway){var targetIndex=state.paymentGateways.findIndex((function(gateway){return gateway.id===paymentGateway.id}));return payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state),{},-1===targetIndex?{paymentGateways:[].concat((0,toConsumableArray.A)(state.paymentGateways),[paymentGateway]),isUpdating:!1}:{paymentGateways:[].concat((0,toConsumableArray.A)(state.paymentGateways.slice(0,targetIndex)),[paymentGateway],(0,toConsumableArray.A)(state.paymentGateways.slice(targetIndex+1))),isUpdating:!1})}const payment_gateways_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{paymentGateways:[],isUpdating:!1,errors:{}},payload=arguments.length>1?arguments[1]:void 0;if(payload&&"type"in payload)switch(payload.type){case action_types_ACTION_TYPES.GET_PAYMENT_GATEWAYS_REQUEST:case action_types_ACTION_TYPES.GET_PAYMENT_GATEWAY_REQUEST:return state;case action_types_ACTION_TYPES.GET_PAYMENT_GATEWAYS_SUCCESS:return payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state),{},{paymentGateways:payload.paymentGateways});case action_types_ACTION_TYPES.GET_PAYMENT_GATEWAYS_ERROR:return payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state),{},{errors:payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state.errors),{},{getPaymentGateways:payload.error})});case action_types_ACTION_TYPES.GET_PAYMENT_GATEWAY_ERROR:return payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state),{},{errors:payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state.errors),{},{getPaymentGateway:payload.error})});case action_types_ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_REQUEST:return payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state),{},{isUpdating:!0});case action_types_ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_SUCCESS:case action_types_ACTION_TYPES.GET_PAYMENT_GATEWAY_SUCCESS:return updatePaymentGatewayList(state,payload.paymentGateway);case action_types_ACTION_TYPES.UPDATE_PAYMENT_GATEWAY_ERROR:return payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state),{},{errors:payment_gateways_reducer_objectSpread(payment_gateways_reducer_objectSpread({},state.errors),{},{updatePaymentGateway:payload.error}),isUpdating:!1})}return state};(0,data_build_module.ti)(constants_STORE_KEY,{actions:payment_gateways_actions_namespaceObject,selectors:payment_gateways_selectors_namespaceObject,resolvers:payment_gateways_resolvers_namespaceObject,controls:data_controls_build_module.ne,reducer:payment_gateways_reducer});var redux_store=__webpack_require__("../../node_modules/.pnpm/@wordpress+data@6.6.1_react@17.0.2/node_modules/@wordpress/data/build-module/redux-store/index.js"),shipping_methods_action_types_ACTION_TYPES=function(ACTION_TYPES){return ACTION_TYPES.GET_SHIPPING_METHODS_REQUEST="GET_SHIPPING_METHODS_REQUEST",ACTION_TYPES.GET_SHIPPING_METHODS_SUCCESS="GET_SHIPPING_METHODS_SUCCESS",ACTION_TYPES.GET_SHIPPING_METHODS_ERROR="GET_SHIPPING_METHODS_ERROR",ACTION_TYPES}({});function getShippingMethodsRequest(){return{type:shipping_methods_action_types_ACTION_TYPES.GET_SHIPPING_METHODS_REQUEST}}function getShippingMethodsSuccess(shippingMethods){return{type:shipping_methods_action_types_ACTION_TYPES.GET_SHIPPING_METHODS_SUCCESS,shippingMethods}}function getShippingMethodsError(error){return{type:shipping_methods_action_types_ACTION_TYPES.GET_SHIPPING_METHODS_ERROR,error}}function getShippingMethods(){var forceDefaultSuggestions=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regenerator_default().mark((function _callee(){var path,results;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return path=WC_ADMIN_NAMESPACE+"/shipping-partner-suggestions",forceDefaultSuggestions&&(path+="?force_default_suggestions=true"),_context.next=4,getShippingMethodsRequest();case 4:return _context.prev=4,_context.next=7,(0,data_controls_build_module.nr)({path,method:"GET"});case 7:return results=_context.sent,_context.next=10,getShippingMethodsSuccess(results);case 10:_context.next=16;break;case 12:return _context.prev=12,_context.t0=_context.catch(4),_context.next=16,getShippingMethodsError(_context.t0);case 16:case"end":return _context.stop()}}),_callee,null,[[4,12]])}))()}var selectors_getShippingMethods=function getShippingMethods(state){return state.shippingMethods||[]};function isShippingMethodsUpdating(state){return state.isUpdating||!1}function shipping_methods_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function shipping_methods_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?shipping_methods_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):shipping_methods_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const shipping_methods_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shippingMethods:[],isUpdating:!1,errors:{}},payload=arguments.length>1?arguments[1]:void 0;if(payload&&"type"in payload)switch(payload.type){case shipping_methods_action_types_ACTION_TYPES.GET_SHIPPING_METHODS_REQUEST:return shipping_methods_reducer_objectSpread(shipping_methods_reducer_objectSpread({},state),{},{isUpdating:!0});case shipping_methods_action_types_ACTION_TYPES.GET_SHIPPING_METHODS_SUCCESS:return shipping_methods_reducer_objectSpread(shipping_methods_reducer_objectSpread({},state),{},{shippingMethods:payload.shippingMethods,isUpdating:!1});case shipping_methods_action_types_ACTION_TYPES.GET_SHIPPING_METHODS_ERROR:return shipping_methods_reducer_objectSpread(shipping_methods_reducer_objectSpread({},state),{},{isUpdating:!1,errors:shipping_methods_reducer_objectSpread(shipping_methods_reducer_objectSpread({},state.errors),{},{getShippingMethods:payload.error})})}return state};var store=(0,redux_store.A)("wc/shipping-methods",{reducer:shipping_methods_reducer,selectors:shipping_methods_selectors_namespaceObject,resolvers:shipping_methods_resolvers_namespaceObject,controls:data_controls_build_module.ne,actions:shipping_methods_actions_namespaceObject});(0,data_build_module.kz)(store);var products_constants_STORE_NAME="wc/admin/products",WC_PRODUCT_NAMESPACE="/wc/v3/products",PERMALINK_PRODUCT_REGEX=/%(?:postname|pagename)%/,WC_V3_ENDPOINT_SUGGESTED_PRODUCTS="".concat(WC_PRODUCT_NAMESPACE,"/suggested-products"),products_utils_excluded=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.split.js"),["_fields","page","per_page"]);function products_utils_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var PRODUCT_PREFIX="product";function getProductResourceName(query){return utils_getResourceName(PRODUCT_PREFIX,query)}function getTotalProductCountResourceName(query){query._fields,query.page,query.per_page;return getProductResourceName((0,objectWithoutProperties.A)(query,products_utils_excluded))}function createIdFromOptions(){var _options$categories,_options$tags,_options$attributes,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.keys(options).length)return"default";var optionsForKey=function products_utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?products_utils_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):products_utils_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},options);return null===(_options$categories=options.categories)||void 0===_options$categories||_options$categories.sort(),null===(_options$tags=options.tags)||void 0===_options$tags||_options$tags.sort(),null===(_options$attributes=options.attributes)||void 0===_options$attributes||_options$attributes.sort(),JSON.stringify(optionsForKey)}function selectors_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function selectors_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?selectors_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):selectors_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getProduct=function getProduct(state,productId){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return state.data[productId]||defaultValue},getProducts=(0,rememo.A)((function(state,query){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,resourceName=getProductResourceName(query),ids=state.products[resourceName]?state.products[resourceName].data:void 0;if(!ids)return defaultValue;if(query&&void 0!==query._fields){var fields=query._fields;return ids.map((function(id){return fields.reduce((function(product,field){return selectors_objectSpread(selectors_objectSpread({},product),{},(0,defineProperty.A)({},field,state.data[id][field]))}),{})}))}return ids.map((function(id){return state.data[id]}))}),(function(state,query){var resourceName=getProductResourceName(query),ids=state.products[resourceName]?state.products[resourceName].data:void 0;return[state.products[resourceName]].concat((0,toConsumableArray.A)((ids||[]).map((function(id){return state.data[id]}))))})),getProductsTotalCount=function getProductsTotalCount(state,query){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,resourceName=getTotalProductCountResourceName(query);return state.productsCount.hasOwnProperty(resourceName)?state.productsCount[resourceName]:defaultValue},getProductsError=function getProductsError(state,query){var resourceName=getProductResourceName(query);return state.errors[resourceName]},getCreateProductError=function getCreateProductError(state,query){var resourceName=getProductResourceName(query);return state.errors[resourceName]},getUpdateProductError=function getUpdateProductError(state,id,query){var resourceName=getProductResourceName(query);return state.errors["update/".concat(id,"/").concat(resourceName)]},getDeleteProductError=function getDeleteProductError(state,id){return state.errors["delete/".concat(id)]},isPending=function isPending(state,action,productId){var _state$pending$action;return void 0!==productId&&"createProduct"!==action?(null===(_state$pending$action=state.pending[action])||void 0===_state$pending$action?void 0:_state$pending$action[productId])||!1:"createProduct"===action&&state.pending[action]||!1},getPermalinkParts=(0,rememo.A)((function(state,productId){var product=state.data[productId];if(product&&product.permalink_template){var postName=product.slug||product.generated_slug,_product$permalink_te=product.permalink_template.split(PERMALINK_PRODUCT_REGEX),_product$permalink_te2=(0,slicedToArray.A)(_product$permalink_te,2);return{prefix:_product$permalink_te2[0],postName,suffix:_product$permalink_te2[1]}}return null}),(function(state,productId){return[state.data[productId]]})),getRelatedProducts=(0,rememo.A)((function(state,productId){var product=state.data[productId];return null!=product&&product.related_ids&&getProducts(state,{include:product.related_ids})||[]}),(function(state,productId){return[state.data[productId]]}));function getSuggestedProducts(state,options){var key=createIdFromOptions(options);return state.suggestedProducts[key]?state.suggestedProducts[key].items:[]}var products_action_types_TYPES=function(TYPES){return TYPES.CREATE_PRODUCT_START="CREATE_PRODUCT_START",TYPES.CREATE_PRODUCT_ERROR="CREATE_PRODUCT_ERROR",TYPES.CREATE_PRODUCT_SUCCESS="CREATE_PRODUCT_SUCCESS",TYPES.GET_PRODUCT_SUCCESS="GET_PRODUCT_SUCCESS",TYPES.GET_PRODUCT_ERROR="GET_PRODUCT_ERROR",TYPES.GET_PRODUCTS_SUCCESS="GET_PRODUCTS_SUCCESS",TYPES.GET_PRODUCTS_ERROR="GET_PRODUCTS_ERROR",TYPES.GET_PRODUCTS_TOTAL_COUNT_SUCCESS="GET_PRODUCTS_TOTAL_COUNT_SUCCESS",TYPES.GET_PRODUCTS_TOTAL_COUNT_ERROR="GET_PRODUCTS_TOTAL_COUNT_ERROR",TYPES.UPDATE_PRODUCT_START="UPDATE_PRODUCT_START",TYPES.UPDATE_PRODUCT_ERROR="UPDATE_PRODUCT_ERROR",TYPES.UPDATE_PRODUCT_SUCCESS="UPDATE_PRODUCT_SUCCESS",TYPES.DELETE_PRODUCT_START="DELETE_PRODUCT_START",TYPES.DELETE_PRODUCT_ERROR="DELETE_PRODUCT_ERROR",TYPES.DELETE_PRODUCT_SUCCESS="DELETE_PRODUCT_SUCCESS",TYPES.DUPLICATE_PRODUCT_START="DUPLICATE_PRODUCT_START",TYPES.DUPLICATE_PRODUCT_ERROR="DUPLICATE_PRODUCT_ERROR",TYPES.DUPLICATE_PRODUCT_SUCCESS="DUPLICATE_PRODUCT_SUCCESS",TYPES.SET_SUGGESTED_PRODUCTS="SET_SUGGESTED_PRODUCTS",TYPES}({});const products_action_types=products_action_types_TYPES;var products_actions_marked=regenerator_default().mark(createProduct),products_actions_marked2=regenerator_default().mark(updateProduct),products_actions_marked3=regenerator_default().mark(duplicateProduct);function getProductSuccess(id,product){return{type:products_action_types.GET_PRODUCT_SUCCESS,id,product}}function getProductError(productId,error){return{type:products_action_types.GET_PRODUCT_ERROR,productId,error}}function createProductSuccess(id,product){return{type:products_action_types.CREATE_PRODUCT_SUCCESS,id,product}}function createProductError(query,error){return{type:products_action_types.CREATE_PRODUCT_ERROR,query,error}}function duplicateProductStart(id){return{type:products_action_types.DUPLICATE_PRODUCT_START,id}}function duplicateProductSuccess(id,product){return{type:products_action_types.DUPLICATE_PRODUCT_SUCCESS,id,product}}function duplicateProductError(id,error){return{type:products_action_types.DUPLICATE_PRODUCT_ERROR,id,error}}function updateProductStart(id){return{type:products_action_types.UPDATE_PRODUCT_START,id}}function updateProductSuccess(id,product){return{type:products_action_types.UPDATE_PRODUCT_SUCCESS,id,product}}function updateProductError(id,error){return{type:products_action_types.UPDATE_PRODUCT_ERROR,id,error}}function getProductsSuccess(query,products,totalCount){return{type:products_action_types.GET_PRODUCTS_SUCCESS,products,query,totalCount}}function actions_getProductsError(query,error){return{type:products_action_types.GET_PRODUCTS_ERROR,query,error}}function getProductsTotalCountSuccess(query,totalCount){return{type:products_action_types.GET_PRODUCTS_TOTAL_COUNT_SUCCESS,query,totalCount}}function getProductsTotalCountError(query,error){return{type:products_action_types.GET_PRODUCTS_TOTAL_COUNT_ERROR,query,error}}function createProduct(data){var product;return regenerator_default().wrap((function createProduct$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,{type:products_action_types.CREATE_PRODUCT_START};case 2:return _context.prev=2,_context.next=5,(0,data_controls_build_module.nr)({path:WC_PRODUCT_NAMESPACE,method:"POST",data});case 5:return product=_context.sent,_context.next=8,createProductSuccess(product.id,product);case 8:return _context.abrupt("return",product);case 11:return _context.prev=11,_context.t0=_context.catch(2),_context.next=15,createProductError(data,_context.t0);case 15:throw _context.t0;case 16:case"end":return _context.stop()}}),products_actions_marked,null,[[2,11]])}function updateProduct(id,data){var product;return regenerator_default().wrap((function updateProduct$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,updateProductStart(id);case 2:return _context2.prev=2,_context2.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_PRODUCT_NAMESPACE,"/").concat(id),method:"PUT",data});case 5:return product=_context2.sent,_context2.next=8,updateProductSuccess(product.id,product);case 8:return _context2.abrupt("return",product);case 11:return _context2.prev=11,_context2.t0=_context2.catch(2),_context2.next=15,updateProductError(id,_context2.t0);case 15:throw _context2.t0;case 16:case"end":return _context2.stop()}}),products_actions_marked2,null,[[2,11]])}function duplicateProduct(id,data){var product;return regenerator_default().wrap((function duplicateProduct$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,duplicateProductStart(id);case 2:return _context3.prev=2,_context3.next=5,(0,data_controls_build_module.nr)({path:"".concat(WC_PRODUCT_NAMESPACE,"/").concat(id,"/duplicate"),method:"POST",data});case 5:return product=_context3.sent,_context3.next=8,duplicateProductSuccess(product.id,product);case 8:return _context3.abrupt("return",product);case 11:return _context3.prev=11,_context3.t0=_context3.catch(2),_context3.next=15,duplicateProductError(id,_context3.t0);case 15:throw _context3.t0;case 16:case"end":return _context3.stop()}}),products_actions_marked3,null,[[2,11]])}function deleteProductStart(id){return{type:products_action_types.DELETE_PRODUCT_START,id}}function deleteProductSuccess(id,product,force){return{type:products_action_types.DELETE_PRODUCT_SUCCESS,id,product,force}}function deleteProductError(id,error){return{type:products_action_types.DELETE_PRODUCT_ERROR,id,error}}function deleteProduct(id){var force=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regenerator_default().mark((function _callee(){var url,product;return regenerator_default().wrap((function _callee$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,deleteProductStart(id);case 2:return _context4.prev=2,url=force?"".concat(WC_PRODUCT_NAMESPACE,"/").concat(id,"?force=true"):"".concat(WC_PRODUCT_NAMESPACE,"/").concat(id),_context4.next=6,(0,data_controls_build_module.nr)({path:url,method:"DELETE"});case 6:return product=_context4.sent,_context4.next=9,deleteProductSuccess(product.id,product,force);case 9:return _context4.abrupt("return",product);case 12:return _context4.prev=12,_context4.t0=_context4.catch(2),_context4.next=16,deleteProductError(id,_context4.t0);case 16:throw _context4.t0;case 17:case"end":return _context4.stop()}}),_callee,null,[[2,12]])}))()}function setSuggestedProductAction(key,items){return{type:products_action_types.SET_SUGGESTED_PRODUCTS,key,items}}var products_resolvers_marked=regenerator_default().mark(resolvers_getProducts),products_resolvers_marked2=regenerator_default().mark(resolvers_getProduct),products_resolvers_marked3=regenerator_default().mark(resolvers_getRelatedProducts),products_resolvers_marked4=regenerator_default().mark(resolvers_getProductsTotalCount),products_resolvers_marked5=regenerator_default().mark(resolvers_getPermalinkParts);function products_resolvers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function products_resolvers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?products_resolvers_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):products_resolvers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var products_resolvers_dispatch=build_module_controls.n&&build_module_controls.n.dispatch?build_module_controls.n.dispatch:data_controls_build_module.JD,products_resolvers_resolveSelect=build_module_controls.n&&build_module_controls.n.resolveSelect?build_module_controls.n.resolveSelect:data_controls_build_module.Lt;function resolvers_getProducts(query){var productsQuery,_yield$request,items,totalCount;return regenerator_default().wrap((function getProducts$(_context){for(;;)switch(_context.prev=_context.next){case 0:return(productsQuery=products_resolvers_objectSpread({},query))&&productsQuery._fields&&!productsQuery._fields.includes("id")&&(productsQuery._fields=["id"].concat((0,toConsumableArray.A)(productsQuery._fields))),_context.prev=2,_context.next=5,request(WC_PRODUCT_NAMESPACE,productsQuery);case 5:return _yield$request=_context.sent,items=_yield$request.items,totalCount=_yield$request.totalCount,_context.next=10,getProductsTotalCountSuccess(query,totalCount);case 10:return _context.next=12,getProductsSuccess(query,items,totalCount);case 12:return _context.abrupt("return",items);case 15:return _context.prev=15,_context.t0=_context.catch(2),_context.next=19,actions_getProductsError(query,_context.t0);case 19:throw _context.t0;case 20:case"end":return _context.stop()}}),products_resolvers_marked,null,[[2,15]])}function resolvers_getProduct(productId){var product;return regenerator_default().wrap((function getProduct$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,(0,data_controls_build_module.nr)({path:(0,add_query_args.F)("".concat(WC_PRODUCT_NAMESPACE,"/").concat(productId),{context:"edit"}),method:"GET"});case 3:return product=_context2.sent,_context2.next=6,getProductSuccess(productId,product);case 6:return _context2.next=8,products_resolvers_dispatch(products_constants_STORE_NAME,"finishResolution","getPermalinkParts",[productId]);case 8:return _context2.abrupt("return",product);case 11:return _context2.prev=11,_context2.t0=_context2.catch(0),_context2.next=15,getProductError(productId,_context2.t0);case 15:throw _context2.t0;case 16:case"end":return _context2.stop()}}),products_resolvers_marked2,null,[[0,11]])}function resolvers_getRelatedProducts(productId){var product,relatedProductsIds,relatedProducts;return regenerator_default().wrap((function getRelatedProducts$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,products_resolvers_resolveSelect(products_constants_STORE_NAME,"getProduct",productId);case 3:if(product=_context3.sent,null!=(relatedProductsIds=product.related_ids)&&relatedProductsIds.length){_context3.next=7;break}return _context3.abrupt("return",[]);case 7:return _context3.next=9,products_resolvers_resolveSelect(products_constants_STORE_NAME,"getProducts",{include:relatedProductsIds});case 9:return relatedProducts=_context3.sent,_context3.abrupt("return",relatedProducts);case 13:throw _context3.prev=13,_context3.t0=_context3.catch(0),_context3.t0;case 16:case"end":return _context3.stop()}}),products_resolvers_marked3,null,[[0,13]])}function resolvers_getProductsTotalCount(query){var totalsQuery,_yield$request2,totalCount;return regenerator_default().wrap((function getProductsTotalCount$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,totalsQuery=products_resolvers_objectSpread(products_resolvers_objectSpread({},query),{},{page:1,per_page:1}),_context4.next=4,request(WC_PRODUCT_NAMESPACE,totalsQuery);case 4:return _yield$request2=_context4.sent,totalCount=_yield$request2.totalCount,_context4.next=8,getProductsTotalCountSuccess(query,totalCount);case 8:return _context4.abrupt("return",totalCount);case 11:return _context4.prev=11,_context4.t0=_context4.catch(0),_context4.next=15,getProductsTotalCountError(query,_context4.t0);case 15:throw _context4.t0;case 16:case"end":return _context4.stop()}}),products_resolvers_marked4,null,[[0,11]])}function resolvers_getPermalinkParts(productId){return regenerator_default().wrap((function getPermalinkParts$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,products_resolvers_resolveSelect(products_constants_STORE_NAME,"getProduct",[productId]);case 2:case"end":return _context5.stop()}}),products_resolvers_marked5)}var resolvers_getSuggestedProducts=function getSuggestedProducts(options){return function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(_ref){var contextualDispatch,key,data;return regenerator_default().wrap((function _callee$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return contextualDispatch=_ref.dispatch,key=createIdFromOptions(options),_context6.next=4,(0,api_fetch_build_module.A)({path:(0,add_query_args.F)(WC_V3_ENDPOINT_SUGGESTED_PRODUCTS,options)});case 4:data=_context6.sent,contextualDispatch.setSuggestedProductAction(key,data);case 6:case"end":return _context6.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}()};function products_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function products_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?products_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):products_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const products_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:{},productsCount:{},errors:{},data:{},pending:{},suggestedProducts:{}},payload=arguments.length>1?arguments[1]:void 0;if(payload&&"type"in payload)switch(payload.type){case products_action_types.CREATE_PRODUCT_START:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{pending:{createProduct:!0}});case products_action_types.UPDATE_PRODUCT_START:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{pending:{updateProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.updateProduct||{}),{},(0,defineProperty.A)({},payload.id,!0))}});case products_action_types.DUPLICATE_PRODUCT_START:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{pending:{duplicateProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.duplicateProduct||{}),{},(0,defineProperty.A)({},payload.id,!0))}});case products_action_types.CREATE_PRODUCT_SUCCESS:case products_action_types.GET_PRODUCT_SUCCESS:case products_action_types.UPDATE_PRODUCT_SUCCESS:case products_action_types.DUPLICATE_PRODUCT_SUCCESS:var productData=state.data||{};return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{data:products_reducer_objectSpread(products_reducer_objectSpread({},productData),{},(0,defineProperty.A)({},payload.id,products_reducer_objectSpread(products_reducer_objectSpread({},productData[payload.id]||{}),payload.product))),pending:{createProduct:!1,duplicateProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.duplicateProduct||{}),{},(0,defineProperty.A)({},payload.id,!1)),updateProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.updateProduct||{}),{},(0,defineProperty.A)({},payload.id,!1))}});case products_action_types.GET_PRODUCTS_SUCCESS:var ids=[],nextProducts=payload.products.reduce((function(result,product){return ids.push(product.id),result[product.id]=products_reducer_objectSpread(products_reducer_objectSpread({},state.data[product.id]||{}),product),result}),{}),resourceName=getProductResourceName(payload.query);return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{products:products_reducer_objectSpread(products_reducer_objectSpread({},state.products),{},(0,defineProperty.A)({},resourceName,{data:ids})),data:products_reducer_objectSpread(products_reducer_objectSpread({},state.data),nextProducts)});case products_action_types.GET_PRODUCTS_TOTAL_COUNT_SUCCESS:var totalResourceName=getTotalProductCountResourceName(payload.query);return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{productsCount:products_reducer_objectSpread(products_reducer_objectSpread({},state.productsCount),{},(0,defineProperty.A)({},totalResourceName,payload.totalCount))});case products_action_types.GET_PRODUCT_ERROR:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{errors:products_reducer_objectSpread(products_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},payload.productId,payload.error))});case products_action_types.GET_PRODUCTS_ERROR:case products_action_types.GET_PRODUCTS_TOTAL_COUNT_ERROR:case products_action_types.CREATE_PRODUCT_ERROR:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{errors:products_reducer_objectSpread(products_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},getProductResourceName(payload.query),payload.error)),pending:{createProduct:!1}});case products_action_types.UPDATE_PRODUCT_ERROR:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{errors:products_reducer_objectSpread(products_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},"update/".concat(payload.id),payload.error))});case products_action_types.DUPLICATE_PRODUCT_ERROR:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{errors:products_reducer_objectSpread(products_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},"duplicate/".concat(payload.id),payload.error))});case products_action_types.DELETE_PRODUCT_START:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{pending:{deleteProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.deleteProduct||{}),{},(0,defineProperty.A)({},payload.id,!0))}});case products_action_types.DELETE_PRODUCT_ERROR:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{errors:products_reducer_objectSpread(products_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},"delete/".concat(payload.id),payload.error)),pending:{deleteProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.deleteProduct||{}),{},(0,defineProperty.A)({},payload.id,!1))}});case products_action_types.DELETE_PRODUCT_SUCCESS:var prData=state.data||{};return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{data:products_reducer_objectSpread(products_reducer_objectSpread({},prData),{},(0,defineProperty.A)({},payload.id,products_reducer_objectSpread(products_reducer_objectSpread(products_reducer_objectSpread({},prData[payload.id]||{}),payload.product),{},{status:payload.force?"deleted":"trash"}))),pending:{deleteProduct:products_reducer_objectSpread(products_reducer_objectSpread({},state.pending.deleteProduct||{}),{},(0,defineProperty.A)({},payload.id,!1))}});case products_action_types.SET_SUGGESTED_PRODUCTS:return products_reducer_objectSpread(products_reducer_objectSpread({},state),{},{suggestedProducts:products_reducer_objectSpread(products_reducer_objectSpread({},state.suggestedProducts),{},(0,defineProperty.A)({},payload.key,{items:payload.items||[]}))});default:return state}return state};(0,data_build_module.ti)(products_constants_STORE_NAME,{__experimentalUseThunks:!0,reducer:products_reducer,actions:products_actions_namespaceObject,controls:src_controls,selectors:products_selectors_namespaceObject,resolvers:products_resolvers_namespaceObject});var WC_ORDERS_NAMESPACE="/wc/v3/orders",orders_utils_excluded=["_fields","page","per_page"],utils_PRODUCT_PREFIX="order";function getOrderResourceName(query){return utils_getResourceName(utils_PRODUCT_PREFIX,query)}function getTotalOrderCountResourceName(query){query._fields,query.page,query.per_page;return getOrderResourceName((0,objectWithoutProperties.A)(query,orders_utils_excluded))}function orders_selectors_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function orders_selectors_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?orders_selectors_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):orders_selectors_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getOrders=(0,rememo.A)((function(state,query){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,resourceName=getOrderResourceName(query),ids=state.orders[resourceName]?state.orders[resourceName].data:void 0;if(!ids)return defaultValue;if(query&&void 0!==query._fields){var fields=query._fields;return ids.map((function(id){return fields.reduce((function(product,field){return orders_selectors_objectSpread(orders_selectors_objectSpread({},product),{},(0,defineProperty.A)({},field,state.data[id][field]))}),{})}))}return ids.map((function(id){return state.data[id]}))}),(function(state,query){var resourceName=getOrderResourceName(query),ids=state.orders[resourceName]?state.orders[resourceName].data:[];return[state.orders[resourceName]].concat((0,toConsumableArray.A)(ids.map((function(id){return state.data[id]}))))})),getOrdersTotalCount=function getOrdersTotalCount(state,query){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,resourceName=getTotalOrderCountResourceName(query);return state.ordersCount.hasOwnProperty(resourceName)?state.ordersCount[resourceName]:defaultValue},getOrdersError=function getOrdersError(state,query){var resourceName=getOrderResourceName(query);return state.errors[resourceName]},orders_action_types_TYPES=function(TYPES){return TYPES.GET_ORDER_SUCCESS="GET_ORDER_SUCCESS",TYPES.GET_ORDER_ERROR="GET_ORDER_ERROR",TYPES.GET_ORDERS_SUCCESS="GET_ORDERS_SUCCESS",TYPES.GET_ORDERS_ERROR="GET_ORDERS_ERROR",TYPES.GET_ORDERS_TOTAL_COUNT_SUCCESS="GET_ORDERS_TOTAL_COUNT_SUCCESS",TYPES.GET_ORDERS_TOTAL_COUNT_ERROR="GET_ORDERS_TOTAL_COUNT_ERROR",TYPES}({});const orders_action_types=orders_action_types_TYPES;function getOrderSuccess(id,order){return{type:orders_action_types.GET_ORDER_SUCCESS,id,order}}function getOrderError(query,error){return{type:orders_action_types.GET_ORDER_ERROR,query,error}}function getOrdersSuccess(query,orders,totalCount){return{type:orders_action_types.GET_ORDERS_SUCCESS,orders,query,totalCount}}function actions_getOrdersError(query,error){return{type:orders_action_types.GET_ORDERS_ERROR,query,error}}function getOrdersTotalCountSuccess(query,totalCount){return{type:orders_action_types.GET_ORDERS_TOTAL_COUNT_SUCCESS,query,totalCount}}function getOrdersTotalCountError(query,error){return{type:orders_action_types.GET_ORDERS_TOTAL_COUNT_ERROR,query,error}}var orders_resolvers_marked=regenerator_default().mark(resolvers_getOrders),orders_resolvers_marked2=regenerator_default().mark(resolvers_getOrdersTotalCount);function orders_resolvers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function orders_resolvers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?orders_resolvers_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):orders_resolvers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function resolvers_getOrders(query){var ordersQuery,_yield$request,items,totalCount;return regenerator_default().wrap((function getOrders$(_context){for(;;)switch(_context.prev=_context.next){case 0:return(ordersQuery=orders_resolvers_objectSpread({},query))&&ordersQuery._fields&&!ordersQuery._fields.includes("id")&&(ordersQuery._fields=["id"].concat((0,toConsumableArray.A)(ordersQuery._fields))),_context.prev=2,_context.next=5,request(WC_ORDERS_NAMESPACE,ordersQuery);case 5:return _yield$request=_context.sent,items=_yield$request.items,totalCount=_yield$request.totalCount,_context.next=10,getOrdersTotalCountSuccess(query,totalCount);case 10:return _context.next=12,getOrdersSuccess(query,items,totalCount);case 12:return _context.abrupt("return",items);case 15:return _context.prev=15,_context.t0=_context.catch(2),_context.next=19,actions_getOrdersError(query,_context.t0);case 19:return _context.abrupt("return",_context.t0);case 20:case"end":return _context.stop()}}),orders_resolvers_marked,null,[[2,15]])}function resolvers_getOrdersTotalCount(query){var totalsQuery,_yield$request2,totalCount;return regenerator_default().wrap((function getOrdersTotalCount$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,totalsQuery=orders_resolvers_objectSpread(orders_resolvers_objectSpread({},query),{},{page:1,per_page:1}),_context2.next=4,request(WC_ORDERS_NAMESPACE,totalsQuery);case 4:return _yield$request2=_context2.sent,totalCount=_yield$request2.totalCount,_context2.next=8,getOrdersTotalCountSuccess(query,totalCount);case 8:return _context2.abrupt("return",totalCount);case 11:return _context2.prev=11,_context2.t0=_context2.catch(0),_context2.next=15,getOrdersTotalCountError(query,_context2.t0);case 15:return _context2.abrupt("return",_context2.t0);case 16:case"end":return _context2.stop()}}),orders_resolvers_marked2,null,[[0,11]])}function orders_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function orders_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?orders_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):orders_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const orders_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:{},ordersCount:{},errors:{},data:{}},payload=arguments.length>1?arguments[1]:void 0;if(payload&&"type"in payload)switch(payload.type){case orders_action_types.GET_ORDER_SUCCESS:var orderData=state.data||{};return orders_reducer_objectSpread(orders_reducer_objectSpread({},state),{},{data:orders_reducer_objectSpread(orders_reducer_objectSpread({},orderData),{},(0,defineProperty.A)({},payload.id,orders_reducer_objectSpread(orders_reducer_objectSpread({},orderData[payload.id]||{}),payload.order)))});case orders_action_types.GET_ORDERS_SUCCESS:var ids=[],nextOrders=payload.orders.reduce((function(result,order){return ids.push(order.id),result[order.id]=orders_reducer_objectSpread(orders_reducer_objectSpread({},state.data[order.id]||{}),order),result}),{}),resourceName=getOrderResourceName(payload.query);return orders_reducer_objectSpread(orders_reducer_objectSpread({},state),{},{orders:orders_reducer_objectSpread(orders_reducer_objectSpread({},state.orders),{},(0,defineProperty.A)({},resourceName,{data:ids})),data:orders_reducer_objectSpread(orders_reducer_objectSpread({},state.data),nextOrders)});case orders_action_types.GET_ORDERS_TOTAL_COUNT_SUCCESS:var totalResourceName=getTotalOrderCountResourceName(payload.query);return orders_reducer_objectSpread(orders_reducer_objectSpread({},state),{},{ordersCount:orders_reducer_objectSpread(orders_reducer_objectSpread({},state.ordersCount),{},(0,defineProperty.A)({},totalResourceName,payload.totalCount))});case orders_action_types.GET_ORDER_ERROR:case orders_action_types.GET_ORDERS_ERROR:case orders_action_types.GET_ORDERS_TOTAL_COUNT_ERROR:return orders_reducer_objectSpread(orders_reducer_objectSpread({},state),{},{errors:orders_reducer_objectSpread(orders_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},getOrderResourceName(payload.query),payload.error))});default:return state}return state};(0,data_build_module.ti)("wc/admin/orders",{reducer:orders_reducer,actions:orders_actions_namespaceObject,controls:src_controls,selectors:orders_selectors_namespaceObject,resolvers:orders_resolvers_namespaceObject});var toArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toArray.js");__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.match.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.constructor.js");const crud_actions=function(CRUD_ACTIONS){return CRUD_ACTIONS.CREATE_ITEM="CREATE_ITEM",CRUD_ACTIONS.DELETE_ITEM="DELETE_ITEM",CRUD_ACTIONS.GET_ITEM="GET_ITEM",CRUD_ACTIONS.GET_ITEMS="GET_ITEMS",CRUD_ACTIONS.GET_ITEMS_TOTAL_COUNT="GET_ITEMS_TOTAL_COUNT",CRUD_ACTIONS.UPDATE_ITEM="UPDATE_ITEM",CRUD_ACTIONS}({});function crud_utils_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function crud_utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?crud_utils_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):crud_utils_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getRestPath=function getRestPath(templatePath,query,parameters){var _path$match,path=templatePath;if(null===(_path$match=path.match(/{(.*?)}/g))||void 0===_path$match||_path$match.forEach((function(str,i){path=path.replace(str,parameters[i].toString())})),new RegExp(/{|}/).test(path.toString()))throw new Error("Not all URL parameters were replaced");return(0,add_query_args.F)(path,query)},getKey=function getKey(query){var urlParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],id="string"==typeof query||"number"==typeof query?query:query.id;return urlParameters.length?urlParameters.join("/")+"/"+id:id},organizeItemsById=function organizeItemsById(items){var urlParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],currentState=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ids=[],objItems={},hasUrlParams=urlParameters.length>0;return items.forEach((function(item){var key=hasUrlParams?getKey(item.id,urlParameters):item.id;ids.push(key),objItems[key]=crud_utils_objectSpread(crud_utils_objectSpread({},currentState[key]||{}),item)})),{objItems,ids}};var parseId=function parseId(query){var urlParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"string"==typeof query||"number"==typeof query?{id:query,key:query}:{id:query.id,key:getKey(query,urlParameters)}},applyNamespace=function applyNamespace(fn,namespace){var defaultArgs=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return defaultArgs.forEach((function(defaultArg,index){void 0===args[index+1]&&(args[index+1]=defaultArg)})),fn.apply(void 0,args.concat([namespace]))}},getNamespaceKeys=function getNamespaceKeys(namespace){var _namespace$match,keys=[];return null===(_namespace$match=namespace.match(/{(.*?)}/g))||void 0===_namespace$match||_namespace$match.forEach((function(match){var key=match.substr(1,match.length-2);keys.push(key)})),keys},getUrlParameters=function getUrlParameters(namespace,query){if("object"!==(0,esm_typeof.A)(query))return[];var params=[];return getNamespaceKeys(namespace).forEach((function(key){query.hasOwnProperty(key)&&params.push(query[key])})),params},maybeReplaceIdQuery=function maybeReplaceIdQuery(args,namespace){var _args=(0,toArray.A)(args),firstArgument=_args[0],rest=_args.slice(1);if(!firstArgument||!function isValidIdQuery(arg,namespace){if("string"==typeof arg||"number"==typeof arg)return!0;var validKeys=["id"].concat((0,toConsumableArray.A)(getNamespaceKeys(namespace)));return!(!arg||"object"!==(0,esm_typeof.A)(arg)||!arg.hasOwnProperty("id")||JSON.stringify(validKeys.sort())!==JSON.stringify(Object.keys(arg).sort()))}(firstArgument,namespace))return args;var urlParameters=getUrlParameters(namespace,firstArgument);return[parseId(firstArgument,urlParameters).key].concat((0,toConsumableArray.A)(rest))},cleanQuery=function cleanQuery(query,namespace){var cleaned=crud_utils_objectSpread({},query);return getNamespaceKeys(namespace).forEach((function(key){delete cleaned[key]})),cleaned},getRequestIdentifier=utils_getResourceName,getGenericActionName=function getGenericActionName(action,resourceName){switch(action){case"create".concat(resourceName):return crud_actions.CREATE_ITEM;case"delete".concat(resourceName):return crud_actions.DELETE_ITEM;case"update".concat(resourceName):return crud_actions.UPDATE_ITEM}return action};function crud_selectors_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function crud_selectors_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?crud_selectors_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):crud_selectors_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getItemCreateError=function getItemCreateError(state,query){var itemQuery=getRequestIdentifier(crud_actions.CREATE_ITEM,query);return state.errors[itemQuery]},getItemDeleteError=function getItemDeleteError(state,idQuery,namespace){var urlParameters=getUrlParameters(namespace,idQuery),key=parseId(idQuery,urlParameters).key,itemQuery=getRequestIdentifier(crud_actions.DELETE_ITEM,key);return state.errors[itemQuery]},getItem=function getItem(state,idQuery,namespace){var urlParameters=getUrlParameters(namespace,idQuery),key=parseId(idQuery,urlParameters).key;return state.data[key]},getItemError=function getItemError(state,idQuery,namespace){var urlParameters=getUrlParameters(namespace,idQuery),key=parseId(idQuery,urlParameters).key,itemQuery=getRequestIdentifier(crud_actions.GET_ITEM,key);return state.errors[itemQuery]},selectors_getItems=(0,rememo.A)((function(state,query){var itemQuery=getRequestIdentifier(crud_actions.GET_ITEMS,query||{}),ids=state.items[itemQuery]?state.items[itemQuery].data:void 0;if(!ids)return null;if(query&&void 0!==query._fields){var fields=query._fields;return ids.map((function(id){return fields.reduce((function(item,field){return crud_selectors_objectSpread(crud_selectors_objectSpread({},item),{},(0,defineProperty.A)({},field,state.data[id][field]))}),{})}))}return ids.map((function(id){return state.data[id]})).filter((function(item){return void 0!==item}))}),(function(state,query){var itemQuery=getRequestIdentifier(crud_actions.GET_ITEMS,query||{}),ids=state.items[itemQuery]?state.items[itemQuery].data:void 0;return[state.items[itemQuery]].concat((0,toConsumableArray.A)((ids||[]).map((function(id){return state.data[id]}))))})),selectors_getItemsTotalCount=function getItemsTotalCount(state,query){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,itemQuery=getTotalCountResourceName(crud_actions.GET_ITEMS,query||{});return state.itemsCount.hasOwnProperty(itemQuery)?state.itemsCount[itemQuery]:defaultValue},selectors_getItemsError=function getItemsError(state,query){var itemQuery=getRequestIdentifier(crud_actions.GET_ITEMS,query||{});return state.errors[itemQuery]},getItemUpdateError=function getItemUpdateError(state,idQuery,urlParameters){var key=parseId(idQuery,urlParameters).key,itemQuery=getRequestIdentifier(crud_actions.UPDATE_ITEM,key);return state.errors[itemQuery]},selectors_EMPTY_OBJECT={},crud_action_types_TYPES=function(TYPES){return TYPES.CREATE_ITEM_ERROR="CREATE_ITEM_ERROR",TYPES.CREATE_ITEM_REQUEST="CREATE_ITEM_REQUEST",TYPES.CREATE_ITEM_SUCCESS="CREATE_ITEM_SUCCESS",TYPES.DELETE_ITEM_ERROR="DELETE_ITEM_ERROR",TYPES.DELETE_ITEM_REQUEST="DELETE_ITEM_REQUEST",TYPES.DELETE_ITEM_SUCCESS="DELETE_ITEM_SUCCESS",TYPES.GET_ITEM_ERROR="GET_ITEM_ERROR",TYPES.GET_ITEM_SUCCESS="GET_ITEM_SUCCESS",TYPES.GET_ITEMS_ERROR="GET_ITEMS_ERROR",TYPES.GET_ITEMS_SUCCESS="GET_ITEMS_SUCCESS",TYPES.UPDATE_ITEM_ERROR="UPDATE_ITEM_ERROR",TYPES.UPDATE_ITEM_REQUEST="UPDATE_ITEM_REQUEST",TYPES.UPDATE_ITEM_SUCCESS="UPDATE_ITEM_SUCCESS",TYPES.GET_ITEMS_TOTAL_COUNT_SUCCESS="GET_ITEMS_TOTAL_COUNT_SUCCESS",TYPES.GET_ITEMS_TOTAL_COUNT_ERROR="GET_ITEMS_TOTAL_COUNT_ERROR",TYPES}({});const crud_action_types=crud_action_types_TYPES;function createItemError(query,error){return{type:crud_action_types.CREATE_ITEM_ERROR,query,error,errorType:crud_actions.CREATE_ITEM}}function createItemRequest(query){return{type:crud_action_types.CREATE_ITEM_REQUEST,query}}function createItemSuccess(key,item,query,options){return{type:crud_action_types.CREATE_ITEM_SUCCESS,key,item,query,options}}function deleteItemError(key,error,force){return{type:crud_action_types.DELETE_ITEM_ERROR,key,error,errorType:crud_actions.DELETE_ITEM,force}}function deleteItemRequest(key,force){return{type:crud_action_types.DELETE_ITEM_REQUEST,key,force}}function deleteItemSuccess(key,force,item){return{type:crud_action_types.DELETE_ITEM_SUCCESS,key,force,item}}function actions_getItemError(key,error){return{type:crud_action_types.GET_ITEM_ERROR,key,error,errorType:crud_actions.GET_ITEM}}function getItemSuccess(key,item){return{type:crud_action_types.GET_ITEM_SUCCESS,key,item}}function actions_getItemsError(query,error){return{type:crud_action_types.GET_ITEMS_ERROR,query,error,errorType:crud_actions.GET_ITEMS}}function getItemsSuccess(query,items,urlParameters){return{type:crud_action_types.GET_ITEMS_SUCCESS,items,query,urlParameters}}function getItemsTotalCountSuccess(query,totalCount){return{type:crud_action_types.GET_ITEMS_TOTAL_COUNT_SUCCESS,query,totalCount}}function getItemsTotalCountError(query,error){return{type:crud_action_types.GET_ITEMS_TOTAL_COUNT_ERROR,query,error,errorType:crud_actions.GET_ITEMS_TOTAL_COUNT}}function updateItemError(key,error,query){return{type:crud_action_types.UPDATE_ITEM_ERROR,key,error,errorType:crud_actions.UPDATE_ITEM,query}}function updateItemRequest(key,query){return{type:crud_action_types.UPDATE_ITEM_REQUEST,key,query}}function updateItemSuccess(key,item,query){return{type:crud_action_types.UPDATE_ITEM_SUCCESS,key,item,query}}function crud_resolvers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function crud_resolvers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?crud_resolvers_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):crud_resolvers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function resolvers_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function resolvers_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return resolvers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return resolvers_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function resolvers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function crud_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function crud_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?crud_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):crud_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function crud_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function crud_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?crud_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):crud_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var createCrudDataStore=function createCrudDataStore(_ref){var storeName=_ref.storeName,resourceName=_ref.resourceName,namespace=_ref.namespace,pluralResourceName=_ref.pluralResourceName,_ref$storeConfig=_ref.storeConfig,storeConfig=void 0===_ref$storeConfig?{}:_ref$storeConfig,crudActions=function createDispatchActions(_ref){var namespace=_ref.namespace,resourceName=_ref.resourceName,createItem=regenerator_default().mark((function createItem(query,options){var urlParameters,item,_parseId,key;return regenerator_default().wrap((function createItem$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,createItemRequest(query);case 2:return urlParameters=getUrlParameters(namespace,query),_context.prev=3,_context.next=6,(0,data_controls_build_module.nr)({path:getRestPath(namespace,cleanQuery(query,namespace),urlParameters),method:"POST"});case 6:return item=_context.sent,_parseId=parseId(item.id,urlParameters),key=_parseId.key,_context.next=10,createItemSuccess(key,item,query,options);case 10:return _context.abrupt("return",item);case 13:return _context.prev=13,_context.t0=_context.catch(3),_context.next=17,createItemError(query,_context.t0);case 17:throw _context.t0;case 18:case"end":return _context.stop()}}),createItem,null,[[3,13]])})),updateItem=regenerator_default().mark((function updateItem(idQuery,query){var urlParameters,_parseId3,id,key,item;return regenerator_default().wrap((function updateItem$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return urlParameters=getUrlParameters(namespace,idQuery),_parseId3=parseId(idQuery,urlParameters),id=_parseId3.id,key=_parseId3.key,_context3.next=4,updateItemRequest(key,query);case 4:return _context3.prev=4,_context3.next=7,(0,data_controls_build_module.nr)({path:getRestPath("".concat(namespace,"/").concat(id),{},urlParameters),method:"PUT",data:query});case 7:return item=_context3.sent,_context3.next=10,updateItemSuccess(key,item,query);case 10:return _context3.abrupt("return",item);case 13:return _context3.prev=13,_context3.t0=_context3.catch(4),_context3.next=17,updateItemError(key,_context3.t0,query);case 17:throw _context3.t0;case 18:case"end":return _context3.stop()}}),updateItem,null,[[4,13]])}));return(0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)({},"create".concat(resourceName),createItem),"delete".concat(resourceName),(function deleteItem(idQuery){var force=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return regenerator_default().mark((function _callee(){var urlParameters,_parseId2,id,key,item;return regenerator_default().wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return urlParameters=getUrlParameters(namespace,idQuery),_parseId2=parseId(idQuery,urlParameters),id=_parseId2.id,key=_parseId2.key,_context2.next=4,deleteItemRequest(key,force);case 4:return _context2.prev=4,_context2.next=7,(0,data_controls_build_module.nr)({path:getRestPath("".concat(namespace,"/").concat(id),{force},urlParameters),method:"DELETE"});case 7:return item=_context2.sent,_context2.next=10,deleteItemSuccess(key,force,item);case 10:return _context2.abrupt("return",item);case 13:return _context2.prev=13,_context2.t0=_context2.catch(4),_context2.next=17,deleteItemError(key,_context2.t0,force);case 17:throw _context2.t0;case 18:case"end":return _context2.stop()}}),_callee,null,[[4,13]])}))()})),"update".concat(resourceName),updateItem)}({resourceName,namespace}),crudResolvers=function createResolvers(_ref){var storeName=_ref.storeName,resourceName=_ref.resourceName,pluralResourceName=_ref.pluralResourceName,namespace=_ref.namespace,getItem=regenerator_default().mark((function getItem(idQuery){var urlParameters,_parseId,id,key,item;return regenerator_default().wrap((function getItem$(_context){for(;;)switch(_context.prev=_context.next){case 0:return urlParameters=getUrlParameters(namespace,idQuery),_parseId=parseId(idQuery,urlParameters),id=_parseId.id,key=_parseId.key,_context.prev=2,_context.next=5,(0,data_controls_build_module.nr)({path:getRestPath("".concat(namespace,"/").concat(id),{},urlParameters),method:"GET"});case 5:return item=_context.sent,_context.next=8,getItemSuccess(key,item);case 8:return _context.abrupt("return",item);case 11:return _context.prev=11,_context.t0=_context.catch(2),_context.next=15,actions_getItemError(key,_context.t0);case 15:throw _context.t0;case 16:case"end":return _context.stop()}}),getItem,null,[[2,11]])})),getItems=regenerator_default().mark((function getItems(query){var urlParameters,resourceQuery,path,_yield$request,items,totalCount,_iterator,_step,i;return regenerator_default().wrap((function getItems$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return urlParameters=getUrlParameters(namespace,query||{}),resourceQuery=cleanQuery(query||{},namespace),_context2.next=4,build_module_controls.n.dispatch(storeName,"startResolution","get".concat(pluralResourceName,"TotalCount"),[query]);case 4:return resourceQuery&&resourceQuery._fields&&!resourceQuery._fields.includes("id")&&(resourceQuery._fields=["id"].concat((0,toConsumableArray.A)(resourceQuery._fields))),_context2.prev=5,path=getRestPath(namespace,query||{},urlParameters),_context2.next=9,request(path,resourceQuery);case 9:return _yield$request=_context2.sent,items=_yield$request.items,totalCount=_yield$request.totalCount,_context2.next=14,getItemsTotalCountSuccess(query,totalCount);case 14:return _context2.next=16,build_module_controls.n.dispatch(storeName,"finishResolution","get".concat(pluralResourceName,"TotalCount"),[query]);case 16:return _context2.next=18,getItemsSuccess(query,items,urlParameters);case 18:_iterator=resolvers_createForOfIteratorHelper(items),_context2.prev=19,_iterator.s();case 21:if((_step=_iterator.n()).done){_context2.next=28;break}if(!(i=_step.value).id){_context2.next=26;break}return _context2.next=26,build_module_controls.n.dispatch(storeName,"finishResolution","get".concat(resourceName),[i.id]);case 26:_context2.next=21;break;case 28:_context2.next=33;break;case 30:_context2.prev=30,_context2.t0=_context2.catch(19),_iterator.e(_context2.t0);case 33:return _context2.prev=33,_iterator.f(),_context2.finish(33);case 36:return _context2.abrupt("return",items);case 39:return _context2.prev=39,_context2.t1=_context2.catch(5),_context2.next=43,getItemsTotalCountError(query,_context2.t1);case 43:return _context2.next=45,actions_getItemsError(query,_context2.t1);case 45:throw _context2.t1;case 46:case"end":return _context2.stop()}}),getItems,null,[[5,39],[19,30,33,36]])})),getItemsTotalCount=regenerator_default().mark((function getItemsTotalCount(query){var totalsQuery,urlParameters,resourceQuery,path,_yield$request2,totalCount;return regenerator_default().wrap((function getItemsTotalCount$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,build_module_controls.n.select(storeName,"hasStartedResolution","get".concat(pluralResourceName),[query]);case 2:if(!_context3.sent){_context3.next=5;break}return _context3.abrupt("return");case 5:return totalsQuery=crud_resolvers_objectSpread(crud_resolvers_objectSpread({},query||{}),{},{page:1,per_page:1}),urlParameters=getUrlParameters(namespace,totalsQuery),(resourceQuery=cleanQuery(totalsQuery,namespace))&&resourceQuery._fields&&!resourceQuery._fields.includes("id")&&(resourceQuery._fields=["id"].concat((0,toConsumableArray.A)(resourceQuery._fields))),_context3.prev=9,path=getRestPath(namespace,{},urlParameters),_context3.next=13,request(path,totalsQuery);case 13:return _yield$request2=_context3.sent,totalCount=_yield$request2.totalCount,_context3.next=17,getItemsTotalCountSuccess(query,totalCount);case 17:return _context3.abrupt("return",totalCount);case 20:return _context3.prev=20,_context3.t0=_context3.catch(9),_context3.next=24,getItemsTotalCountError(query,_context3.t0);case 24:return _context3.abrupt("return",_context3.t0);case 25:case"end":return _context3.stop()}}),getItemsTotalCount,null,[[9,20]])}));return(0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)({},"get".concat(resourceName),getItem),"get".concat(pluralResourceName),getItems),"get".concat(pluralResourceName,"TotalCount"),getItemsTotalCount)}({storeName,resourceName,pluralResourceName,namespace}),crudSelectors=function createSelectors(_ref){var resourceName=_ref.resourceName,pluralResourceName=_ref.pluralResourceName,namespace=_ref.namespace;return(0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)({},"get".concat(resourceName),applyNamespace(getItem,namespace)),"get".concat(resourceName,"Error"),applyNamespace(getItemError,namespace)),"get".concat(pluralResourceName),applyNamespace(selectors_getItems,namespace,[selectors_EMPTY_OBJECT])),"get".concat(pluralResourceName,"TotalCount"),applyNamespace(selectors_getItemsTotalCount,namespace,[selectors_EMPTY_OBJECT,void 0])),"get".concat(pluralResourceName,"Error"),applyNamespace(selectors_getItemsError,namespace)),"get".concat(resourceName,"CreateError"),applyNamespace(getItemCreateError,namespace)),"get".concat(resourceName,"DeleteError"),applyNamespace(getItemDeleteError,namespace)),"get".concat(resourceName,"UpdateError"),applyNamespace(getItemUpdateError,namespace)),"hasFinishedRequest",(function hasFinishedRequest(state,action){var sanitizedArgs=maybeReplaceIdQuery(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],namespace),actionName=getGenericActionName(action,resourceName),requestId=getRequestIdentifier.apply(void 0,[actionName].concat((0,toConsumableArray.A)(sanitizedArgs)));if(action)return state.requesting.hasOwnProperty(requestId)&&!state.requesting[requestId]})),"isRequesting",(function isRequesting(state,action){var sanitizedArgs=maybeReplaceIdQuery(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],namespace),actionName=getGenericActionName(action,resourceName),requestId=getRequestIdentifier.apply(void 0,[actionName].concat((0,toConsumableArray.A)(sanitizedArgs)));return state.requesting[requestId]}))}({resourceName,pluralResourceName,namespace}),reducer=storeConfig.reducer,_storeConfig$actions=storeConfig.actions,actions=void 0===_storeConfig$actions?{}:_storeConfig$actions,_storeConfig$selector=storeConfig.selectors,selectors=void 0===_storeConfig$selector?{}:_storeConfig$selector,_storeConfig$resolver=storeConfig.resolvers,resolvers=void 0===_storeConfig$resolver?{}:_storeConfig$resolver,_storeConfig$controls=storeConfig.controls,controls=void 0===_storeConfig$controls?{}:_storeConfig$controls,crudReducer=function createReducer(additionalReducer){return function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{},data:{},itemsCount:{},errors:{},requesting:{}},payload=arguments.length>1?arguments[1]:void 0,itemData=state.data||{};if(payload&&"type"in payload)switch(payload.type){case crud_action_types_TYPES.CREATE_ITEM_ERROR:var createItemErrorRequestId=getRequestIdentifier(payload.errorType,payload.query||{});return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{errors:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},createItemErrorRequestId,payload.error)),requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},createItemErrorRequestId,!1))});case crud_action_types_TYPES.GET_ITEMS_TOTAL_COUNT_ERROR:case crud_action_types_TYPES.GET_ITEMS_ERROR:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{errors:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},getRequestIdentifier(payload.errorType,payload.query||{}),payload.error))});case crud_action_types_TYPES.GET_ITEMS_TOTAL_COUNT_SUCCESS:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{itemsCount:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.itemsCount),{},(0,defineProperty.A)({},getTotalCountResourceName(crud_actions.GET_ITEMS,payload.query||{}),payload.totalCount))});case crud_action_types_TYPES.CREATE_ITEM_SUCCESS:var _currentItems$getItem,_payload$options=payload.options,options=void 0===_payload$options?{}:_payload$options,_organizeItemsById=organizeItemsById([payload.item],options.optimisticUrlParameters,itemData),_objItems=_organizeItemsById.objItems,_ids=_organizeItemsById.ids,data=crud_reducer_objectSpread(crud_reducer_objectSpread({},itemData),_objItems),createItemSuccessRequestId=getRequestIdentifier(crud_actions.CREATE_ITEM,_ids[0],payload.query),getItemQueryId=getRequestIdentifier(crud_actions.GET_ITEMS,options.optimisticQueryUpdate),getItemCountQueryId=getTotalCountResourceName(crud_actions.GET_ITEMS,(null==options?void 0:options.optimisticQueryUpdate)||{}),currentItems=state.items,currentItemsByQueryId=(null===(_currentItems$getItem=currentItems[getItemQueryId])||void 0===_currentItems$getItem?void 0:_currentItems$getItem.data)||[],nextItemsData=[].concat((0,toConsumableArray.A)(currentItemsByQueryId),(0,toConsumableArray.A)(_ids)),itemsCount=state.itemsCount;if(null!=options&&options.optimisticQueryUpdate){var _options$optimisticQu;if(null!==(_options$optimisticQu=options.optimisticQueryUpdate)&&void 0!==_options$optimisticQu&&_options$optimisticQu.order_by){var _options$optimisticQu2,order_by=null===(_options$optimisticQu2=options.optimisticQueryUpdate)||void 0===_options$optimisticQu2?void 0:_options$optimisticQu2.order_by,sourceDataToOrderBy=Object.values(function filterDataByKeys(data,keys){return keys.reduce((function(acc,key){return data[key]&&(acc[key]=data[key]),acc}),{})}(data,nextItemsData));sourceDataToOrderBy=sourceDataToOrderBy.sort((function(a,b){return String(a[order_by]).toLowerCase().localeCompare(String(b[order_by]).toLowerCase())})),nextItemsData=organizeItemsById(sourceDataToOrderBy,options.optimisticUrlParameters).ids}currentItems=crud_reducer_objectSpread(crud_reducer_objectSpread({},currentItems),{},(0,defineProperty.A)({},getItemQueryId,{data:nextItemsData})),itemsCount=crud_reducer_objectSpread(crud_reducer_objectSpread({},state.itemsCount),{},(0,defineProperty.A)({},getItemCountQueryId,nextItemsData.length))}return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{items:currentItems,itemsCount,data,requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},createItemSuccessRequestId,!1))});case crud_action_types_TYPES.GET_ITEM_SUCCESS:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{data:crud_reducer_objectSpread(crud_reducer_objectSpread({},itemData),{},(0,defineProperty.A)({},payload.key,crud_reducer_objectSpread(crud_reducer_objectSpread({},itemData[payload.key]||{}),payload.item)))});case crud_action_types_TYPES.UPDATE_ITEM_SUCCESS:var updateItemSuccessRequestId=getRequestIdentifier(crud_actions.UPDATE_ITEM,payload.key,payload.query);return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{data:crud_reducer_objectSpread(crud_reducer_objectSpread({},itemData),{},(0,defineProperty.A)({},payload.key,crud_reducer_objectSpread(crud_reducer_objectSpread({},itemData[payload.key]||{}),payload.item))),requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},updateItemSuccessRequestId,!1))});case crud_action_types_TYPES.DELETE_ITEM_SUCCESS:var deleteItemSuccessRequestId=getRequestIdentifier(crud_actions.DELETE_ITEM,payload.key,payload.force),nextData=Object.keys(state.data).reduce((function(items,key){return key!==payload.key.toString()?(items[key]=state.data[key],items):(payload.force||(items[key]=payload.item),items)}),{});return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{data:nextData,requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},deleteItemSuccessRequestId,!1))});case crud_action_types_TYPES.DELETE_ITEM_ERROR:var deleteItemErrorRequestId=getRequestIdentifier(payload.errorType,payload.key,payload.force);return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{errors:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},deleteItemErrorRequestId,payload.error)),requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},deleteItemErrorRequestId,!1))});case crud_action_types_TYPES.GET_ITEM_ERROR:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{errors:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},getRequestIdentifier(payload.errorType,payload.key),payload.error))});case crud_action_types_TYPES.UPDATE_ITEM_ERROR:var updateItemErrorRequestId=getRequestIdentifier(payload.errorType,payload.key,payload.query);return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{errors:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},updateItemErrorRequestId,payload.error)),requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},updateItemErrorRequestId,!1))});case crud_action_types_TYPES.GET_ITEMS_SUCCESS:var _organizeItemsById3=organizeItemsById(payload.items,payload.urlParameters,itemData),objItems=_organizeItemsById3.objItems,ids=_organizeItemsById3.ids,itemQuery=getRequestIdentifier(crud_actions.GET_ITEMS,payload.query||{});return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{items:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.items),{},(0,defineProperty.A)({},itemQuery,{data:ids})),data:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.data),objItems)});case crud_action_types_TYPES.CREATE_ITEM_REQUEST:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},getRequestIdentifier(crud_actions.CREATE_ITEM,payload.query),!0))});case crud_action_types_TYPES.DELETE_ITEM_REQUEST:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},getRequestIdentifier(crud_actions.DELETE_ITEM,payload.key,payload.force),!0))});case crud_action_types_TYPES.UPDATE_ITEM_REQUEST:return crud_reducer_objectSpread(crud_reducer_objectSpread({},state),{},{requesting:crud_reducer_objectSpread(crud_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},getRequestIdentifier(crud_actions.UPDATE_ITEM,payload.key,payload.query),!0))})}return additionalReducer?additionalReducer(state,payload):state}}(reducer);(0,data_build_module.ti)(storeName,{reducer:crudReducer,actions:crud_objectSpread(crud_objectSpread({},crudActions),actions),selectors:crud_objectSpread(crud_objectSpread({},crudSelectors),selectors),resolvers:crud_objectSpread(crud_objectSpread({},crudResolvers),resolvers),controls:crud_objectSpread(crud_objectSpread({},src_controls),controls)})};createCrudDataStore({storeName:"wc/admin/products/attributes",resourceName:"ProductAttribute",pluralResourceName:"ProductAttributes",namespace:"/wc/v3/products/attributes"});createCrudDataStore({storeName:"experimental/wc/admin/products/shipping-classes",resourceName:"ProductShippingClass",pluralResourceName:"ProductShippingClasses",namespace:"/wc/v3/products/shipping_classes"});createCrudDataStore({storeName:"experimental/wc/admin/shipping/zones",resourceName:"ShippingZone",pluralResourceName:"ShippingZones",namespace:"/wc/v3/shipping/zones"});createCrudDataStore({storeName:"wc/admin/products/tags",resourceName:"ProductTag",pluralResourceName:"ProductTags",namespace:"/wc/v3/products/tags"});createCrudDataStore({storeName:"experimental/wc/admin/products/categories",resourceName:"ProductCategory",pluralResourceName:"ProductCategories",namespace:"/wc/v3/products/categories"});createCrudDataStore({storeName:"wc/admin/products/attributes/terms",resourceName:"ProductAttributeTerm",pluralResourceName:"ProductAttributeTerms",namespace:"/wc/v3/products/attributes/{attribute_id}/terms"});var WC_PRODUCT_VARIATIONS_NAMESPACE="/wc/v3/products/{product_id}/variations",product_variations_action_types_TYPES=function(TYPES){return TYPES.GENERATE_VARIATIONS_REQUEST="GENERATE_VARIATIONS_REQUEST",TYPES.GENERATE_VARIATIONS_SUCCESS="GENERATE_VARIATIONS_SUCCESS",TYPES.GENERATE_VARIATIONS_ERROR="GENERATE_VARIATIONS_ERROR",TYPES.BATCH_UPDATE_VARIATIONS_ERROR="BATCH_UPDATE_VARIATIONS_ERROR",TYPES}({});const product_variations_action_types=product_variations_action_types_TYPES;var crud_actions_CRUD_ACTIONS=function(CRUD_ACTIONS){return CRUD_ACTIONS.GENERATE_VARIATIONS="GENERATE_VARIATIONS",CRUD_ACTIONS}({});const product_variations_crud_actions=crud_actions_CRUD_ACTIONS;var product_variations_actions_marked=regenerator_default().mark(batchUpdateProductVariations);function product_variations_actions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function product_variations_actions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?product_variations_actions_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):product_variations_actions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function generateProductVariationsError(key,error){return{type:product_variations_action_types.GENERATE_VARIATIONS_ERROR,key,error,errorType:product_variations_crud_actions.GENERATE_VARIATIONS}}function generateProductVariationsRequest(key){return{type:product_variations_action_types.GENERATE_VARIATIONS_REQUEST,key}}function generateProductVariationsSuccess(key){return{type:product_variations_action_types.GENERATE_VARIATIONS_SUCCESS,key}}var generateProductVariations=function generateProductVariations(idQuery,productData,data){var saveAttributes=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return regenerator_default().mark((function _callee(){var urlParameters,_parseId,key,result;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return urlParameters=getUrlParameters(WC_PRODUCT_VARIATIONS_NAMESPACE,idQuery),_parseId=parseId(idQuery,urlParameters),key=_parseId.key,_context.next=4,generateProductVariationsRequest(key);case 4:if(!saveAttributes){_context.next=15;break}return _context.prev=5,_context.next=8,build_module_controls.n.dispatch("core","saveEntityRecord","postType","product",product_variations_actions_objectSpread({id:urlParameters[0]},productData));case 8:_context.next=15;break;case 10:return _context.prev=10,_context.t0=_context.catch(5),_context.next=14,generateProductVariationsError(key,_context.t0);case 14:throw _context.t0;case 15:return _context.prev=15,_context.next=18,(0,data_controls_build_module.nr)({path:getRestPath("".concat(WC_PRODUCT_VARIATIONS_NAMESPACE,"/generate"),{},urlParameters),method:"POST",data});case 18:return result=_context.sent,_context.next=21,generateProductVariationsSuccess(key);case 21:return _context.abrupt("return",result);case 24:return _context.prev=24,_context.t1=_context.catch(15),_context.next=28,generateProductVariationsError(key,_context.t1);case 28:throw _context.t1;case 29:case"end":return _context.stop()}}),_callee,null,[[5,10],[15,24]])}))()};function batchUpdateProductVariationsError(key,error){return{type:product_variations_action_types.BATCH_UPDATE_VARIATIONS_ERROR,key,error,errorType:"BATCH_UPDATE_VARIATIONS"}}function batchUpdateProductVariations(idQuery,data){var urlParameters,result,_parseId2,key;return regenerator_default().wrap((function batchUpdateProductVariations$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return urlParameters=getUrlParameters(WC_PRODUCT_VARIATIONS_NAMESPACE,idQuery),_context2.prev=1,_context2.next=4,(0,data_controls_build_module.nr)({path:getRestPath("".concat(WC_PRODUCT_VARIATIONS_NAMESPACE,"/batch"),{},urlParameters),method:"POST",data});case 4:return result=_context2.sent,_context2.abrupt("return",result);case 8:return _context2.prev=8,_context2.t0=_context2.catch(1),_parseId2=parseId(idQuery,urlParameters),key=_parseId2.key,_context2.next=13,batchUpdateProductVariationsError(key,_context2.t0);case 13:throw _context2.t0;case 14:case"end":return _context2.stop()}}),product_variations_actions_marked,null,[[1,8]])}var isGeneratingVariations=function isGeneratingVariations(state,idQuery){var urlParameters=getUrlParameters(WC_PRODUCT_VARIATIONS_NAMESPACE,idQuery),key=parseId(idQuery,urlParameters).key,itemQuery=getRequestIdentifier(product_variations_crud_actions.GENERATE_VARIATIONS,key);return state.requesting[itemQuery]},selectors_generateProductVariationsError=function generateProductVariationsError(state,idQuery){var urlParameters=getUrlParameters(WC_PRODUCT_VARIATIONS_NAMESPACE,idQuery),key=parseId(idQuery,urlParameters).key,itemQuery=getRequestIdentifier(product_variations_crud_actions.GENERATE_VARIATIONS,key);return state.errors[itemQuery]};function product_variations_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function product_variations_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?product_variations_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):product_variations_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}createCrudDataStore({storeName:"wc/admin/products/variations",resourceName:"ProductVariation",pluralResourceName:"ProductVariations",namespace:WC_PRODUCT_VARIATIONS_NAMESPACE,storeConfig:{reducer:function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{},data:{},itemsCount:{},errors:{},requesting:{}},payload=arguments.length>1?arguments[1]:void 0;if(payload&&"type"in payload)switch(payload.type){case product_variations_action_types_TYPES.GENERATE_VARIATIONS_REQUEST:return product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state),{},{requesting:product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},getRequestIdentifier(product_variations_crud_actions.GENERATE_VARIATIONS,payload.key),!0))});case product_variations_action_types_TYPES.GENERATE_VARIATIONS_SUCCESS:return product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state),{},{requesting:product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},getRequestIdentifier(product_variations_crud_actions.GENERATE_VARIATIONS,payload.key),!1)),errors:product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},getRequestIdentifier(product_variations_crud_actions.GENERATE_VARIATIONS,payload.key),void 0))});case product_variations_action_types_TYPES.GENERATE_VARIATIONS_ERROR:return product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state),{},{errors:product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},getRequestIdentifier(payload.errorType,payload.key),payload.error)),requesting:product_variations_reducer_objectSpread(product_variations_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},getRequestIdentifier(product_variations_crud_actions.GENERATE_VARIATIONS,payload.key),!1))});default:return state}return state},actions:product_variations_actions_namespaceObject,selectors:product_variations_selectors_namespaceObject}});var selectors_excluded=["errors"],getFields=function getFields(state){return state.fields},getField=function getField(state,id){return state.fields.find((function(field){return field.id===id}))},getProductForm=function getProductForm(state){state.errors;return(0,objectWithoutProperties.A)(state,selectors_excluded)},product_form_action_types_TYPES=function(TYPES){return TYPES.GET_FIELDS_ERROR="GET_FIELDS_ERROR",TYPES.GET_FIELDS_SUCCESS="GET_FIELDS_SUCCESS",TYPES.GET_PRODUCT_FORM_ERROR="GET_PRODUCT_FORM_ERROR",TYPES.GET_PRODUCT_FORM_SUCCESS="GET_PRODUCT_FORM_SUCCESS",TYPES}({});const product_form_action_types=product_form_action_types_TYPES;function getFieldsSuccess(fields){return{type:product_form_action_types.GET_FIELDS_SUCCESS,fields}}function getFieldsError(error){return{type:product_form_action_types.GET_FIELDS_ERROR,error}}function getProductFormSuccess(productForm){return{type:product_form_action_types.GET_PRODUCT_FORM_SUCCESS,fields:productForm.fields,sections:productForm.sections,subsections:productForm.subsections,tabs:productForm.tabs}}function getProductFormError(error){return{type:product_form_action_types.GET_PRODUCT_FORM_ERROR,error}}var product_form_resolvers_marked=regenerator_default().mark(resolvers_getFields),product_form_resolvers_marked2=regenerator_default().mark(resolvers_getProductForm);function resolvers_getFields(){var url,results;return regenerator_default().wrap((function getFields$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,url=WC_ADMIN_NAMESPACE+"/product-form/fields",_context.next=4,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 4:return results=_context.sent,_context.abrupt("return",getFieldsSuccess(results));case 8:return _context.prev=8,_context.t0=_context.catch(0),_context.abrupt("return",getFieldsError(_context.t0));case 11:case"end":return _context.stop()}}),product_form_resolvers_marked,null,[[0,8]])}function resolvers_getProductForm(){var url,results;return regenerator_default().wrap((function getProductForm$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,url=WC_ADMIN_NAMESPACE+"/product-form",_context2.next=4,(0,data_controls_build_module.nr)({path:url,method:"GET"});case 4:return results=_context2.sent,_context2.abrupt("return",getProductFormSuccess(results));case 8:return _context2.prev=8,_context2.t0=_context2.catch(0),_context2.abrupt("return",getProductFormError(_context2.t0));case 11:case"end":return _context2.stop()}}),product_form_resolvers_marked2,null,[[0,8]])}function product_form_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function product_form_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?product_form_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):product_form_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const product_form_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errors:{},fields:[],sections:[],subsections:[],tabs:[]},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case product_form_action_types.GET_FIELDS_SUCCESS:state=product_form_reducer_objectSpread(product_form_reducer_objectSpread({},state),{},{fields:action.fields});break;case product_form_action_types.GET_FIELDS_ERROR:state=product_form_reducer_objectSpread(product_form_reducer_objectSpread({},state),{},{errors:product_form_reducer_objectSpread(product_form_reducer_objectSpread({},state.errors),{},{fields:action.error})});break;case product_form_action_types.GET_PRODUCT_FORM_SUCCESS:state=product_form_reducer_objectSpread(product_form_reducer_objectSpread({},state),{},{fields:action.fields,sections:action.sections,subsections:action.subsections,tabs:action.tabs});break;case product_form_action_types.GET_PRODUCT_FORM_ERROR:state=product_form_reducer_objectSpread(product_form_reducer_objectSpread({},state),{},{errors:product_form_reducer_objectSpread(product_form_reducer_objectSpread({},state.errors),{},{fields:action.error,sections:action.error,subsections:action.error})})}return state};(0,data_build_module.ti)("experimental/wc/admin/product-form",{reducer:product_form_reducer,actions:product_form_actions_namespaceObject,controls:data_controls_build_module.ne,selectors:product_form_selectors_namespaceObject,resolvers:product_form_resolvers_namespaceObject});var WC_TAX_CLASSES_NAMESPACE="/wc/v3/taxes/classes",tax_classes_resolvers_marked=regenerator_default().mark(getTaxClasses);function tax_classes_resolvers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function tax_classes_resolvers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?tax_classes_resolvers_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tax_classes_resolvers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function getTaxClasses(query){var urlParameters,resourceQuery,path,_yield$request,items;return regenerator_default().wrap((function getTaxClasses$(_context){for(;;)switch(_context.prev=_context.next){case 0:return urlParameters=getUrlParameters(WC_TAX_CLASSES_NAMESPACE,query||{}),resourceQuery=cleanQuery(query||{},WC_TAX_CLASSES_NAMESPACE),_context.prev=2,path=getRestPath(WC_TAX_CLASSES_NAMESPACE,query||{},urlParameters),_context.next=6,request(path,resourceQuery);case 6:return _yield$request=_context.sent,items=_yield$request.items,_context.next=10,getItemsTotalCountSuccess(query,items.length);case 10:return _context.next=12,getItemsSuccess(query,items.map((function(item){var _item$id;return tax_classes_resolvers_objectSpread(tax_classes_resolvers_objectSpread({},item),{},{id:null!==(_item$id=item.id)&&void 0!==_item$id?_item$id:item.slug})})),urlParameters);case 12:return _context.abrupt("return",items);case 15:return _context.prev=15,_context.t0=_context.catch(2),_context.next=19,getItemsTotalCountError(query,_context.t0);case 19:return _context.next=21,actions_getItemsError(query,_context.t0);case 21:throw _context.t0;case 22:case"end":return _context.stop()}}),tax_classes_resolvers_marked,null,[[2,15]])}createCrudDataStore({storeName:"experimental/wc/admin/tax-classes",resourceName:"TaxClass",pluralResourceName:"TaxClasses",namespace:WC_TAX_CLASSES_NAMESPACE,storeConfig:{resolvers:tax_classes_resolvers_namespaceObject}});var withPluginsHydration=function withPluginsHydration(data){return createHigherOrderComponent((function(OriginalComponent){return function(props){var shouldHydrate=useSelect((function(select){if(data){var _select=select(STORE_NAME),isResolving=_select.isResolving,hasFinishedResolution=_select.hasFinishedResolution;return!isResolving("getActivePlugins",[])&&!hasFinishedResolution("getActivePlugins",[])}}),[]),_useDispatch=useDispatch(STORE_NAME),startResolution=_useDispatch.startResolution,finishResolution=_useDispatch.finishResolution,updateActivePlugins=_useDispatch.updateActivePlugins,updateInstalledPlugins=_useDispatch.updateInstalledPlugins,updateIsJetpackConnected=_useDispatch.updateIsJetpackConnected;return useEffect((function(){shouldHydrate&&(startResolution("getActivePlugins",[]),startResolution("getInstalledPlugins",[]),startResolution("isJetpackConnected",[]),updateActivePlugins(data.activePlugins,!0),updateInstalledPlugins(data.installedPlugins,!0),updateIsJetpackConnected(!(!data.jetpackStatus||!data.jetpackStatus.isActive)),finishResolution("getActivePlugins",[]),finishResolution("getInstalledPlugins",[]),finishResolution("isJetpackConnected",[]))}),[shouldHydrate]),createElement(OriginalComponent,props)}}),"withPluginsHydration")};try{withPluginsHydration.displayName="withPluginsHydration",withPluginsHydration.__docgenInfo={description:"",displayName:"withPluginsHydration",props:{installedPlugins:{defaultValue:null,description:"",name:"installedPlugins",required:!0,type:{name:"string[]"}},activePlugins:{defaultValue:null,description:"",name:"activePlugins",required:!0,type:{name:"string[]"}},jetpackStatus:{defaultValue:null,description:"",name:"jetpackStatus",required:!1,type:{name:"{ isActive: boolean; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/data/src/plugins/with-plugins-hydration.tsx#withPluginsHydration"]={docgenInfo:withPluginsHydration.__docgenInfo,name:"withPluginsHydration",path:"../../packages/js/data/src/plugins/with-plugins-hydration.tsx#withPluginsHydration"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.from-entries.js");var useOptionsHydration=function useOptionsHydration(data){var shouldHydrate=useSelect((function(select){var _select=select(STORE_NAME),isResolving=_select.isResolving,hasFinishedResolution=_select.hasFinishedResolution;return data?Object.fromEntries(Object.keys(data).map((function(name){return[name,!isResolving("getOption",[name])&&!hasFinishedResolution("getOption",[name])]}))):{}}),[]),_useDispatch=useDispatch(STORE_NAME),startResolution=_useDispatch.startResolution,finishResolution=_useDispatch.finishResolution,receiveOptions=_useDispatch.receiveOptions;useEffect((function(){Object.entries(shouldHydrate).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),name=_ref2[0];_ref2[1]&&(startResolution("getOption",[name]),receiveOptions(_defineProperty({},name,data[name])),finishResolution("getOption",[name]))}))}),[shouldHydrate])},withOptionsHydration=function withOptionsHydration(data){return createHigherOrderComponent((function(OriginalComponent){return function(props){return useOptionsHydration(data),createElement(OriginalComponent,props)}}),"withOptionsHydration")};try{useOptionsHydration.displayName="useOptionsHydration",useOptionsHydration.__docgenInfo={description:"",displayName:"useOptionsHydration",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/data/src/options/with-options-hydration.tsx#useOptionsHydration"]={docgenInfo:useOptionsHydration.__docgenInfo,name:"useOptionsHydration",path:"../../packages/js/data/src/options/with-options-hydration.tsx#useOptionsHydration"})}catch(__react_docgen_typescript_loader_error){}try{withOptionsHydration.displayName="withOptionsHydration",withOptionsHydration.__docgenInfo={description:"",displayName:"withOptionsHydration",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/js/data/src/options/with-options-hydration.tsx#withOptionsHydration"]={docgenInfo:withOptionsHydration.__docgenInfo,name:"withOptionsHydration",path:"../../packages/js/data/src/options/with-options-hydration.tsx#withOptionsHydration"})}catch(__react_docgen_typescript_loader_error){}var use_dispatch=__webpack_require__("../../node_modules/.pnpm/@wordpress+data@6.6.1_react@17.0.2/node_modules/@wordpress/data/build-module/components/use-dispatch/use-dispatch.js"),use_select=__webpack_require__("../../node_modules/.pnpm/@wordpress+data@6.6.1_react@17.0.2/node_modules/@wordpress/data/build-module/components/use-select/index.js");function use_user_preferences_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function use_user_preferences_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?use_user_preferences_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):use_user_preferences_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getWooCommerceMeta=function getWooCommerceMeta(user){var wooMeta=user.woocommerce_meta||{};return(0,lodash.mapValues)(wooMeta,(function(data){if(!data||0===data.length)return"";try{return JSON.parse(data)}catch(e){return data}}))};function _updateUserPrefs(){return(_updateUserPrefs=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee2(receiveCurrentUser,user,saveUser,getLastEntitySaveError,userPrefs){var metaData,updatedUser,error,updatedUserResponse;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(metaData=(0,lodash.mapValues)(userPrefs,(function(value){return"string"==typeof value?value:JSON.stringify(value)})),0!==Object.keys(metaData).length){_context2.next=3;break}return _context2.abrupt("return",{error:new Error("Invalid woocommerce_meta data for update."),updatedUser:void 0});case 3:return receiveCurrentUser(use_user_preferences_objectSpread(use_user_preferences_objectSpread({},user),{},{woocommerce_meta:use_user_preferences_objectSpread(use_user_preferences_objectSpread({},user.woocommerce_meta),metaData)})),_context2.next=6,saveUser({id:user.id,woocommerce_meta:metaData});case 6:if(void 0!==(updatedUser=_context2.sent)){_context2.next=10;break}return error=getLastEntitySaveError("root","user",user.id),_context2.abrupt("return",{error,updatedUser});case 10:return updatedUserResponse=use_user_preferences_objectSpread(use_user_preferences_objectSpread({},updatedUser),{},{woocommerce_meta:getWooCommerceMeta(updatedUser)}),_context2.abrupt("return",{updatedUser:updatedUserResponse});case 12:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}var useUserPreferences=function useUserPreferences(){var dispatch=(0,use_dispatch.A)("core"),addEntities=dispatch.addEntities,receiveCurrentUser=dispatch.receiveCurrentUser,saveEntityRecord=dispatch.saveEntityRecord,saveUser=dispatch.saveUser,userData=(0,use_select.A)((function(select){var _select=select("core"),getCurrentUser=_select.getCurrentUser,getEntity=_select.getEntity,getEntityRecord=_select.getEntityRecord,getLastEntitySaveError=_select.getLastEntitySaveError,hasStartedResolution=_select.hasStartedResolution,hasFinishedResolution=_select.hasFinishedResolution;return{isRequesting:hasStartedResolution("getCurrentUser")&&!hasFinishedResolution("getCurrentUser"),user:getCurrentUser(),getCurrentUser,getEntity,getEntityRecord,getLastEntitySaveError}})),userPreferences=userData.user?getWooCommerceMeta(userData.user):{};return use_user_preferences_objectSpread(use_user_preferences_objectSpread({isRequesting:userData.isRequesting},userPreferences),{},{updateUserPreferences:function updateUserPreferences(userPrefs){"function"!=typeof saveUser&&(saveUser=function(){var _ref=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(userToSave){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(Boolean(userData.getEntity("root","user"))){_context.next=4;break}return _context.next=4,addEntities([{name:"user",kind:"root",baseURL:"/wp/v2/users",plural:"users"}]);case 4:return _context.next=6,saveEntityRecord("root","user",userToSave);case 6:return _context.abrupt("return",userData.getEntityRecord("root","user",userToSave.id));case 7:case"end":return _context.stop()}}),_callee)})));return function saveUser(_x6){return _ref.apply(this,arguments)}}());var currentUser=userData.getCurrentUser();return function updateUserPrefs(_x,_x2,_x3,_x4,_x5){return _updateUserPrefs.apply(this,arguments)}(receiveCurrentUser,currentUser,saveUser,userData.getLastEntitySaveError,userPrefs)}})},useUser=function useUser(){var userData=(0,use_select.A)((function(select){var _select=select("core"),getCurrentUser=_select.getCurrentUser,hasStartedResolution=_select.hasStartedResolution,hasFinishedResolution=_select.hasFinishedResolution;return{isRequesting:hasStartedResolution("getCurrentUser")&&!hasFinishedResolution("getCurrentUser"),user:getCurrentUser(),getCurrentUser}}));return{currentUserCan:function currentUserCan(capability){return!(!userData.user||!userData.user.is_super_admin)||!(!userData.user||!userData.user.capabilities[capability])},user:userData.user,isRequesting:userData.isRequesting}},moment_moment=(__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/.pnpm/moment@2.29.4/node_modules/moment/moment.js")),moment_default=__webpack_require__.n(moment_moment);(0,lodash.memoize)((function(_requestString,totals,intervals){return{isEmpty:!1,isError:!1,isRequesting:!1,data:{totals,intervals}}}),(function(requestString,totals,intervals){return[requestString,totals.length,intervals.length].join(":")}));var md5=__webpack_require__("../../node_modules/.pnpm/md5@2.3.0/node_modules/md5/md5.js"),md5_default=__webpack_require__.n(md5),hashExportArgs=function hashExportArgs(args){return md5_default()(utils_getResourceName("export",args))},isExportRequesting=function isExportRequesting(state,selector,selectorArgs){return Boolean(state.requesting[selector]&&state.requesting[selector][hashExportArgs(selectorArgs)])},getExportId=function getExportId(state,exportType,exportArgs){return state.exportIds[exportType]&&state.exportIds[exportType][hashExportArgs(exportArgs)]},getError=function getError(state,selector,selectorArgs){return state.errors[selector]&&state.errors[selector][hashExportArgs(selectorArgs)]};const export_action_types={START_EXPORT:"START_EXPORT",SET_EXPORT_ID:"SET_EXPORT_ID",SET_ERROR:"SET_ERROR",SET_IS_REQUESTING:"SET_IS_REQUESTING"};var export_actions_marked=regenerator_default().mark(startExport);function setExportId(exportType,exportArgs,exportId){return{type:export_action_types.SET_EXPORT_ID,exportType,exportArgs,exportId}}function export_actions_setIsRequesting(selector,selectorArgs,isRequesting){return{type:export_action_types.SET_IS_REQUESTING,selector,selectorArgs,isRequesting}}function export_actions_setError(selector,selectorArgs,error){return{type:export_action_types.SET_ERROR,selector,selectorArgs,error}}function startExport(type,args){var response,_response$data,exportId,message;return regenerator_default().wrap((function startExport$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,export_actions_setIsRequesting("startExport",{type,args},!0);case 2:return _context.prev=2,_context.next=5,fetchWithHeaders({path:"".concat(NAMESPACE,"/reports/").concat(type,"/export"),method:"POST",data:{report_args:args,email:!0}});case 5:return response=_context.sent,_context.next=8,export_actions_setIsRequesting("startExport",{type,args},!1);case 8:if(_response$data=response.data,exportId=_response$data.export_id,message=_response$data.message,!exportId){_context.next=14;break}return _context.next=12,setExportId(type,args,exportId);case 12:_context.next=15;break;case 14:throw new Error(message);case 15:return _context.abrupt("return",response.data);case 18:if(_context.prev=18,_context.t0=_context.catch(2),!(_context.t0 instanceof Error)){_context.next=25;break}return _context.next=23,export_actions_setError("startExport",{type,args},_context.t0.message);case 23:_context.next=26;break;case 25:console.error("Unexpected Error: ".concat(JSON.stringify(_context.t0)));case 26:return _context.next=28,export_actions_setIsRequesting("startExport",{type,args},!1);case 28:throw _context.t0;case 29:case"end":return _context.stop()}}),export_actions_marked,null,[[2,18]])}function export_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function export_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?export_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):export_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const export_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errors:{},requesting:{},exportMeta:{},exportIds:{}},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case export_action_types.SET_IS_REQUESTING:return export_reducer_objectSpread(export_reducer_objectSpread({},state),{},{requesting:export_reducer_objectSpread(export_reducer_objectSpread({},state.requesting),{},(0,defineProperty.A)({},action.selector,export_reducer_objectSpread(export_reducer_objectSpread({},state.requesting[action.selector]),{},(0,defineProperty.A)({},hashExportArgs(action.selectorArgs),action.isRequesting))))});case export_action_types.SET_EXPORT_ID:var exportType=action.exportType,exportArgs=action.exportArgs,exportId=action.exportId;return export_reducer_objectSpread(export_reducer_objectSpread({},state),{},{exportMeta:export_reducer_objectSpread(export_reducer_objectSpread({},state.exportMeta),{},(0,defineProperty.A)({},exportId,{exportType,exportArgs})),exportIds:export_reducer_objectSpread(export_reducer_objectSpread({},state.exportIds),{},(0,defineProperty.A)({},exportType,export_reducer_objectSpread(export_reducer_objectSpread({},state.exportIds[exportType]),{},(0,defineProperty.A)({},hashExportArgs({type:exportType,args:exportArgs}),exportId))))});case export_action_types.SET_ERROR:return export_reducer_objectSpread(export_reducer_objectSpread({},state),{},{errors:export_reducer_objectSpread(export_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},action.selector,export_reducer_objectSpread(export_reducer_objectSpread({},state.errors[action.selector]),{},(0,defineProperty.A)({},hashExportArgs(action.selectorArgs),action.error))))});default:return state}};(0,data_build_module.ti)("wc/admin/export",{reducer:export_reducer,actions:export_actions_namespaceObject,controls:src_controls,selectors:export_selectors_namespaceObject});function import_selectors_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function import_selectors_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?import_selectors_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):import_selectors_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var getImportStarted=function getImportStarted(state){return{activeImport:state.activeImport,lastImportStartTimestamp:state.lastImportStartTimestamp}||{}},getFormSettings=function getFormSettings(state){return{period:state.period,skipPrevious:state.skipPrevious}||{}},getImportStatus=function getImportStatus(state,query){var stringifiedQuery=JSON.stringify(query);return state.importStatus[stringifiedQuery]||{}},getImportTotals=function getImportTotals(state,query){var importTotals=state.importTotals,lastImportStartTimestamp=state.lastImportStartTimestamp;return import_selectors_objectSpread(import_selectors_objectSpread({},importTotals[JSON.stringify(query)]),{},{lastImportStartTimestamp})||{}},getImportError=function getImportError(state,query){var stringifiedQuery=JSON.stringify(query);return state.errors[stringifiedQuery]||!1};const import_action_types={SET_IMPORT_DATE:"SET_IMPORT_DATE",SET_IMPORT_ERROR:"SET_IMPORT_ERROR",SET_IMPORT_PERIOD:"SET_IMPORT_PERIOD",SET_IMPORT_STARTED:"SET_IMPORT_STARTED",SET_IMPORT_STATUS:"SET_IMPORT_STATUS",SET_IMPORT_TOTALS:"SET_IMPORT_TOTALS",SET_SKIP_IMPORTED:"SET_SKIP_IMPORTED"};function setImportStarted(activeImport){return{type:import_action_types.SET_IMPORT_STARTED,activeImport}}function setImportPeriod(date,dateModified){return dateModified?{type:import_action_types.SET_IMPORT_DATE,date}:{type:import_action_types.SET_IMPORT_PERIOD,date}}function setSkipPrevious(skipPrevious){return{type:import_action_types.SET_SKIP_IMPORTED,skipPrevious}}function setImportStatus(query,importStatus){return{type:import_action_types.SET_IMPORT_STATUS,importStatus,query}}function setImportTotals(query,importTotals){return{type:import_action_types.SET_IMPORT_TOTALS,importTotals,query}}function setImportError(queryOrPath,error){return{type:import_action_types.SET_IMPORT_ERROR,error,query:queryOrPath}}function updateImportation(path){var importStarted=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regenerator_default().mark((function _callee(){var response;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,setImportStarted(importStarted);case 2:return _context.prev=2,_context.next=5,(0,data_controls_build_module.nr)({path,method:"POST"});case 5:return response=_context.sent,_context.abrupt("return",response);case 9:return _context.prev=9,_context.t0=_context.catch(2),_context.next=13,setImportError(path,_context.t0);case 13:throw _context.t0;case 14:case"end":return _context.stop()}}),_callee,null,[[2,9]])}))()}var import_resolvers_marked=regenerator_default().mark(resolvers_getImportStatus),import_resolvers_marked2=regenerator_default().mark(resolvers_getImportTotals);function resolvers_getImportStatus(query){var url,response;return regenerator_default().wrap((function getImportStatus$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,url=(0,add_query_args.F)("".concat(NAMESPACE,"/reports/import/status"),"object"===(0,esm_typeof.A)(query)?(0,lodash.omit)(query,["timestamp"]):{}),_context.next=4,(0,data_controls_build_module.nr)({path:url});case 4:return response=_context.sent,_context.next=7,setImportStatus(query,response);case 7:_context.next=13;break;case 9:return _context.prev=9,_context.t0=_context.catch(0),_context.next=13,setImportError(query,_context.t0);case 13:case"end":return _context.stop()}}),import_resolvers_marked,null,[[0,9]])}function resolvers_getImportTotals(query){var url,response;return regenerator_default().wrap((function getImportTotals$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,url=(0,add_query_args.F)("".concat(NAMESPACE,"/reports/import/totals"),query),_context2.next=4,(0,data_controls_build_module.nr)({path:url});case 4:return response=_context2.sent,_context2.next=7,setImportTotals(query,response);case 7:_context2.next=13;break;case 9:return _context2.prev=9,_context2.t0=_context2.catch(0),_context2.next=13,setImportError(query,_context2.t0);case 13:case"end":return _context2.stop()}}),import_resolvers_marked2,null,[[0,9]])}__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.date.now.js");function import_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function import_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?import_reducer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):import_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const import_reducer=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeImport:!1,importStatus:{},importTotals:{},errors:{},lastImportStartTimestamp:0,period:{date:moment_default()().format((0,i18n_build_module.__)("MM/DD/YYYY","woocommerce")),label:"all"},skipPrevious:!0},action=arguments.length>1?arguments[1]:void 0;switch(action.type){case import_action_types.SET_IMPORT_STARTED:var activeImport=action.activeImport;state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{activeImport,lastImportStartTimestamp:activeImport?Date.now():state.lastImportStartTimestamp});break;case import_action_types.SET_IMPORT_PERIOD:state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{period:import_reducer_objectSpread(import_reducer_objectSpread({},state.period),{},{label:action.date}),activeImport:!1});break;case import_action_types.SET_IMPORT_DATE:state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{period:{date:action.date,label:"custom"},activeImport:!1});break;case import_action_types.SET_SKIP_IMPORTED:state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{skipPrevious:action.skipPrevious,activeImport:!1});break;case import_action_types.SET_IMPORT_STATUS:var query=action.query,importStatus=action.importStatus;state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{importStatus:import_reducer_objectSpread(import_reducer_objectSpread({},state.importStatus),{},(0,defineProperty.A)({},JSON.stringify(query),importStatus)),errors:import_reducer_objectSpread(import_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},JSON.stringify(query),!1))});break;case import_action_types.SET_IMPORT_TOTALS:state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{importTotals:import_reducer_objectSpread(import_reducer_objectSpread({},state.importTotals),{},(0,defineProperty.A)({},JSON.stringify(action.query),action.importTotals))});break;case import_action_types.SET_IMPORT_ERROR:state=import_reducer_objectSpread(import_reducer_objectSpread({},state),{},{errors:import_reducer_objectSpread(import_reducer_objectSpread({},state.errors),{},(0,defineProperty.A)({},JSON.stringify(action.query),action.error))})}return state};(0,data_build_module.ti)("wc/admin/import",{reducer:import_reducer,actions:import_actions_namespaceObject,controls:data_controls_build_module.ne,selectors:import_selectors_namespaceObject,resolvers:import_resolvers_namespaceObject})},"../../packages/js/tracks/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{yM:()=>recordEvent});__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.23.5/node_modules/@babel/runtime/helpers/esm/typeof.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.define-property.js");var browser=__webpack_require__("../../node_modules/.pnpm/debug@4.3.4_supports-color@8.1.1/node_modules/debug/src/browser.js"),browser_default=__webpack_require__.n(browser),utils_isDevelopmentMode=!1;__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/web.url-search-params.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.34.0/node_modules/core-js/modules/es.regexp.to-string.js"),browser_default()("wc-admin:tracks:stats");var src_tracksDebug=browser_default()("wc-admin:tracks");function recordEvent(eventName,eventProperties){return src_tracksDebug("recordevent %s %o","wcadmin_"+eventName,eventProperties,{_tqk:window._tkq,shouldRecord:!(utils_isDevelopmentMode||!window._tkq||!window.wcTracks||!window.wcTracks.isEnabled)}),!(!window.wcTracks||"function"!=typeof window.wcTracks.recordEvent)&&(utils_isDevelopmentMode?(window.wcTracks.validateEvent(eventName,eventProperties),!1):void window.wcTracks.recordEvent(eventName,eventProperties))}}}]);