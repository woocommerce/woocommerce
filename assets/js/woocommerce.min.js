jQuery(document).ready(function(f){f(".add_to_cart_button").live("click",function(){var n=f(this);if(n.is(".product_type_simple, .product_type_downloadable, .product_type_virtual")){f(n).addClass("loading");var o={action:"woocommerce_add_to_cart",product_id:f(n).attr("rel"),security:woocommerce_params.add_to_cart_nonce};f("body").trigger("adding_to_cart");f.post(woocommerce_params.ajax_url,o,function(p){o=f.parseJSON(p);if(o.error){alert(o.error);f(n).removeClass("loading");return}fragments=o;if(fragments){f.each(fragments,function(q,r){f(q).addClass("updating")})}f(".widget_shopping_cart, .shop_table.cart, .updating, .cart_totals").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});f(n).addClass("added");f(n).removeClass("loading");if(f(".widget_shopping_cart").size()>0){f(".widget_shopping_cart:eq(0)").load(window.location+" .widget_shopping_cart:eq(0) > *",function(){if(fragments){f.each(fragments,function(q,r){f(q).replaceWith(r)})}f(".widget_shopping_cart, .updating").css("opacity","1").unblock()})}else{if(fragments){f.each(fragments,function(q,r){f(q).replaceWith(r)})}f(".widget_shopping_cart, .updating").css("opacity","1").unblock()}f(".shop_table.cart").load(window.location+" .shop_table.cart:eq(0) > *",function(){f("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');f(".shop_table.cart").css("opacity","1").unblock()});f(".cart_totals").load(window.location+" .cart_totals:eq(0) > *",function(){f(".cart_totals").css("opacity","1").unblock()});f("body").trigger("added_to_cart")});return false}else{return true}});f("select.orderby").change(function(){f(this).closest("form").submit()});f("#rating").hide().before('<p class="stars"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>');f("p.stars a").click(function(){f("#rating").val(f(this).text());f("p.stars a").removeClass("active");f(this).addClass("active");return false});var i=f(".price_slider_amount #min_price").val();var d=f(".price_slider_amount #max_price").val();if(woocommerce_params.min_price){current_min_price=woocommerce_params.min_price}else{current_min_price=i}if(woocommerce_params.max_price){current_max_price=woocommerce_params.max_price}else{current_max_price=d}current_min_price=parseInt(current_min_price);current_max_price=parseInt(current_max_price);f(".price_slider").slider({range:true,animate:true,min:i,max:d,values:[current_min_price,current_max_price],create:function(n,o){if(woocommerce_params.currency_pos=="left"){f(".price_slider_amount span").html(woocommerce_params.currency_symbol+current_min_price+" - "+woocommerce_params.currency_symbol+current_max_price)}else{if(woocommerce_params.currency_pos=="left_space"){f(".price_slider_amount span").html(woocommerce_params.currency_symbol+" "+current_min_price+" - "+woocommerce_params.currency_symbol+" "+current_max_price)}else{if(woocommerce_params.currency_pos=="right"){f(".price_slider_amount span").html(current_min_price+woocommerce_params.currency_symbol+" - "+current_max_price+woocommerce_params.currency_symbol)}else{if(woocommerce_params.currency_pos=="right_space"){f(".price_slider_amount span").html(current_min_price+" "+woocommerce_params.currency_symbol+" - "+current_max_price+" "+woocommerce_params.currency_symbol)}}}}f(".price_slider_amount #min_price").val(current_min_price);f(".price_slider_amount #max_price").val(current_max_price)},slide:function(n,o){if(woocommerce_params.currency_pos=="left"){f(".price_slider_amount span").html(woocommerce_params.currency_symbol+o.values[0]+" - "+woocommerce_params.currency_symbol+o.values[1])}else{if(woocommerce_params.currency_pos=="left_space"){f(".price_slider_amount span").html(woocommerce_params.currency_symbol+" "+o.values[0]+" - "+woocommerce_params.currency_symbol+" "+o.values[1])}else{if(woocommerce_params.currency_pos=="right"){f(".price_slider_amount span").html(o.values[0]+woocommerce_params.currency_symbol+" - "+o.values[1]+woocommerce_params.currency_symbol)}else{if(woocommerce_params.currency_pos=="right_space"){f(".price_slider_amount span").html(o.values[0]+" "+woocommerce_params.currency_symbol+" - "+o.values[1]+" "+woocommerce_params.currency_symbol)}}}}f("input#min_price").val(o.values[0]);f("input#max_price").val(o.values[1])}});f("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />');f(".plus").live("click",function(){var n=parseInt(f(this).prev(".qty").val());if(!n||n==""||n=="NaN"){n=0}f(this).prev(".qty").val(n+1)});f(".minus").live("click",function(){var n=parseInt(f(this).next(".qty").val());if(n=="NaN"){n=1}if(n>1){f(this).next(".qty").val(n-1)}});var b=woocommerce_params.countries.replace(/&quot;/g,'"');var k=f.parseJSON(b);f("select.country_to_state").change(function(){var s=f(this).val();var q=f("#"+f(this).attr("rel"));var t=f(q).attr("name");var p=f(q).attr("id");if(k[s]){var o="";var r=k[s];for(var n in r){o=o+'<option value="'+n+'">'+r[n]+"</option>"}if(f(q).is("input")){f(q).replaceWith('<select name="'+t+'" id="'+p+'"><option value="">'+woocommerce_params.select_state_text+"</option></select>");q=f("#"+f(this).attr("rel"))}f(q).html(o)}else{if(f(q).is("select")){f(q).replaceWith('<input type="text" placeholder="'+woocommerce_params.state_text+'" name="'+t+'" id="'+p+'" />');q=f("#"+f(this).attr("rel"))}}}).change();f("div.woocommerce_tabs .panel").hide();f("div.woocommerce_tabs ul.tabs li a").click(function(){var o=f(this).closest("div.woocommerce_tabs");var n=f(this).attr("href");f("ul.tabs li.active",o).removeClass("active");f("div.panel",o).hide();f("div"+n).show();f(this).parent().addClass("active");return false});f("div.woocommerce_tabs").each(function(){var n=window.location.hash;if(n.toLowerCase().indexOf("comment-")>=0){f("ul.tabs li.reviews_tab a",f(this)).click()}else{f("ul.tabs li:first a",f(this)).click()}});f(".shipping-calculator-form").hide();f(".shipping-calculator-button").click(function(){f(".shipping-calculator-form").slideToggle("slow",function(){})});f(".shipping-calculator-button").click(function(){return false});function a(r,q){var n=true;for(name in r){var p=r[name];var o=q[name];if(p.length!=0&&o.length!=0&&p!=o){n=false}}return n}function m(p){var r=[];for(var o=0;o<product_variations.length;o++){var n=product_variations[o];var q=n.variation_id;if(a(n.attributes,p)){r.push(n)}}return r}function h(n){f(".variations select").each(function(r,s){current_attr_select=f(s);current_attr_select.find("option:gt(0)").attr("disabled","disabled");var q=current_attr_select.attr("name");for(num in n){var o=n[num].attributes;for(attr_name in o){var p=o[attr_name];if(attr_name==q){if(p){current_attr_select.find('option[value="'+p+'"]').removeAttr("disabled")}else{current_attr_select.find("option").removeAttr("disabled")}}}}})}function g(p){var n=f("div.images img:eq(0)");var t=f("div.images a.zoom:eq(0)");var s=f(n).attr("original-src");var r=f(t).attr("original-href");var q=p.image_src;var o=p.image_link;f(".variations_button").show();f(".single_variation").html(p.price_html+p.availability_html);if(!s){f(n).attr("original-src",f(n).attr("src"))}if(!r){f(t).attr("original-href",f(t).attr("href"))}if(q&&q.length>1){f(n).attr("src",q);f(t).attr("href",o)}else{f(n).attr("src",s);f(t).attr("href",r)}f(".single_variation_wrap").slideDown("200")}function c(o){var n=true;var q={};f(".variations select").each(function(){if(o&&f(this).attr("name")==o){n=false;q[f(this).attr("name")]=""}else{if(f(this).val().length==0){n=false}value=f(this).val();value=value.replace('"',"&quot;");q[f(this).attr("name")]=value}});var r=m(q);if(n){var p=r.pop();if(p){f("form input[name=variation_id]").val(p.variation_id);g(p)}else{f(".variations select").val("")}}else{h(r)}}f(".variations select").change(function(){f("form input[name=variation_id]").val("");f(".single_variation_wrap").hide();f(".single_variation").text("");c();f(this).blur();if(f.isFunction(f.uniform.update)){f.uniform.update()}}).focus(function(){c(f(this).attr("name"))}).change();if(woocommerce_params.is_cart==1){f("select#shipping_method").live("change",function(){var o=f("#shipping_method").val();f("div.cart_totals").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});var n={action:"woocommerce_update_shipping_method",security:woocommerce_params.update_shipping_method_nonce,shipping_method:o};f.post(woocommerce_params.ajax_url,n,function(p){f("div.cart_totals").replaceWith(p)})})}if(woocommerce_params.is_checkout==1||woocommerce_params.is_pay_page==1){var l;var j;function e(){if(j){j.abort()}var u=f("#shipping_method").val();var t=f("#billing_country").val();var r=f("#billing_state").val();var n=f("input#billing_postcode").val();if(f("#shiptobilling input").is(":checked")||f("#shiptobilling input").size()==0){var o=f("#billing_country").val();var q=f("#billing_state").val();var s=f("input#billing_postcode").val()}else{var o=f("#shipping_country").val();var q=f("#shipping_state").val();var s=f("input#shipping_postcode").val()}f("#order_methods, #order_review").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});var p={action:"woocommerce_update_order_review",security:woocommerce_params.update_order_review_nonce,shipping_method:u,country:t,state:r,postcode:n,s_country:o,s_state:q,s_postcode:s,post_data:f("form.checkout").serialize()};j=f.ajax({type:"POST",url:woocommerce_params.ajax_url,data:p,success:function(v){f("#order_methods, #order_review").remove();f("#order_review_heading").after(v);f("#order_review input[name=payment_method]:checked").click()}})}f(function(){f("p.password").hide();f("input.show_password").change(function(){f("p.password").slideToggle()});f("div.shipping_address").hide();f("#shiptobilling input").change(function(){f("div.shipping_address").hide();if(!f(this).is(":checked")){f("div.shipping_address").slideDown()}}).change();if(woocommerce_params.option_guest_checkout=="yes"){f("div.create-account").hide();f("input#createaccount").change(function(){f("div.create-account").hide();if(f(this).is(":checked")){f("div.create-account").slideDown()}}).change()}f(".payment_methods input.input-radio").live("click",function(){f("div.payment_box").hide();if(f(this).is(":checked")){f("div.payment_box."+f(this).attr("ID")).slideDown()}});f("#order_review input[name=payment_method]:checked").click();f("form.login").hide();f("a.showlogin").click(function(){f("form.login").slideToggle();return false});f("#shipping_method").live("change",function(){clearTimeout(l);e()});f("input#billing_country, input#billing_state, #billing_postcode, input#shipping_country, input#shipping_state, #shipping_postcode").live("keydown",function(){clearTimeout(l);l=setTimeout("update_checkout()","1000")});f("select#billing_country, select#billing_state, select#shipping_country, select#shipping_state, #shiptobilling input, .update_totals_on_change").live("change",function(){clearTimeout(l);e()});if(woocommerce_params.is_checkout==1){e()}f("form.checkout").submit(function(){var n=this;f(n).block({message:null,overlayCSS:{background:"#fff url("+woocommerce_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:0.6}});f.ajax({type:"POST",url:woocommerce_params.checkout_url,data:f(n).serialize(),success:function(p){f(".woocommerce_error, .woocommerce_message").remove();try{success=f.parseJSON(p);window.location=decodeURI(success.redirect)}catch(o){f(n).prepend(p);f(n).unblock();f("html, body").animate({scrollTop:(f("form.checkout").offset().top-100)},1000)}},dataType:"html"});return false})})}});