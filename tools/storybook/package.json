{
	"name": "@woocommerce/storybook",
	"title": "WooCommerce Storybook",
	"description": "Storybook implementation for WooCommerce",
	"homepage": "https://woocommerce.github.io/woocommerce-admin/#/components/",
	"private": true,
	"repository": {
		"type": "git",
		"url": "https://github.com/woocommerce/woocommerce.git"
	},
	"author": "Automattic",
	"license": "GPL-3.0-or-later",
	"scripts": {
		"build": "pnpm --if-present --workspace-concurrency=Infinity --stream --filter=\"$npm_package_name...\" '/^build:project:.*$/'",
		"build:project": "pnpm --if-present '/^build:project:.*$/'",
		"build:project:storybook": "wireit",
		"watch:build": "pnpm --if-present --workspace-concurrency=Infinity --filter=\"$npm_package_name...\" --parallel '/^watch:build:project:storybook$/'",
		"watch:build:project": "pnpm --if-present '/^watch:build:project:.*$/'",
		"watch:build:project:storybook": "wireit",
		"copy-blocks-storybook-iframe": "cp ../../plugins/woocommerce-blocks/storybook/dist/iframe.html ./storybook-static/assets/woocommerce-blocks",
		"storybook-rtl": "USE_RTL_STYLE=true pnpm storybook",
		"preinstall": "npx only-allow pnpm"
	},
	"engines": {
		"node": "^20.11.1",
		"pnpm": "9.1.3"
	},
	"bugs": {
		"url": "https://github.com/woocommerce/woocommerce/issues"
	},
	"devDependencies": {
		"@babel/plugin-proposal-class-properties": "^7.18.6",
		"@babel/preset-env": "^7.23.5",
		"@babel/preset-react": "7.23.3",
		"@babel/preset-typescript": "^7.23.3",
		"@babel/runtime": "^7.23.5",
		"@storybook/addon-a11y": "7.6.19",
		"@storybook/addon-actions": "7.6.19",
		"@storybook/addon-console": "^1.2.3",
		"@storybook/addon-controls": "7.6.19",
		"@storybook/addon-docs": "7.6.19",
		"@storybook/addon-links": "7.6.19",
		"@storybook/addon-storysource": "7.6.19",
		"@storybook/addon-viewport": "7.6.19",
		"@storybook/addons": "7.6.19",
		"@storybook/api": "7.6.19",
		"@storybook/components": "7.6.19",
		"@storybook/core-events": "7.6.19",
		"@storybook/manager-api": "7.6.19",
		"@storybook/react": "7.6.19",
		"@storybook/react-webpack5": "7.6.19",
		"@storybook/theming": "7.6.19",
		"@woocommerce/admin-library": "workspace:*",
		"@woocommerce/block-library": "workspace:*",
		"@woocommerce/eslint-plugin": "workspace:*",
		"react": "18.3.x",
		"react-dom": "18.3.x",
		"storybook": "7.6.19",
		"typescript": "5.3.x",
		"webpack": "^5.89.0",
		"wireit": "0.14.3"
	},
	"wireit": {
		"build:project:storybook": {
			"command": "storybook build -c ./.storybook --quiet && pnpm run copy-blocks-storybook-iframe",
			"env": {
				"STORYBOOK": "true",
				"BABEL_ENV": "storybook"
			},
			"clean": "if-file-deleted",
			"files": [
				".storybook/*.{js,jsx,ts,tsx,html}",
				"import-wp-css-storybook.sh",
				"../../packages/js/components/src/**/stories/*.story.@(js|tsx)",
				"../../packages/js/experimental/src/**/stories/*.story.@(js|tsx)",
				"../../packages/js/onboarding/src/**/stories/*.story.@(js|tsx)",
				"../../packages/js/product-editor/src/**/*.(stories|story).@(js|tsx)",
				"../../plugins/woocommerce-admin/client/**/stories/*.story.@(js|tsx)"
			],
			"output": [
				"storybook-static"
			],
			"dependencies": [
				"import-wp-css-for-storybook",
				"dependencyOutputs"
			]
		},
		"watch:build:project:storybook": {
			"command": "storybook dev -c ./.storybook -p 6007 --ci",
			"service": true,
			"env": {
				"STORYBOOK": "true",
				"BABEL_ENV": "storybook"
			},
			"dependencies": [
				"import-wp-css-for-storybook",
				"dependencyOutputs"
			]
		},
		"import-wp-css-for-storybook": {
			"command": "./import-wp-css-storybook.sh",
			"output": [
				"wordpress"
			]
		},
		"dependencyOutputs": {
			"allowUsuallyExcludedPaths": true,
			"files": [
				"node_modules/@woocommerce/eslint-plugin/configs",
				"node_modules/@woocommerce/eslint-plugin/rules",
				"node_modules/@woocommerce/eslint-plugin/index.js",
				"node_modules/@woocommerce/block-library/build",
				"node_modules/@woocommerce/block-library/blocks.ini",
				"node_modules/@woocommerce/admin-library/build",
				"package.json"
			]
		}
	}
}
