(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[27],{44:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},537:function(e,t,r){"use strict";var o=r(0),a=r(2),c=r(1),n=r.n(c),l=r(22);function i(e){let{className:t}=e;const r=Object(a.__)("There was an error getting your stats. Please try again.","woocommerce-admin"),c=Object(a.__)("Reload","woocommerce-admin");return Object(o.createElement)(l.EmptyContent,{className:t,title:r,actionLabel:c,actionCallback:()=>{window.location.reload()}})}i.propTypes={className:n.a.string},t.a=i},538:function(e,t,r){"use strict";r.d(t,"e",(function(){return d})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"h",(function(){return O})),r.d(t,"g",(function(){return j}));var o=r(16),a=r(21),c=r.n(a),n=r(5),l=r(13),i=r(12),s=r(539),m=r(23);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.identity;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;const n="function"==typeof e?e(a):e,i=Object(l.getIdsFromQuery)(r);if(i.length<1)return Promise.resolve([]);const s={include:i.join(","),per_page:i.length};return c()({path:Object(o.addQueryArgs)(n,s)}).then(e=>e.map(t))}}d(i.NAMESPACE+"/products/attributes",e=>({key:e.id,label:e.name}));const u=d(i.NAMESPACE+"/products/categories",e=>({key:e.id,label:e.name})),b=d(i.NAMESPACE+"/coupons",e=>({key:e.id,label:e.code})),_=d(i.NAMESPACE+"/customers",e=>({key:e.id,label:e.name})),p=d(i.NAMESPACE+"/products",e=>({key:e.id,label:e.name})),h=d(i.NAMESPACE+"/taxes",e=>({key:e.id,label:Object(s.a)(e)}));function O(e){let{attributes:t,name:r}=e;const o=Object(m.d)("variationTitleAttributesSeparator"," - ");if(r&&r.indexOf(o)>-1)return r;const a=(t||[]).map(e=>{let{option:t}=e;return t}).join(", ");return a?r+o+a:r}const j=d(e=>{let{products:t}=e;return t?i.NAMESPACE+`/products/${t}/variations`:i.NAMESPACE+"/variations"},e=>({key:e.id,label:O(e)}))},539:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var o=r(2);function a(e){return[e.country,e.state,e.name||Object(o.__)("TAX","woocommerce-admin"),e.priority].map(e=>e.toString().toUpperCase().trim()).filter(Boolean).join("-")}},540:function(e,t,r){"use strict";var o=r(0),a=r(2),c=r(14),n=r(68),l=r(8),i=r(5),s=r(1),m=r.n(s),d=r(22),u=r(12),b=r(20),_=r(536),p=r(537),h=r(13);function O(e){return t=>Object(n.format)(e,t)}class j extends o.Component{shouldComponentUpdate(e){return e.isRequesting!==this.props.isRequesting||e.primaryData.isRequesting!==this.props.primaryData.isRequesting||e.secondaryData.isRequesting!==this.props.secondaryData.isRequesting||!Object(i.isEqual)(e.query,this.props.query)}getItemChartData(){const{primaryData:e,selectedChart:t}=this.props;return e.data.intervals.map((function(e){const r={};return e.subtotals.segments.forEach((function(e){if(e.segment_label){const o=r[e.segment_label]?e.segment_label+" (#"+e.segment_id+")":e.segment_label;r[e.segment_id]={label:o,value:e.subtotals[t.key]||0}}})),{date:Object(n.format)("Y-m-d\\TH:i:s",e.date_start),...r}}))}getTimeChartData(){const{query:e,primaryData:t,secondaryData:r,selectedChart:o,defaultDateRange:a}=this.props,c=Object(b.getIntervalForQuery)(e,a),{primary:l,secondary:i}=Object(b.getCurrentDates)(e,a);return t.data.intervals.map((function(t,a){const s=Object(b.getPreviousDate)(t.date_start,l.after,i.after,e.compare,c),m=r.data.intervals[a];return{date:Object(n.format)("Y-m-d\\TH:i:s",t.date_start),primary:{label:`${l.label} (${l.range})`,labelDate:t.date_start,value:t.subtotals[o.key]||0},secondary:{label:`${i.label} (${i.range})`,labelDate:s.format("YYYY-MM-DD HH:mm:ss"),value:m&&m.subtotals[o.key]||0}}}))}getTimeChartTotals(){const{primaryData:e,secondaryData:t,selectedChart:r}=this.props;return{primary:Object(i.get)(e,["data","totals",r.key],null),secondary:Object(i.get)(t,["data","totals",r.key],null)}}renderChart(e,t,r,c){const{emptySearchResults:n,filterParam:l,interactiveLegend:i,itemsLabel:s,legendPosition:m,path:_,query:p,selectedChart:h,showHeaderControls:j,primaryData:y,defaultDateRange:w}=this.props,f=Object(b.getIntervalForQuery)(p,w),v=Object(b.getAllowedIntervalsForQuery)(p,w),g=Object(b.getDateFormatsForInterval)(f,y.data.intervals.length,{type:"php"}),x=n?Object(a.__)("No data for the current search","woocommerce-admin"):Object(a.__)("No data for the selected date range","woocommerce-admin"),{formatAmount:C,getCurrencyConfig:S}=this.context;return Object(o.createElement)(d.Chart,{allowedIntervals:v,data:r,dateParser:"%Y-%m-%dT%H:%M:%S",emptyMessage:x,filterParam:l,interactiveLegend:i,interval:f,isRequesting:t,itemsLabel:s,legendPosition:m,legendTotals:c,mode:e,path:_,query:p,screenReaderFormat:O(g.screenReaderFormat),showHeaderControls:j,title:h.label,tooltipLabelFormat:O(g.tooltipLabelFormat),tooltipTitle:"time-comparison"===e&&h.label||null,tooltipValueFormat:Object(u.getTooltipValueFormat)(h.type,C),chartType:Object(b.getChartTypeForQuery)(p),valueType:h.type,xFormat:O(g.xFormat),x2Format:O(g.x2Format),currency:S()})}renderItemComparison(){const{isRequesting:e,primaryData:t}=this.props;if(t.isError)return Object(o.createElement)(p.a,null);const r=e||t.isRequesting,a=this.getItemChartData();return this.renderChart("item-comparison",r,a)}renderTimeComparison(){const{isRequesting:e,primaryData:t,secondaryData:r}=this.props;if(!t||t.isError||r.isError)return Object(o.createElement)(p.a,null);const a=e||t.isRequesting||r.isRequesting,c=this.getTimeChartData(),n=this.getTimeChartTotals();return this.renderChart("time-comparison",a,c,n)}render(){const{mode:e}=this.props;return"item-comparison"===e?this.renderItemComparison():this.renderTimeComparison()}}j.contextType=_.a,j.propTypes={filters:m.a.array,isRequesting:m.a.bool,itemsLabel:m.a.string,limitProperties:m.a.array,mode:m.a.string,path:m.a.string.isRequired,primaryData:m.a.object,query:m.a.object.isRequired,secondaryData:m.a.object,selectedChart:m.a.shape({key:m.a.string.isRequired,label:m.a.string.isRequired,order:m.a.oneOf(["asc","desc"]),orderby:m.a.string,type:m.a.oneOf(["average","number","currency"]).isRequired}).isRequired},j.defaultProps={isRequesting:!1,primaryData:{data:{intervals:[]},isError:!1,isRequesting:!1},secondaryData:{data:{intervals:[]},isError:!1,isRequesting:!1}};t.a=Object(c.compose)(Object(l.withSelect)((e,t)=>{const{charts:r,endpoint:o,filters:a,isRequesting:c,limitProperties:n,query:l,advancedFilters:s}=t,m=n||[o],d=function e(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||0===t.length)return null;const a=t.slice(0),c=a.pop();if(c.showFilters(r,o)){const e=Object(h.flattenFilters)(c.filters),t=r[c.param]||c.defaultValue||"all";return Object(i.find)(e,{value:t})}return e(a,r,o)}(a,l),b=Object(i.get)(d,["settings","param"]),_=t.mode||function(e,t){if(e&&t){const r=Object(i.get)(e,["settings","param"]);if(!r||Object.keys(t).includes(r))return Object(i.get)(e,["chartMode"])}return null}(d,l)||"time-comparison",{woocommerce_default_date_range:p}=e(u.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings"),O=e(u.REPORTS_STORE_NAME),j={mode:_,filterParam:b,defaultDateRange:p};if(c)return j;const y=m.some(e=>l[e]&&l[e].length);if(l.search&&!y)return{...j,emptySearchResults:!0};const w=r&&r.map(e=>e.key),f=Object(u.getReportChartData)({endpoint:o,dataType:"primary",query:l,selector:O,limitBy:m,filters:a,advancedFilters:s,defaultDateRange:p,fields:w});if("item-comparison"===_)return{...j,primaryData:f};const v=Object(u.getReportChartData)({endpoint:o,dataType:"secondary",query:l,selector:O,limitBy:m,filters:a,advancedFilters:s,defaultDateRange:p,fields:w});return{...j,primaryData:f,secondaryData:v}}))(j)},562:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i}));var o=r(2),a=r(27);const c=Object(a.applyFilters)("woocommerce_admin_revenue_report_charts",[{key:"gross_sales",label:Object(o.__)("Gross sales","woocommerce-admin"),order:"desc",orderby:"gross_sales",type:"currency",isReverseTrend:!1},{key:"refunds",label:Object(o.__)("Returns","woocommerce-admin"),order:"desc",orderby:"refunds",type:"currency",isReverseTrend:!0},{key:"coupons",label:Object(o.__)("Coupons","woocommerce-admin"),order:"desc",orderby:"coupons",type:"currency",isReverseTrend:!1},{key:"net_revenue",label:Object(o.__)("Net sales","woocommerce-admin"),orderby:"net_revenue",type:"currency",isReverseTrend:!1,labelTooltipText:Object(o.__)("Full refunds are not deducted from tax or net sales totals","woocommerce-admin")},{key:"taxes",label:Object(o.__)("Taxes","woocommerce-admin"),order:"desc",orderby:"taxes",type:"currency",isReverseTrend:!1,labelTooltipText:Object(o.__)("Full refunds are not deducted from tax or net sales totals","woocommerce-admin")},{key:"shipping",label:Object(o.__)("Shipping","woocommerce-admin"),orderby:"shipping",type:"currency",isReverseTrend:!1},{key:"total_sales",label:Object(o.__)("Total sales","woocommerce-admin"),order:"desc",orderby:"total_sales",type:"currency",isReverseTrend:!1}]),n=Object(a.applyFilters)("woocommerce_admin_revenue_report_advanced_filters",{filters:{},title:Object(o._x)("Revenue Matches {{select /}} Filters","A sentence describing filters for Revenue. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin")}),l=[];Object.keys(n.filters).length&&(l.push({label:Object(o.__)("All Revenue","woocommerce-admin"),value:"all"}),l.push({label:Object(o.__)("Advanced Filters","woocommerce-admin"),value:"advanced"}));const i=Object(a.applyFilters)("woocommerce_admin_revenue_report_filters",[{label:Object(o.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>l.length>0,filters:l}])},563:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return b}));var o=r(2),a=r(27),c=r(8),n=r(538),l=r(69);const{addCesSurveyForAnalytics:i}=Object(c.dispatch)(l.c),s=Object(a.applyFilters)("woocommerce_admin_products_report_charts",[{key:"items_sold",label:Object(o.__)("Items sold","woocommerce-admin"),order:"desc",orderby:"items_sold",type:"number"},{key:"net_revenue",label:Object(o.__)("Net sales","woocommerce-admin"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:Object(o.__)("Orders","woocommerce-admin"),order:"desc",orderby:"orders_count",type:"number"}]),m={label:Object(o.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:Object(o.__)("All products","woocommerce-admin"),value:"all"},{label:Object(o.__)("Single product","woocommerce-admin"),value:"select_product",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_product",chartMode:"item-comparison",path:["select_product"],settings:{type:"products",param:"products",getLabels:n.d,labels:{placeholder:Object(o.__)("Type to search for a product","woocommerce-admin"),button:Object(o.__)("Single product","woocommerce-admin")}}}]},{label:Object(o.__)("Comparison","woocommerce-admin"),value:"compare-products",chartMode:"item-comparison",settings:{type:"products",param:"products",getLabels:n.d,labels:{helpText:Object(o.__)("Check at least two products below to compare","woocommerce-admin"),placeholder:Object(o.__)("Search for products to compare","woocommerce-admin"),title:Object(o.__)("Compare Products","woocommerce-admin"),update:Object(o.__)("Compare","woocommerce-admin")},onClick:i}}]},d={showFilters:e=>"single_product"===e.filter&&!!e.products&&e["is-variable"],staticParams:["filter","products","chartType","paged","per_page"],param:"filter-variations",filters:[{label:Object(o.__)("All variations","woocommerce-admin"),chartMode:"item-comparison",value:"all"},{label:Object(o.__)("Single variation","woocommerce-admin"),value:"select_variation",subFilters:[{component:"Search",value:"single_variation",path:["select_variation"],settings:{type:"variations",param:"variations",getLabels:n.g,labels:{placeholder:Object(o.__)("Type to search for a variation","woocommerce-admin"),button:Object(o.__)("Single variation","woocommerce-admin")}}}]},{label:Object(o.__)("Comparison","woocommerce-admin"),chartMode:"item-comparison",value:"compare-variations",settings:{type:"variations",param:"variations",getLabels:n.g,labels:{helpText:Object(o.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:Object(o.__)("Search for variations to compare","woocommerce-admin"),title:Object(o.__)("Compare Variations","woocommerce-admin"),update:Object(o.__)("Compare","woocommerce-admin")}}}]},u=Object(a.applyFilters)("woocommerce_admin_products_report_advanced_filters",{filters:{},title:Object(o._x)("Products Match {{select /}} Filters","A sentence describing filters for Products. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin")});Object.keys(u.filters).length&&(m.filters.push({label:Object(o.__)("Advanced Filters","woocommerce-admin"),value:"advanced"}),d.filters.push({label:Object(o.__)("Advanced Filters","woocommerce-admin"),value:"advanced"}));const b=Object(a.applyFilters)("woocommerce_admin_products_report_filters",[m,d])},565:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s}));var o=r(2),a=r(27),c=r(538),n=r(23);const l=Object(a.applyFilters)("woocommerce_admin_orders_report_charts",[{key:"orders_count",label:Object(o.__)("Orders","woocommerce-admin"),type:"number"},{key:"net_revenue",label:Object(o.__)("Net sales","woocommerce-admin"),order:"desc",orderby:"net_total",type:"currency"},{key:"avg_order_value",label:Object(o.__)("Average order value","woocommerce-admin"),type:"currency"},{key:"avg_items_per_order",label:Object(o.__)("Average items per order","woocommerce-admin"),order:"desc",orderby:"num_items_sold",type:"average"}]),i=Object(a.applyFilters)("woocommerce_admin_orders_report_filters",[{label:Object(o.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:Object(o.__)("All orders","woocommerce-admin"),value:"all"},{label:Object(o.__)("Advanced filters","woocommerce-admin"),value:"advanced"}]}]),s=Object(a.applyFilters)("woocommerce_admin_orders_report_advanced_filters",{title:Object(o._x)("Orders match {{select /}} filters","A sentence describing filters for Orders. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin"),filters:{status:{labels:{add:Object(o.__)("Order Status","woocommerce-admin"),remove:Object(o.__)("Remove order status filter","woocommerce-admin"),rule:Object(o.__)("Select an order status filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Order Status{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select an order status","woocommerce-admin")},rules:[{value:"is",label:Object(o._x)("Is","order status","woocommerce-admin")},{value:"is_not",label:Object(o._x)("Is Not","order status","woocommerce-admin")}],input:{component:"SelectControl",options:Object.keys(n.c).map(e=>({value:e,label:n.c[e]}))}},product:{labels:{add:Object(o.__)("Products","woocommerce-admin"),placeholder:Object(o.__)("Search products","woocommerce-admin"),remove:Object(o.__)("Remove products filter","woocommerce-admin"),rule:Object(o.__)("Select a product filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Product{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select products","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","products","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","products","woocommerce-admin")}],input:{component:"Search",type:"products",getLabels:c.d}},variation:{labels:{add:Object(o.__)("Variations","woocommerce-admin"),placeholder:Object(o.__)("Search variations","woocommerce-admin"),remove:Object(o.__)("Remove variations filter","woocommerce-admin"),rule:Object(o.__)("Select a variation filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Variation{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select variation","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","variations","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","variations","woocommerce-admin")}],input:{component:"Search",type:"variations",getLabels:c.g}},coupon:{labels:{add:Object(o.__)("Coupon Codes","woocommerce-admin"),placeholder:Object(o.__)("Search coupons","woocommerce-admin"),remove:Object(o.__)("Remove coupon filter","woocommerce-admin"),rule:Object(o.__)("Select a coupon filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Coupon code{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select coupon codes","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","coupon code","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","coupon code","woocommerce-admin")}],input:{component:"Search",type:"coupons",getLabels:c.b}},customer_type:{labels:{add:Object(o.__)("Customer type","woocommerce-admin"),remove:Object(o.__)("Remove customer filter","woocommerce-admin"),rule:Object(o.__)("Select a customer filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Customer is{{/title}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select a customer type","woocommerce-admin")},input:{component:"SelectControl",options:[{value:"new",label:Object(o.__)("New","woocommerce-admin")},{value:"returning",label:Object(o.__)("Returning","woocommerce-admin")}],defaultOption:"new"}},refunds:{labels:{add:Object(o.__)("Refunds","woocommerce-admin"),remove:Object(o.__)("Remove refunds filter","woocommerce-admin"),rule:Object(o.__)("Select a refund filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Refunds{{/title}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select a refund type","woocommerce-admin")},input:{component:"SelectControl",options:[{value:"all",label:Object(o.__)("All","woocommerce-admin")},{value:"partial",label:Object(o.__)("Partially refunded","woocommerce-admin")},{value:"full",label:Object(o.__)("Fully refunded","woocommerce-admin")},{value:"none",label:Object(o.__)("None","woocommerce-admin")}],defaultOption:"all"}},tax_rate:{labels:{add:Object(o.__)("Tax Rates","woocommerce-admin"),placeholder:Object(o.__)("Search tax rates","woocommerce-admin"),remove:Object(o.__)("Remove tax rate filter","woocommerce-admin"),rule:Object(o.__)("Select a tax rate filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Tax Rate{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select tax rates","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","tax rate","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","tax rate","woocommerce-admin")}],input:{component:"Search",type:"taxes",getLabels:c.f}},attribute:{allowMultiple:!0,labels:{add:Object(o.__)("Attribute","woocommerce-admin"),placeholder:Object(o.__)("Search attributes","woocommerce-admin"),remove:Object(o.__)("Remove attribute filter","woocommerce-admin"),rule:Object(o.__)("Select a product attribute filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Attribute{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select attributes","woocommerce-admin")},rules:[{value:"is",label:Object(o._x)("Is","product attribute","woocommerce-admin")},{value:"is_not",label:Object(o._x)("Is Not","product attribute","woocommerce-admin")}],input:{component:"ProductAttribute"}}}})},566:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return m})),r.d(t,"c",(function(){return u}));var o=r(2),a=r(27),c=r(8),n=r(538),l=r(69);const{addCesSurveyForAnalytics:i}=Object(c.dispatch)(l.c),s=Object(a.applyFilters)("woocommerce_admin_coupons_report_charts",[{key:"orders_count",label:Object(o.__)("Discounted orders","woocommerce-admin"),order:"desc",orderby:"orders_count",type:"number"},{key:"amount",label:Object(o.__)("Amount","woocommerce-admin"),order:"desc",orderby:"amount",type:"currency"}]),m=Object(a.applyFilters)("woocommerce_admin_coupon_report_advanced_filters",{filters:{},title:Object(o._x)("Coupons match {{select /}} filters","A sentence describing filters for Coupons. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin")}),d=[{label:Object(o.__)("All coupons","woocommerce-admin"),value:"all"},{label:Object(o.__)("Single coupon","woocommerce-admin"),value:"select_coupon",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_coupon",chartMode:"item-comparison",path:["select_coupon"],settings:{type:"coupons",param:"coupons",getLabels:n.b,labels:{placeholder:Object(o.__)("Type to search for a coupon","woocommerce-admin"),button:Object(o.__)("Single Coupon","woocommerce-admin")}}}]},{label:Object(o.__)("Comparison","woocommerce-admin"),value:"compare-coupons",settings:{type:"coupons",param:"coupons",getLabels:n.b,labels:{title:Object(o.__)("Compare Coupon Codes","woocommerce-admin"),update:Object(o.__)("Compare","woocommerce-admin"),helpText:Object(o.__)("Check at least two coupon codes below to compare","woocommerce-admin")},onClick:i}}];Object.keys(m.filters).length&&d.push({label:Object(o.__)("Advanced filters","woocommerce-admin"),value:"advanced"});const u=Object(a.applyFilters)("woocommerce_admin_coupons_report_filters",[{label:Object(o.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:d}])},567:function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return _}));var o=r(2),a=r(27),c=r(12),n=r(8),l=r(538),i=r(539),s=r(69);const{addCesSurveyForAnalytics:m}=Object(n.dispatch)(s.c),d=Object(a.applyFilters)("woocommerce_admin_taxes_report_charts",[{key:"total_tax",label:Object(o.__)("Total tax","woocommerce-admin"),order:"desc",orderby:"total_tax",type:"currency"},{key:"order_tax",label:Object(o.__)("Order tax","woocommerce-admin"),order:"desc",orderby:"order_tax",type:"currency"},{key:"shipping_tax",label:Object(o.__)("Shipping tax","woocommerce-admin"),order:"desc",orderby:"shipping_tax",type:"currency"},{key:"orders_count",label:Object(o.__)("Orders","woocommerce-admin"),order:"desc",orderby:"orders_count",type:"number"}]),u=Object(a.applyFilters)("woocommerce_admin_taxes_report_advanced_filters",{filters:{},title:Object(o._x)("Taxes match {{select /}} filters","A sentence describing filters for Taxes. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin")}),b=[{label:Object(o.__)("All taxes","woocommerce-admin"),value:"all"},{label:Object(o.__)("Comparison","woocommerce-admin"),value:"compare-taxes",chartMode:"item-comparison",settings:{type:"taxes",param:"taxes",getLabels:Object(l.e)(c.NAMESPACE+"/taxes",e=>({id:e.id,key:e.id,label:Object(i.a)(e)})),labels:{helpText:Object(o.__)("Check at least two tax codes below to compare","woocommerce-admin"),placeholder:Object(o.__)("Search for tax codes to compare","woocommerce-admin"),title:Object(o.__)("Compare Tax Codes","woocommerce-admin"),update:Object(o.__)("Compare","woocommerce-admin")},onClick:m}}];Object.keys(u.filters).length&&b.push({label:Object(o.__)("Advanced filters","woocommerce-admin"),value:"advanced"});const _=Object(a.applyFilters)("woocommerce_admin_taxes_report_filters",[{label:Object(o.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:b}])},568:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return i}));var o=r(2),a=r(27),c=r(538);const n=Object(a.applyFilters)("woocommerce_admin_downloads_report_charts",[{key:"download_count",label:Object(o.__)("Downloads","woocommerce-admin"),type:"number"}]),l=Object(a.applyFilters)("woocommerce_admin_downloads_report_filters",[{label:Object(o.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:Object(o.__)("All downloads","woocommerce-admin"),value:"all"},{label:Object(o.__)("Advanced filters","woocommerce-admin"),value:"advanced"}]}]),i=Object(a.applyFilters)("woocommerce_admin_downloads_report_advanced_filters",{title:Object(o._x)("Downloads match {{select /}} filters","A sentence describing filters for Downloads. See screen shot for context: https://cloudup.com/ccxhyH2mEDg","woocommerce-admin"),filters:{product:{labels:{add:Object(o.__)("Product","woocommerce-admin"),placeholder:Object(o.__)("Search","woocommerce-admin"),remove:Object(o.__)("Remove product filter","woocommerce-admin"),rule:Object(o.__)("Select a product filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Product{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select product","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","products","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","products","woocommerce-admin")}],input:{component:"Search",type:"products",getLabels:c.d}},customer:{labels:{add:Object(o.__)("Username","woocommerce-admin"),placeholder:Object(o.__)("Search customer username","woocommerce-admin"),remove:Object(o.__)("Remove customer username filter","woocommerce-admin"),rule:Object(o.__)("Select a customer username filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Username{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select customer username","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","customer usernames","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","customer usernames","woocommerce-admin")}],input:{component:"Search",type:"usernames",getLabels:c.c}},order:{labels:{add:Object(o.__)("Order #","woocommerce-admin"),placeholder:Object(o.__)("Search order number","woocommerce-admin"),remove:Object(o.__)("Remove order number filter","woocommerce-admin"),rule:Object(o.__)("Select a order number filter match","woocommerce-admin"),title:Object(o.__)("{{title}}Order #{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select order number","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","order numbers","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","order numbers","woocommerce-admin")}],input:{component:"Search",type:"orders",getLabels:async e=>{const t=e.split(",");return await t.map(e=>({id:e,label:"#"+e}))}}},ip_address:{labels:{add:Object(o.__)("IP Address","woocommerce-admin"),placeholder:Object(o.__)("Search IP address","woocommerce-admin"),remove:Object(o.__)("Remove IP address filter","woocommerce-admin"),rule:Object(o.__)("Select an IP address filter match","woocommerce-admin"),title:Object(o.__)("{{title}}IP Address{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(o.__)("Select IP address","woocommerce-admin")},rules:[{value:"includes",label:Object(o._x)("Includes","IP addresses","woocommerce-admin")},{value:"excludes",label:Object(o._x)("Excludes","IP addresses","woocommerce-admin")}],input:{component:"Search",type:"downloadIps",getLabels:async e=>{const t=e.split(",");return await t.map(e=>({id:e,label:e}))}}}}})},644:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.size,r=void 0===t?24:t,o=e.onClick,l=(e.icon,e.className),i=function(e,t){if(null==e)return{};var r,o,a=function(e,t){if(null==e)return{};var r,o,a={},c=Object.keys(e);for(o=0;o<c.length;o++)r=c[o],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)r=c[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,c),s=["gridicon","gridicons-line-graph",l,!1,!1,!1].filter(Boolean).join(" ");return a.default.createElement("svg",n({className:s,height:r,width:r,onClick:o},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M3 19h18v2H3zm3-3c1.1 0 2-.9 2-2 0-.5-.2-1-.5-1.3L8.8 10H9c.5 0 1-.2 1.3-.5l2.7 1.4v.1c0 1.1.9 2 2 2s2-.9 2-2c0-.5-.2-.9-.5-1.3L17.8 7h.2c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2c0 .5.2 1 .5 1.3L15.2 9H15c-.5 0-1 .2-1.3.5L11 8.2V8c0-1.1-.9-2-2-2s-2 .9-2 2c0 .5.2 1 .5 1.3L6.2 12H6c-1.1 0-2 .9-2 2s.9 2 2 2z"})))};var o,a=(o=r(6))&&o.__esModule?o:{default:o},c=["size","onClick","icon","className"];function n(){return(n=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},645:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.size,r=void 0===t?24:t,o=e.onClick,l=(e.icon,e.className),i=function(e,t){if(null==e)return{};var r,o,a=function(e,t){if(null==e)return{};var r,o,a={},c=Object.keys(e);for(o=0;o<c.length;o++)r=c[o],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)r=c[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,c),s=["gridicon","gridicons-stats-alt",l,!1,!1,!!function(e){return 0==e%18}(r)&&"needs-offset-y"].filter(Boolean).join(" ");return a.default.createElement("svg",n({className:s,height:r,width:r,onClick:o},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M21 21H3v-2h18v2zM8 10H4v7h4v-7zm6-7h-4v14h4V3zm6 3h-4v11h4V6z"})))};var o,a=(o=r(6))&&o.__esModule?o:{default:o},c=["size","onClick","icon","className"];function n(){return(n=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},646:function(e,t,r){},647:function(e,t,r){},668:function(e,t,r){"use strict";r.r(t);var o=r(0),a=r(2),c=r(7),n=r.n(c),l=r(644),i=r.n(l),s=r(645),m=r.n(s),d=r(1),u=r.n(d),b=r(4),_=r(22),p=r(12),h=r(20),O=r(17),j=r(44),y=r.n(j),w=r(13),f=r(15),v=r(19),g=r(540);r(646);class x extends o.Component{constructor(){super(...arguments),y()(this,"handleChartClick",()=>{const{selectedChart:e}=this.props;Object(w.getHistory)().push(this.getChartPath(e))})}getChartPath(e){return Object(w.getNewPath)({chart:e.key},"/analytics/"+e.endpoint,Object(w.getPersistedQuery)())}render(){const{charts:e,endpoint:t,path:r,query:c,selectedChart:n,filters:l}=this.props;return n?Object(o.createElement)("div",{role:"presentation",className:"woocommerce-dashboard__chart-block-wrapper",onClick:this.handleChartClick},Object(o.createElement)(b.Card,{className:"woocommerce-dashboard__chart-block"},Object(o.createElement)(b.CardHeader,null,Object(o.createElement)(v.Text,{as:"h3",size:16,weight:600,color:"#23282d"},n.label)),Object(o.createElement)(b.CardBody,{size:null},Object(o.createElement)("a",{className:"screen-reader-text",href:Object(f.getAdminLink)(this.getChartPath(n))},Object(a.sprintf)(Object(a.__)("%s Report","woocommerce-admin"),n.label)),Object(o.createElement)(g.a,{charts:e,endpoint:t,query:c,interactiveLegend:!1,legendPosition:"bottom",path:r,selectedChart:n,showHeaderControls:!1,filters:l})))):null}}x.propTypes={charts:u.a.array,endpoint:u.a.string.isRequired,path:u.a.string.isRequired,query:u.a.object.isRequired,selectedChart:u.a.object.isRequired};var C=x,S=r(27),k=r(565),T=r(563),R=r(562),E=r(566),F=r(567),A=r(568);const P={revenue:R.b,orders:k.b,products:T.b,coupons:E.b,taxes:F.b,downloads:A.b},q=[{label:Object(a.__)("Total sales","woocommerce-admin"),report:"revenue",key:"total_sales"},{label:Object(a.__)("Net sales","woocommerce-admin"),report:"revenue",key:"net_revenue"},{label:Object(a.__)("Orders","woocommerce-admin"),report:"orders",key:"orders_count"},{label:Object(a.__)("Average order value","woocommerce-admin"),report:"orders",key:"avg_order_value"},{label:Object(a.__)("Items sold","woocommerce-admin"),report:"products",key:"items_sold"},{label:Object(a.__)("Returns","woocommerce-admin"),report:"revenue",key:"refunds"},{label:Object(a.__)("Discounted orders","woocommerce-admin"),report:"coupons",key:"orders_count"},{label:Object(a.__)("Gross discounted","woocommerce-admin"),report:"coupons",key:"amount"},{label:Object(a.__)("Total tax","woocommerce-admin"),report:"taxes",key:"total_tax"},{label:Object(a.__)("Order tax","woocommerce-admin"),report:"taxes",key:"order_tax"},{label:Object(a.__)("Shipping tax","woocommerce-admin"),report:"taxes",key:"shipping_tax"},{label:Object(a.__)("Shipping","woocommerce-admin"),report:"revenue",key:"shipping"},{label:Object(a.__)("Downloads","woocommerce-admin"),report:"downloads",key:"download_count"}],D=Object(S.applyFilters)("woocommerce_admin_dashboard_charts_filter",q.map(e=>({...P[e.report].find(t=>t.key===e.key),label:e.label,endpoint:e.report})));r(647);const I=e=>{const{controls:t,hiddenBlocks:r,isFirst:c,isLast:l,onMove:s,onRemove:d,onTitleBlur:u,onTitleChange:j,onToggleHiddenBlock:y,path:w,title:f,titleInput:v,filters:g,defaultDateRange:x}=e,{updateUserPreferences:S,...k}=Object(p.useUserPreferences)(),[T,R]=Object(o.useState)(k.dashboard_chart_type||"line"),[E,F]=Object(o.useState)(k.dashboard_chart_interval||"day"),A={...e.query,chartType:T,interval:E},P=e=>()=>{R(e);S({dashboard_chart_type:e}),Object(O.recordEvent)("dash_charts_type_toggle",{chart_type:e})};return Object(o.createElement)("div",{className:"woocommerce-dashboard__dashboard-charts"},Object(o.createElement)(_.SectionHeader,{title:f||Object(a.__)("Charts","woocommerce-admin"),menu:Object(o.createElement)(_.EllipsisMenu,{label:Object(a.__)("Choose which charts to display","woocommerce-admin"),renderContent:e=>{let{onToggle:n}=e;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(_.MenuTitle,null,Object(a.__)("Charts","woocommerce-admin")),(e=>{let{hiddenBlocks:t,onToggleHiddenBlock:r}=e;return D.map(e=>{const a=e.endpoint+"_"+e.key,c=!t.includes(a);return Object(o.createElement)(_.MenuItem,{checked:c,isCheckbox:!0,isClickable:!0,key:e.endpoint+"_"+e.key,onInvoke:()=>{r(a)(),Object(O.recordEvent)("dash_charts_chart_toggle",{status:c?"off":"on",key:a})}},e.label)})})({hiddenBlocks:r,onToggleHiddenBlock:y}),Object(o.createElement)(t,{onToggle:n,onMove:s,onRemove:d,isFirst:c,isLast:l,onTitleBlur:u,onTitleChange:j,titleInput:v}))}}),className:"has-interval-select"},(e=>{let{chartInterval:t,setInterval:r,query:c,defaultDateRange:n}=e;const l=Object(h.getAllowedIntervalsForQuery)(c,n);if(!l||l.length<1)return null;const i={hour:Object(a.__)("By hour","woocommerce-admin"),day:Object(a.__)("By day","woocommerce-admin"),week:Object(a.__)("By week","woocommerce-admin"),month:Object(a.__)("By month","woocommerce-admin"),quarter:Object(a.__)("By quarter","woocommerce-admin"),year:Object(a.__)("By year","woocommerce-admin")};return Object(o.createElement)(b.SelectControl,{className:"woocommerce-chart__interval-select",value:t,options:l.map(e=>({value:e,label:i[e]})),"aria-label":"Chart period",onChange:r})})({chartInterval:E,setInterval:e=>{F(e);S({dashboard_chart_interval:e}),Object(O.recordEvent)("dash_charts_interval",{interval:e})},query:A,defaultDateRange:x}),Object(o.createElement)(b.NavigableMenu,{className:"woocommerce-chart__types",orientation:"horizontal",role:"menubar"},Object(o.createElement)(b.Button,{className:n()("woocommerce-chart__type-button",{"woocommerce-chart__type-button-selected":!A.chartType||"line"===A.chartType}),title:Object(a.__)("Line chart","woocommerce-admin"),"aria-checked":"line"===A.chartType,role:"menuitemradio",tabIndex:"line"===A.chartType?0:-1,onClick:P("line")},Object(o.createElement)(i.a,null)),Object(o.createElement)(b.Button,{className:n()("woocommerce-chart__type-button",{"woocommerce-chart__type-button-selected":"bar"===A.chartType}),title:Object(a.__)("Bar chart","woocommerce-admin"),"aria-checked":"bar"===A.chartType,role:"menuitemradio",tabIndex:"bar"===A.chartType?0:-1,onClick:P("bar")},Object(o.createElement)(m.a,null)))),(e=>{let{hiddenBlocks:t,path:r,query:a,filters:c}=e;const n=D.reduce((e,t)=>(void 0===e[t.endpoint]&&(e[t.endpoint]=[]),e[t.endpoint].push(t),e),{});return Object(o.createElement)("div",{className:"woocommerce-dashboard__columns"},D.map(e=>t.includes(e.endpoint+"_"+e.key)?null:Object(o.createElement)(C,{charts:n[e.endpoint],endpoint:e.endpoint,key:e.endpoint+"_"+e.key,path:r,query:a,selectedChart:e,filters:c})))})({hiddenBlocks:r,path:w,query:A,filters:g}))};I.propTypes={path:u.a.string.isRequired,query:u.a.object.isRequired,defaultDateRange:u.a.string.isRequired};t.default=I}}]);