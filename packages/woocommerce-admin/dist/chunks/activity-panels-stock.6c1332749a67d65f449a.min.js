(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{119:function(e,t,c){"use strict";var n=c(27),a=c(16),r=c(0);t.a=function(e){var t=e.as,c=void 0===t?"div":t,o=Object(a.a)(e,["as"]);return function(e){var t=e.as,c=void 0===t?"div":t,n=Object(a.a)(e,["as"]);return"function"==typeof n.children?n.children(n):Object(r.createElement)(c,n)}(Object(n.a)({as:c,className:"components-visually-hidden"},o))}},171:function(e,t,c){"use strict";var n=c(0),a=c(10),r=c.n(a),o=c(119);function i(e){var t=e.id,c=e.label,a=e.hideLabelFromVision,s=e.help,l=e.className,u=e.children;return Object(n.createElement)("div",{className:r()("components-base-control",l)},Object(n.createElement)("div",{className:"components-base-control__field"},c&&t&&(a?Object(n.createElement)(o.a,{as:"label",htmlFor:t},c):Object(n.createElement)("label",{className:"components-base-control__label",htmlFor:t},c)),c&&!t&&(a?Object(n.createElement)(o.a,{as:"label"},c):Object(n.createElement)(i.VisualLabel,null,c)),u),!!s&&Object(n.createElement)("p",{id:t+"__help",className:"components-base-control__help"},s))}i.VisualLabel=function(e){var t=e.className,c=e.children;return t=r()("components-base-control__label",t),Object(n.createElement)("span",{className:t},c)},t.a=i},748:function(e,t,c){"use strict";c.d(t,"a",(function(){return S})),c.d(t,"b",(function(){return N}));var n=c(41),a=c.n(n),r=c(40),o=c.n(r),i=c(44),s=c.n(i),l=c(29),u=c.n(l),m=c(42),d=c.n(m),p=c(0),f=c(10),y=c.n(f),b=c(66),h=c.n(b),v=c(12),_=c.n(v),O=c(1),j=c.n(O),E=(c(756),c(63)),w=c(2);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,n=u()(e);if(t){var a=u()(this).constructor;c=Reflect.construct(n,arguments,a)}else c=n.apply(this,arguments);return s()(this,c)}}var k=function(e){d()(c,e);var t=g(c);function c(){return a()(this,c),t.apply(this,arguments)}return o()(c,[{key:"render",value:function(){var e=this.props,t=e.className,c=e.hasAction,n=e.hasDate,a=e.hasSubtitle,r=e.lines,o=y()("woocommerce-activity-card is-loading",t);return Object(p.createElement)("div",{className:o,"aria-hidden":!0},Object(p.createElement)("span",{className:"woocommerce-activity-card__icon"},Object(p.createElement)("span",{className:"is-placeholder"})),Object(p.createElement)("div",{className:"woocommerce-activity-card__header"},Object(p.createElement)("div",{className:"woocommerce-activity-card__title is-placeholder"}),a&&Object(p.createElement)("div",{className:"woocommerce-activity-card__subtitle is-placeholder"}),n&&Object(p.createElement)("div",{className:"woocommerce-activity-card__date"},Object(p.createElement)("span",{className:"is-placeholder"}))),Object(p.createElement)("div",{className:"woocommerce-activity-card__body"},Object(w.range)(r).map((function(e){return Object(p.createElement)("span",{className:"is-placeholder",key:e})}))),c&&Object(p.createElement)("div",{className:"woocommerce-activity-card__actions"},Object(p.createElement)("span",{className:"is-placeholder"})))}}]),c}(p.Component);k.propTypes={className:j.a.string,hasAction:j.a.bool,hasDate:j.a.bool,hasSubtitle:j.a.bool,lines:j.a.number},k.defaultProps={hasAction:!1,hasDate:!1,hasSubtitle:!1,lines:1};var N=k;function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,n=u()(e);if(t){var a=u()(this).constructor;c=Reflect.construct(n,arguments,a)}else c=n.apply(this,arguments);return s()(this,c)}}var S=function(e){d()(c,e);var t=R(c);function c(){return a()(this,c),t.apply(this,arguments)}return o()(c,[{key:"render",value:function(){var e=this.props,t=e.actions,c=e.className,n=e.children,a=e.date,r=e.icon,o=e.subtitle,i=e.title,s=e.unread,l=y()("woocommerce-activity-card",c),u=Array.isArray(t)?t:[t];return Object(p.createElement)("section",{className:l},s&&Object(p.createElement)("span",{className:"woocommerce-activity-card__unread"}),Object(p.createElement)("span",{className:"woocommerce-activity-card__icon","aria-hidden":!0},r),Object(p.createElement)("header",{className:"woocommerce-activity-card__header"},Object(p.createElement)(E.H,{className:"woocommerce-activity-card__title"},i),o&&Object(p.createElement)("div",{className:"woocommerce-activity-card__subtitle"},o),a&&Object(p.createElement)("span",{className:"woocommerce-activity-card__date"},_.a.utc(a).fromNow())),Object(p.createElement)(E.Section,{className:"woocommerce-activity-card__body"},n),t&&Object(p.createElement)("footer",{className:"woocommerce-activity-card__actions"},u.map((function(e,t){return Object(p.cloneElement)(e,{key:t})}))))}}]),c}(p.Component);S.propTypes={actions:j.a.oneOfType([j.a.arrayOf(j.a.element),j.a.element]),className:j.a.string,children:j.a.node.isRequired,date:j.a.string,icon:j.a.node,subtitle:j.a.node,title:j.a.oneOfType([j.a.string,j.a.node]).isRequired,unread:j.a.bool},S.defaultProps={icon:Object(p.createElement)(h.a,{icon:"notice-outline",size:48}),unread:!1}},754:function(e,t,c){"use strict";var n=c(41),a=c.n(n),r=c(40),o=c.n(r),i=c(44),s=c.n(i),l=c(29),u=c.n(l),m=c(42),d=c.n(m),p=c(0),f=c(10),y=c.n(f),b=c(1),h=c.n(b),v=(c(757),c(63));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,n=u()(e);if(t){var a=u()(this).constructor;c=Reflect.construct(n,arguments,a)}else c=n.apply(this,arguments);return s()(this,c)}}var O=function(e){d()(c,e);var t=_(c);function c(){return a()(this,c),t.apply(this,arguments)}return o()(c,[{key:"render",value:function(){var e=this.props,t=e.title,c=e.className,n=e.menu,a=y()("woocommerce-layout__activity-panel-header",c);return Object(p.createElement)("div",{className:a},Object(p.createElement)(v.H,{className:"woocommerce-layout__activity-panel-header-title"},t),n&&Object(p.createElement)("div",{className:"woocommerce-layout__activity-panel-header-menu"},n))}}]),c}(p.Component);O.propTypes={className:h.a.string,title:h.a.string.isRequired,menu:h.a.shape({type:h.a.oneOf([v.EllipsisMenu])})},t.a=O},756:function(e,t,c){},757:function(e,t,c){},914:function(e,t,c){"use strict";c.r(t);var n=c(41),a=c.n(n),r=c(40),o=c.n(r),i=c(44),s=c.n(i),l=c(29),u=c.n(l),m=c(42),d=c.n(m),p=c(0),f=c(3),y=c(256),b=c(1),h=c.n(b),v=c(63),_=c(748),O=c(754),j=c(66),E=c.n(j),w=c(59),g=c.n(w),k=c(88),N=c(171),R=c(10),S=c.n(R),q=c(18),D=c(2),C=c(19),P=c(26);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,n=u()(e);if(t){var a=u()(this).constructor;c=Reflect.construct(n,arguments,a)}else c=n.apply(this,arguments);return s()(this,c)}}var F=function(e){d()(c,e);var t=A(c);function c(e){var n;return a()(this,c),(n=t.call(this,e)).state={quantity:e.product.stock_quantity,editing:!1,edited:!1},n.beginEdit=n.beginEdit.bind(g()(n)),n.cancelEdit=n.cancelEdit.bind(g()(n)),n.onQuantityChange=n.onQuantityChange.bind(g()(n)),n.handleKeyDown=n.handleKeyDown.bind(g()(n)),n.onSubmit=n.onSubmit.bind(g()(n)),n}return o()(c,[{key:"beginEdit",value:function(){var e=this,t=this.props.product;this.setState({editing:!0,quantity:t.stock_quantity},(function(){e.quantityInput&&e.quantityInput.focus()}))}},{key:"cancelEdit",value:function(){var e=this.props.product;this.setState({editing:!1,quantity:e.stock_quantity})}},{key:"handleKeyDown",value:function(e){e.keyCode===q.d&&this.cancelEdit()}},{key:"onQuantityChange",value:function(e){this.setState({quantity:e.target.value})}},{key:"onSubmit",value:function(){var e=this.props,t=e.product,c=e.updateProductStock,n=this.state.quantity;this.setState({editing:!1,edited:!0}),c(t,n)}},{key:"getActions",value:function(){return this.state.editing?[Object(p.createElement)(k.a,{key:"save",type:"submit",isPrimary:!0},Object(f.__)("Save",'woocommerce')),Object(p.createElement)(k.a,{key:"cancel",type:"reset"},Object(f.__)("Cancel",'woocommerce'))]:[Object(p.createElement)(k.a,{key:"update",isDefault:!0,onClick:this.beginEdit},Object(f.__)("Update stock",'woocommerce'))]}},{key:"getBody",value:function(){var e=this,t=this.props.product,c=this.state,n=c.editing,a=c.quantity;return n?Object(p.createElement)(p.Fragment,null,Object(p.createElement)(N.a,{className:"woocommerce-stock-activity-card__edit-quantity"},Object(p.createElement)("input",{className:"components-text-control__input",type:"number",value:a,onKeyDown:this.handleKeyDown,onChange:this.onQuantityChange,ref:function(t){e.quantityInput=t}})),Object(p.createElement)("span",null,Object(f.__)("in stock",'woocommerce'))):Object(p.createElement)("span",{className:"woocommerce-stock-activity-card__stock-quantity"},Object(f.sprintf)(Object(f.__)("%d in stock",'woocommerce'),t.stock_quantity))}},{key:"render",value:function(){var e=this.props.product,t=this.state,c=t.edited,n=t.editing,a=Object(P.g)("notifyLowStockAmount",0),r=Number.isFinite(e.low_stock_amount)?e.low_stock_amount:a,o=e.stock_quantity<=r;if(!o&&!c)return null;var i=Object(p.createElement)(v.Link,{href:"post.php?action=edit&post="+(e.parent_id||e.id),type:"wp-admin"},e.name),s=null;"variation"===e.type&&(s=Object.values(e.attributes).map((function(e){return e.option})).join(", "));var l=Object(D.get)(e,["images",0])||Object(D.get)(e,["image"]),u=S()("woocommerce-stock-activity-card__image-overlay__product",{"is-placeholder":!l||!l.src}),m=Object(p.createElement)("div",{className:"woocommerce-stock-activity-card__image-overlay"},Object(p.createElement)("div",{className:u},Object(p.createElement)(v.ProductImage,{product:e}))),d=S()("woocommerce-stock-activity-card",{"is-dimmed":!n&&!o}),f=Object(p.createElement)(_.a,{className:d,title:i,subtitle:s,icon:m,actions:this.getActions()},this.getBody());return n?Object(p.createElement)("form",{onReset:this.cancelEdit,onSubmit:this.onSubmit},f):f}}]),c}(p.Component),I=Object(y.a)(Object(C.withDispatch)((function(e){return{updateProductStock:e("wc-api").updateProductStock}})))(F),L=c(24),T=c(101);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,n=u()(e);if(t){var a=u()(this).constructor;c=Reflect.construct(n,arguments,a)}else c=n.apply(this,arguments);return s()(this,c)}}var K=function(e){d()(c,e);var t=x(c);function c(){return a()(this,c),t.apply(this,arguments)}return o()(c,[{key:"renderEmptyCard",value:function(){return Object(p.createElement)(_.a,{className:"woocommerce-empty-activity-card",title:Object(f.__)("Your stock is in good shape.",'woocommerce'),icon:Object(p.createElement)(E.a,{icon:"checkmark",size:48})},Object(f.__)("You currently have no products running low on stock.",'woocommerce'))}},{key:"renderProducts",value:function(){var e=this.props.products;return 0===e.length?this.renderEmptyCard():e.map((function(e){return Object(p.createElement)(I,{key:e.id,product:e})}))}},{key:"render",value:function(){var e=this.props,t=e.isError,c=e.isRequesting,n=e.products;if(t){var a=Object(f.__)("There was an error getting your low stock products. Please try again.",'woocommerce'),r=Object(f.__)("Reload",'woocommerce');return Object(p.createElement)(p.Fragment,null,Object(p.createElement)(v.EmptyContent,{title:a,actionLabel:r,actionURL:null,actionCallback:function(){window.location.reload()}}))}var o=c||n.length>0?Object(f.__)("Stock",'woocommerce'):Object(f.__)("No products with low stock",'woocommerce');return Object(p.createElement)(p.Fragment,null,Object(p.createElement)(O.a,{title:o}),Object(p.createElement)(v.Section,null,c?Object(p.createElement)(_.b,{className:"woocommerce-stock-activity-card",hasAction:!0,lines:1}):this.renderProducts()))}}]),c}(p.Component);K.propTypes={products:h.a.array.isRequired,isError:h.a.bool,isRequesting:h.a.bool},K.defaultProps={products:[],isError:!1,isRequesting:!1};t.default=Object(y.a)(Object(T.a)((function(e){var t=e("wc-api"),c=t.getItems,n=t.getItemsError,a=t.isGetItemsRequesting,r={page:1,per_page:L.d.pageSize,low_in_stock:!0,status:"publish"};return{products:Array.from(c("products",r).values()),isError:Boolean(n("products",r)),isRequesting:a("products",r)}})))(K)}}]);
